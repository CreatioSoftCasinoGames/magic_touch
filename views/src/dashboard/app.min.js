var MetronicApp=angular.module("MetronicApp",["ui.router","ui.bootstrap","oc.lazyLoad","ngSanitize","ngCookies","ngTagsInput"]);MetronicApp.config(["$ocLazyLoadProvider",function(e){e.config({})}]),MetronicApp.config(["$controllerProvider",function(e){e.allowGlobals()}]),MetronicApp.config(["$httpProvider",function(e){e.interceptors.push(["$injector",function(e){return{request:function(t){function a(e){var t=angular.copy(e);return delete t.headers,angular.equals(o,t)}var s=e.get("$http"),o=angular.copy(t);return o.headers&&delete o.headers,t.data&&t.data.keyForRakeModules,s.pendingRequests.some(a)?(swal("Info","A Request Already Generated! Please Wait"),t.url="",t.data="",t):t},response:function(e){return e.config.data&&e.config.data.keyForRakeModules&&e.success,e}}}])}]),MetronicApp.factory("settings",["$rootScope",function(e){var t={layout:{pageSidebarClosed:!1,pageContentWhite:!0,pageBodySolid:!1,pageAutoScrollOnLoad:1e3},assetsPath:"../assets",globalPath:"../assets/global",layoutPath:"../assets/layouts/layout2"};return e.settings=t,e.isAdminLogin=!1,e.moduleAccess=!1,e.role=!1,t}]),MetronicApp.controller("AppController",["$scope","$rootScope","$http","$cookies","$window","$state",function(e,t,a,s,o,r){function l(e){if(window.atob)return decodeURIComponent(escape(window.atob(e)));var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=t._utf8_encode(e);u<e.length;)a=e.charCodeAt(u++),s=e.charCodeAt(u++),o=e.charCodeAt(u++),r=a>>2,l=(3&a)<<4|s>>4,n=(15&s)<<2|o>>6,i=63&o,isNaN(s)?n=i=64:isNaN(o)&&(i=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(l)+this._keyStr.charAt(n)+this._keyStr.charAt(i);return c},decode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),n=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=r<<2|l>>4,s=(15&l)<<4|n>>2,o=(3&n)<<6|i,c+=String.fromCharCode(a),64!=n&&(c+=String.fromCharCode(s)),64!=i&&(c+=String.fromCharCode(o));return c=t._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",a=0,s=c1=c2=0;a<e.length;)s=e.charCodeAt(a),s<128?(t+=String.fromCharCode(s),a++):s>191&&s<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&s)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),a+=3);return t}};return decodeURIComponent(escape(t.decode(e)))}setInterval(function(){if(s.get("poker_uniqueSessionId")){var e={};e.userName=t.poker_userName,e.email=t.poker_email,e.uniqueSessionId=t.poker_uniqueSessionId,a({method:"post",url:"/checkUserSessionInDb",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success||(swal({title:"Warning",text:"You have logged in from another device.",showConfirmButton:!0},function(e){e&&o.location.reload()}),s.remove("poker_token"),s.remove("poker_name"),s.remove("poker_role"),s.remove("poker_userName"),s.remove("poker_email"),s.remove("poker_parent"),s.remove("poker_uniqueSessionId"),t.isAdminLogin=!1,t.userName="")},function(e){console.log(e,"err")})}},3e4),o.onfocus=function(){if(s.get("poker_userName"))if(t.userName&&l(s.get("poker_userName"))!=t.userName)swal({title:"Warning",text:"You have been logged with other user.",showConfirmButton:!0},function(e){e&&o.location.reload()});else{t.isAdminLogin=!0,t.poker_token=s.get("poker_token"),t.poker_name=l(s.get("poker_name")),t.poker_role=s.get("poker_role"),t.poker_userName=l(s.get("poker_userName")),t.poker_email=l(s.get("poker_email")),t.poker_parent=l(s.get("poker_parent")),t.poker_uniqueSessionId=l(s.get("poker_uniqueSessionId")),t.poker_loggedinUserMobileNum=l(s.get("poker_loggedinUserMobileNum")),t.role=s.get("poker_role"),t.userName=l(s.get("poker_userName")),7!=JSON.parse(s.get("poker_role")).level;"login"==r.current.name&&r.go("dashboard")}else t.isAdminLogin=!1,s.remove("poker_token"),s.remove("poker_name"),s.remove("poker_role"),s.remove("poker_userName"),s.remove("poker_email"),s.remove("poker_parent"),s.remove("poker_uniqueSessionId"),s.remove("poker_loggedinUserMobileNum"),s.remove("poker_modeAccess"),t.userName="",""!=r.current.name&&"login"!=r.current.name&&o.location.reload()},e.$on("$viewContentLoaded",function(){})}]),MetronicApp.controller("HeaderController",["$scope","$rootScope","$location","$window","$cookies",function(e,t,a,s,o){e.logout=function(){t.isAdminLogin=!1,o.remove("poker_token"),o.remove("poker_name"),o.remove("poker_role"),o.remove("poker_userName"),o.remove("poker_email"),o.remove("poker_parent"),o.remove("poker_uniqueSessionId"),o.remove("poker_loggedinUserMobileNum"),o.remove("poker_modeAccess"),t.userName="",s.location.reload()},e.$on("$includeContentLoaded",function(){Layout.initHeader()})}]),MetronicApp.controller("SidebarController",["$state","$scope","$http","$rootScope","$cookies",function($state,$scope,$http,$rootScope,$cookies){console.log("sidebar controller"),$scope.$on("$includeContentLoaded",function(){Layout.initSidebar($state),$scope.toggleChips=JSON.parse($cookies.get("poker_role"));var checkLoginType=$scope.toggleChips;console.log("=====",$rootScope.poker_role,checkLoginType),$scope.getAffiliateModules=function(){$http({method:"post",url:"/getModuleListAff",data:{},headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?$rootScope.affilateModuleAccess=e.data.result:alert("Not found module for sidebar")},function(e){alert("Getting error from server in login")})},$scope.getAffiliateModules(),checkLoginType.level<=0?$http({method:"post",url:"/getModuleListAff",data:{},headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){console.log("line 107== ",$rootScope.moduleAccess);var t=$rootScope.moduleAccess;if(t)for(i=0;i<e.data.result.length;i++){var a=t.indexOf(e.data.result[i].code.toString());for(a==-1&&(e.data.result[i].status=!1),j=0;j<e.data.result[i].subModule.length;j++){var s=t.indexOf(e.data.result[i].subModule[j].code.toString());if(s==-1&&(e.data.result[i].subModule[j].status=!1),e.data.result[i].subModule[j].subModule)for(k=0;k<e.data.result[i].subModule[j].subModule.length;k++){var s=t.indexOf(e.data.result[i].subModule[j].subModule[k].code.toString());s==-1&&(e.data.result[i].subModule[j].subModule[k].status=!1)}}}$rootScope.moduleAccess={},$rootScope.moduleAccess=e.data.result,$rootScope.affilateModuleAccess=e.data.result,console.log($rootScope.moduleAccess,"==$rootScope.moduleAccess")}else alert("Not found module for sidebar")},function(e){alert("Getting error from server in login")}):$http({method:"post",url:"/getModuleList",data:{},headers:{"Content-Type":"application/json"}}).then(function mySucces(res){if(res.data.success){var moduleAccess=$rootScope.moduleAccess;if(console.log("line 421 ",moduleAccess),moduleAccess&&eval(moduleAccess[0]))for(i=0;i<res.data.result.length;i++){var isAccess=moduleAccess.indexOf(res.data.result[i].code.toString());for(isAccess==-1&&(res.data.result[i].status=!1),j=0;j<res.data.result[i].subModule.length;j++){var isAccess1=moduleAccess.indexOf(res.data.result[i].subModule[j].code.toString());if(isAccess1==-1&&(res.data.result[i].subModule[j].status=!1),res.data.result[i].subModule[j].subModule)for(k=0;k<res.data.result[i].subModule[j].subModule.length;k++){var isAccess1=moduleAccess.indexOf(res.data.result[i].subModule[j].subModule[k].code.toString());isAccess1==-1&&(res.data.result[i].subModule[j].subModule[k].status=!1)}}}if($rootScope.moduleAccess={},$rootScope.moduleAccess=res.data.result,$rootScope.createUserModuleAccess=JSON.stringify(res.data.result),$rootScope.createUserModuleAccess=JSON.parse($rootScope.createUserModuleAccess),console.log($rootScope.moduleAccess,"________$rootScope.moduleAccess"),checkLoginType.level>6){var versionMaintenanceModule={name:"Version & Maintenance",code:2301,iconClass:"icon-settings",status:!0,subModule:[{name:"Create New Version",code:2303,route:"createGameVersion",iconClass:"icon-puzzle",status:!0},{name:"List Versions",code:2304,route:"listGameVersions",iconClass:"icon-puzzle",status:!0},{name:"Schedule Maintenance",code:2305,route:"listScheduledMaintenances",iconClass:"icon-puzzle",status:!0}]};$rootScope.moduleAccess.push(versionMaintenanceModule)}console.log($rootScope.moduleAccess,"==$rootScope.moduleAccess")}else alert("Not found module for sidebar")},function(e){alert("Getting error from server in login")})})}]),MetronicApp.controller("QuickSidebarController",["$scope",function(e){e.$on("$includeContentLoaded",function(){setTimeout(function(){QuickSidebar.init()},2e3)})}]),MetronicApp.controller("ThemePanelController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Demo.init()})}]),MetronicApp.controller("FooterController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Layout.initFooter()})}]);var rootTools=rootTools||{};rootTools.turnTimesList=[{key:"standard",value:30,label:"Standard (30s)"},{key:"turbo",value:20,label:"Turbo (20s)"},{key:"hyTurbo",value:10,label:"Hyper-Turbo (10s)"}],rootTools.websiteLink="http://192.168.2.178/",rootTools.connectorHost="192.168.2.77",rootTools.connectorPort="3050",rootTools.event={},rootTools.broadcast={},rootTools.event.tournamentRoomChange="TOURNAMENTROOMCHANGE",rootTools.event.cashGameTableChange="CASHGAMETABLECHANGE",rootTools.broadcast.tableUpdate="tableUpdate",rootTools.broadcast.addTable="addTable",rootTools.broadcast.removeTable="removeTable",rootTools.employeeList=[{name:"Director",level:6},{name:"General Manager",level:5},{name:"Service Delivery Manager",level:4},{name:"Team Leader",level:3},{name:"Senior Executive",level:2},{name:"Executive",level:1}],rootTools.bonusCodeTypes=[{name:"Sign Up Bonus",type:"signUp"},{name:"One Time Bonus",type:"oneTime"},{name:"Recurring Bonus",type:"recurring"}],rootTools.filterModuleSubAffiliate=[1208,1209,1007,1301,1302,1303,1305],rootTools.filterModuleAffiliate=[2005],rootTools.antiBankingTime=5400,MetronicApp.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/login.html"),e.state("dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",data:{pageTitle:"Admin Dashboard Template"},controller:"DashboardController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/dashboard.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/DashboardController.js"]})}]}}).state("accountDetails",{url:"/accountDetails",templateUrl:"views/accountDetails.html",data:{pageTitle:"Admin Dashboard Template"},controller:"accountDetailsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/dashboard.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/accountDetailsController.js"]})}]}}).state("login",{url:"/login.html",templateUrl:"views/login.html",data:{pageTitle:"Admin Dashboard Template"},controller:"LoginController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/LoginController.js"]})}]}}).state("listTable",{url:"/listTable",templateUrl:"views/listTable.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ListTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/ListTableController.js"]})}]}}).state("createTable",{url:"/createTable",templateUrl:"views/createTable.html",data:{pageTitle:"Admin Dashboard Template"},controller:"CreateTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/CreateTableController.js"]})}]}}).state("viewTable",{url:"/table/view/:tableId",templateUrl:"views/viewTable.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ListTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/ListTableController.js"]})}]}}).state("listRakeRule",{url:"/listRakeRule",templateUrl:"views/listrakerules.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listRakerulesController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listRakerulesController.js"]})}]}}).state("editTable",{url:"/table/edit/:tableId",templateUrl:"views/editTable.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ListTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/ListTableController.js"]})}]}}).state("duplicateTable",{url:"/table/duplicate/:tableId",templateUrl:"views/duplicateTable.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ListTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/ListTableController.js"]})}]}}).state("viewTableUpdates",{url:"/table/viewUpdatesList/:tableId",templateUrl:"views/tableEditReportList.html",data:{pageTitle:"Admin Dashboard Template"},controller:"TableUpdateReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/TableUpdateReportController.js"]})}]}}).state("viewTableEditedFields",{url:"/table/viewEditedFields/:tableUpdateId",templateUrl:"views/viewTableUpdates.html",data:{pageTitle:"Admin Dashboard Template"},controller:"TableEditedFieldsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/TableEditedFieldsController.js"]})}]}}).state("editRakeRules",{url:"/rakeRule/edit/:rakeRuleId",templateUrl:"views/editRakeRule.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listRakerulesController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listRakerulesController.js"]})}]}}).state("createRakeRules",{url:"/createRakeRule",templateUrl:"views/createRakeRule.html",data:{pageTitle:"Admin Dashboard Template"},controller:"createRakeRuleController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/createRakeRuleController.js"]})}]}}).state("duplicateRakeRules",{url:"/rakeRule/duplicate/:rakeRuleId",templateUrl:"views/duplicateRakeRule.html",data:{pageTitle:"Admin Dashboard Template"},controller:"duplicateRakeRulesController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/duplicateRakeRulesController.js"]})}]}}).state("spamWords",{url:"/spamWordsManagement",templateUrl:"views/dictionary.html",data:{pageTitle:"Admin Dashboard Template"},controller:"dictionaryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/dictionaryController.js"]})}]}}).state("generateBonusCode",{url:"/generateBonusCode",templateUrl:"views/generateBonus.html",data:{pageTitle:"Admin Dashboard Template"},controller:"generateBonusCodeController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/generateBonusCodeController.js"]})}]}}).state("generateCardPromotions",{url:"/scratchCard/generate/promotions",templateUrl:"views/generateScratchCardPromotions.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GenerateScratchCardController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/components-date-time-pickers.min.js","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GenerateScratchCardController.js"]})}]}}).state("generateCardEmergency",{url:"/scratchCard/generate/emergency",templateUrl:"views/generateScratchCardEmergency.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GenerateScratchCardController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/global/plugins/morris/morris.css","../assets/pages/scripts/components-date-time-pickers.min.js","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GenerateScratchCardController.js"]})}]}}).state("generateCardAffiliate",{url:"/scratchCard/generate/affilate",templateUrl:"views/generateScratchCardAffilate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GenerateScratchCardController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/components-date-time-pickers.min.js","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GenerateScratchCardController.js"]})}]}}).state("generateCardHighRollers",{url:"/scratchCard/generate/highRollers",templateUrl:"views/generateScratchCardHighRollers.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GenerateScratchCardController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/components-date-time-pickers.min.js","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GenerateScratchCardController.js"]})}]}}).state("listBonusDeposit",{url:"/listBonusDeposit",templateUrl:"views/listBonusDeposit.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listBonusDepositController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","../assets/pages/scripts/pagination.js","js/controllers/listBonusDepositController.js"]})}]}}).state("editBonusCodeDescription",{url:"/listBonusDeposit/editDescription/:bonusCodeId",templateUrl:"views/editBonusCode.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listBonusDepositController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listBonusDepositController.js"]})}]}}).state("approveScratchCard",{url:"/scratchCard/approve",templateUrl:"views/approveScratchCard.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ApproveScratchCardCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","../assets/pages/scripts/pagination.js","js/controllers/approveScratchCardCtrl.js"]})}]}}).state("scratchCardHistory",{url:"/scratchCard/history",templateUrl:"views/scratchCardHistory.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ScratchCardHistoryCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/scratchCardHistoryCtrl.js"]})}]}}).state("scratchCardHistoryAffiliate",{url:"/scratchCard/historyAffiliate",templateUrl:"views/scratchCardHistoryAffiliate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ScratchCardHistoryCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/scratchCardHistoryCtrl.js"]})}]}}).state("blank",{url:"/blank",templateUrl:"views/blank.html",data:{pageTitle:"Blank Page Template"},controller:"BlankController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",
files:["../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/BlankController.js"]})}]}}).state("bonusHistory",{url:"/bonusHistory",templateUrl:"views/bonusHistory.html",data:{pageTitle:"Admin Dashboard Template"},controller:"bonusHistoryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/bonusHistoryController.js"]})}]}}).state("createLoyaltyPoints",{url:"/loyaltyPoints/create",templateUrl:"views/createLoyaltyPoints.html",data:{pageTitle:"Admin Dashboard Template"},controller:"LoyaltyPointsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","js/controllers/LoyaltyPointsController.js"]})}]}}).state("listLoyaltyPoints",{url:"/loyaltyPoints/list",templateUrl:"views/listLoyaltyPoints.html",data:{pageTitle:"Admin Dashboard Template"},controller:"LoyaltyPointsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/LoyaltyPointsController.js"]})}]}}).state("editLoyaltyPoints",{url:"/loyaltyPoints/edit/:loyaltyPointsId",templateUrl:"views/editLoyaltyPoints.html",data:{pageTitle:"Admin Dashboard Template"},controller:"LoyaltyPointsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/LoyaltyPointsController.js"]})}]}}).state("forgotPassword",{url:"/forgotPassword",templateUrl:"views/forgotPassword.html",data:{pageTitle:"Admin Dashboard Template"},controller:"forgotPasswordController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/forgotPasswordController.js"]})}]}}).state("resetPassword",{url:"/resetPassword/:forgotId/:status",templateUrl:"views/resetPassword.html",data:{pageTitle:"Admin Dashboard Template"},controller:"forgotPasswordController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/forgotPasswordController.js"]})}]}}).state("resetPasswordPlayer",{url:"/resetPasswordPlayer/:forgotPlayerId/:status",templateUrl:"views/resetPasswordPlayer.html",data:{pageTitle:"Admin Dashboard Template"},controller:"forgotPasswordController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/forgotPasswordController.js"]})}]}}).state("fileupload",{url:"/file_upload.html",templateUrl:"views/file_upload.html",data:{pageTitle:"AngularJS File Upload"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"angularFileUpload",files:["../assets/global/plugins/angularjs/plugins/angular-file-upload/angular-file-upload.min.js"]},{name:"MetronicApp",files:["../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("uiselect",{url:"/ui_select.html",templateUrl:"views/ui_select.html",data:{pageTitle:"AngularJS Ui Select"},controller:"UISelectController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"ui.select",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/angularjs/plugins/ui-select/select.min.css","../assets/global/plugins/angularjs/plugins/ui-select/select.min.js"]},{name:"MetronicApp",files:["../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/UISelectController.js"]}])}]}}).state("uibootstrap",{url:"/ui_bootstrap.html",templateUrl:"views/ui_bootstrap.html",data:{pageTitle:"AngularJS UI Bootstrap"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"MetronicApp",files:["../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("tree",{url:"/tree",templateUrl:"views/tree.html",data:{pageTitle:"jQuery Tree View"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/jstree/dist/themes/default/style.min.css","../assets/global/plugins/jstree/dist/jstree.min.js","../assets/pages/scripts/ui-tree.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("formtools",{url:"/form-tools",templateUrl:"views/form_tools.html",data:{pageTitle:"Form Tools"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css","../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css","../assets/global/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css","../assets/global/plugins/typeahead/typeahead.css","../assets/global/plugins/fuelux/js/spinner.min.js","../assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js","../assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js","../assets/global/plugins/jquery.input-ip-address-control-1.0.min.js","../assets/global/plugins/bootstrap-pwstrength/pwstrength-bootstrap.min.js","../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js","../assets/global/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js","../assets/global/plugins/bootstrap-touchspin/bootstrap.touchspin.js","../assets/global/plugins/typeahead/handlebars.min.js","../assets/global/plugins/typeahead/typeahead.bundle.min.js","../assets/pages/scripts/components-form-tools-2.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("pickers",{url:"/pickers",templateUrl:"views/pickers.html",data:{pageTitle:"Date & Time Pickers"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/components-date-time-pickers.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("dropdowns",{url:"/dropdowns",templateUrl:"views/dropdowns.html",data:{pageTitle:"Custom Dropdowns"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load([{name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js","../assets/global/plugins/select2/js/select2.full.min.js","../assets/pages/scripts/components-bootstrap-select.min.js","../assets/pages/scripts/components-select2.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]}])}]}}).state("datatablesmanaged",{url:"/datatables/managed.html",templateUrl:"views/datatables/managed.html",data:{pageTitle:"Advanced Datatables"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/datatables/datatables.min.css","../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css","../assets/global/plugins/datatables/datatables.all.min.js","../assets/pages/scripts/table-datatables-managed.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]})}]}}).state("datatablesajax",{url:"/datatables/ajax.html",templateUrl:"views/datatables/ajax.html",data:{pageTitle:"Ajax Datatables"},controller:"GeneralPageController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/datatables/datatables.min.css","../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/datatables/datatables.all.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/scripts/datatable.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/scripts/table-ajax.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GeneralPageController.js"]})}]}}).state("profile",{url:"/profile",templateUrl:"views/profile/main.html",data:{pageTitle:"User Profile"},controller:"UserProfileController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css","../assets/pages/css/profile.css","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js","../assets/pages/scripts/profile.min.js","js/controllers/UserProfileController.js"]})}]}}).state("profile.dashboard",{url:"/dashboard",templateUrl:"views/profile/dashboard.html",data:{pageTitle:"User Profile"}}).state("profile.account",{url:"/account",templateUrl:"views/profile/account.html",data:{pageTitle:"User Account"}}).state("profile.help",{url:"/help",templateUrl:"views/profile/help.html",data:{pageTitle:"User Help"}}).state("todo",{url:"/todo",templateUrl:"views/todo.html",data:{pageTitle:"Todo"},controller:"TodoController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/TodoController.js"]})}]}}).state("listUsers",{url:"/listUsers",templateUrl:"views/listUsers.html",data:{pageTitle:"Todo"},controller:"UserController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/UserController.js"]})}]}}).state("createUser",{url:"/createUser",templateUrl:"views/createUser.html",data:{pageTitle:"Todo"},controller:"UserController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/UserController.js"]})}]}}).state("editUser",{url:"/editUser/:userId",templateUrl:"views/editUser.html",data:{pageTitle:"Admin Dashboard Template"},controller:"UserController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/UserController.js"]})}]}}).state("viewUser",{url:"/viewUser/:userId",templateUrl:"views/viewUser.html",data:{pageTitle:"Admin Dashboard Template"},controller:"UserController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/UserController.js"]})}]}}).state("createAffiliate",{url:"/createAffiliate",templateUrl:"views/createAffiliate.html",data:{pageTitle:"Todo"},controller:"AffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/affiliateModule.js","js/controllers/AffiliateCtrl.js"]})}]}}).state("createSubAffiliateByAdmin",{url:"/createSubAffiliateByAdmin",templateUrl:"views/createSubAffiliateByAdmin.html",data:{pageTitle:"Todo"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/affiliateModule.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("createSubAffiliateByAffiliate",{url:"/createSubAffiliateByAffiliate",templateUrl:"views/createSubAffiliateByAffiliate.html",data:{pageTitle:"Todo"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/affiliateModule.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("listOfAffiliate",{url:"/listOfAffiliate",templateUrl:"views/listOfAffiliate.html",data:{pageTitle:"Todo"},controller:"AffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateCtrl.js"]})}]}}).state("listSubAffiliate",{url:"/listSubAffiliate",templateUrl:"views/listSubAffiliate.html",data:{pageTitle:"Todo"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("editAffiliate",{url:"/listOfAffiliate/edit/:affilateId",templateUrl:"views/createAffiliate.html",data:{pageTitle:"Todo"},controller:"AffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateCtrl.js"]})}]}}).state("editSubAffiliate",{url:"/listSubAffiliate/edit/:subAffilateId",templateUrl:"views/createSubAffiliateByAdmin.html",data:{pageTitle:"Todo"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("viewSubAffiliate",{url:"/listSubAffiliate/view/:subAffilateId",templateUrl:"views/viewSubAffiliateByAdmin.html",data:{pageTitle:"Todo"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("viewAffiliate",{url:"/listOfAffiliate/view/:affilateId",templateUrl:"views/viewAffiliate.html",data:{pageTitle:"Todo"},controller:"AffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateCtrl.js"]})}]}}).state("createPlayer",{url:"/createPlayer",templateUrl:"views/createPlayer.html",data:{pageTitle:"Todo"},controller:"PlayerController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/PlayerController.js"]})}]}}).state("createPlayerByAffiliate",{url:"/createPlayerByAffiliate",templateUrl:"views/createPlayerByAffiliate.html",data:{pageTitle:"Todo"},controller:"PlayerController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/PlayerController.js"]})}]}}).state("transferFund",{url:"/transferFund",templateUrl:"views/fundTransferView.html",data:{pageTitle:"Admin Dashboard Template"},controller:"fundTransferController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","js/controllers/fundTransferController.js"]})}]}}).state("transferFundToAffiliate",{url:"/transferFundToAffiliate",templateUrl:"views/fundTransferToAffiliate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"fundTransferController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","js/controllers/fundTransferController.js"]})}]}}).state("transferFundToSubAffiliate",{url:"/transferFundToSubAffiliate",templateUrl:"views/fundTransferToSubAffiliate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"fundTransferController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","js/controllers/fundTransferController.js"]})}]}}).state("transferHistoryAffiliate",{url:"/transferHistoryAffiliate",templateUrl:"views/fundTransferHistoryAdminToAffiliate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"fundTransferToAffiliateHistory",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/pages/scripts/pagination.js","js/controllers/fundTransferToAffiliateHistory.js"]})}]}}).state("transferHistoryPlayer",{url:"/transferHistoryPlayer",templateUrl:"views/fundTransferHistoryAdmintoPlayer.html",data:{pageTitle:"Admin Dashboard Template"},controller:"fundTransfertoPlayerHistoryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/pages/scripts/pagination.js","js/controllers/fundTransfertoPlayerHistoryController.js"]})}]}}).state("approvePAN",{url:"/approvePANCard",templateUrl:"views/approvePANCard.html",data:{pageTitle:"Admin Dashboard Template"},controller:"ApprovePANCardCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/pages/scripts/pagination.js","js/controllers/approvePANCardCtrl.js"]})}]}}).state("transactionHistoryReport",{url:"/transactionHistoryReport",templateUrl:"views/transactionHistoryReport.html",data:{pageTitle:"Admin Dashboard Template"},controller:"transactionHistoryReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/pages/scripts/pagination.js","js/controllers/transactionHistoryReportController.js"]})}]}}).state("editPlayers",{url:"/player/edit/:playerId",templateUrl:"views/editPlayer.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listPlayersController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listPlayersController.js"]})}]}}).state("listPlayer",{url:"/listPlayer",templateUrl:"views/listPlayers.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listPlayersController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listPlayersController.js"]})}]}}).state("listPlayerAff",{url:"/listPlayerAfiiliate/:affiliateId",templateUrl:"views/listPlayers.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listPlayersController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listPlayersController.js"]})}]}}).state("listSubAffsAff",{url:"/listSubAffsAfiiliate/:affiliateId",templateUrl:"views/listSubAffiliate.html",data:{pageTitle:"Admin Dashboard Template"},controller:"SubAffiliateCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/SubAffiliateCtrl.js"]})}]}}).state("viewPlayers",{url:"/player/view/:playerId",templateUrl:"views/viewPlayers.html",data:{pageTitle:"Admin Dashboard Template"},controller:"listPlayersController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/listPlayersController.js"]})}]}}).state("cashoutRequest",{url:"/cashoutRequest",templateUrl:"views/cashoutRequest.html",data:{pageTitle:"Todo"},controller:"AffiliateWithdrawalCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","js/controllers/AffiliateWithdrawalCtrl.js"]})}]}}).state("pendingCashOut",{url:"/pendingCashOut",templateUrl:"views/pendingCashOut.html",data:{pageTitle:"Todo"},controller:"AffiliateWithdrawalCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateWithdrawalCtrl.js"]})}]}}).state("pendingCashOutAffiliate",{url:"/pendingCashOutAffiliate",
templateUrl:"views/pendingCashOutAffiliate.html",data:{pageTitle:"Todo"},controller:"AffiliateWithdrawalCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateWithdrawalCtrl.js"]})}]}}).state("approveCashout",{url:"/approveCashout",templateUrl:"views/approveCashout.html",data:{pageTitle:"Todo"},controller:"AffiliateWithdrawalApproveCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/AffiliateWithdrawalApproveCtrl.js"]})}]}}).state("findPlayerReport",{url:"/findPlayerReport",templateUrl:"views/playerReport.html",data:{pageTitle:"Todo"},controller:"playerReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/playerReportController.js"]})}]}}).state("findPlayerChart",{url:"/findPlayerChart",templateUrl:"views/playerReportChart.html",data:{pageTitle:"Todo"},controller:"playerReportChartController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/playerReportChartController.js"]})}]}}).state("findPlayerChartGamesPlayed",{url:"/findPlayerChartGamesPlayed",templateUrl:"views/playerReportChartGamesPlayed.html",data:{pageTitle:"Todo"},controller:"playerReportChartGamesPlayedController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/playerReportChartGamesPlayedController.js"]})}]}}).state("profileDetailsPlayer",{url:"/profileDetailsPlayer",templateUrl:"views/personalDetailsCustomerSupport.html",data:{pageTitle:"Todo"},controller:"customerSupportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/customerSupportController.js"]})}]}}).state("transactionHistoryCustomerSupport",{url:"/transactionHistoryCustomerSupport",templateUrl:"views/customerSupportTransactionHistory.html",data:{pageTitle:"Todo"},controller:"customerSupportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/customerSupportController.js"]})}]}}).state("gameProfileDataCustomerSupport",{url:"/gameProfileDataCustomerSupport",templateUrl:"views/gameProfileDetailsCustomerSupport.html",data:{pageTitle:"Todo"},controller:"customerSupportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/customerSupportController.js"]})}]}}).state("gameHistoryCustomerSupport",{url:"/gameHistoryCustomerSupport",templateUrl:"views/gameHistoryCustomerSupport.html",data:{pageTitle:"Todo"},controller:"customerSupportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/customerSupportController.js"]})}]}}).state("cashoutHistory",{url:"/cashoutHistory",templateUrl:"views/cashoutHistory.html",data:{pageTitle:"Todo"},controller:"cashoutHistoryCtrl",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/cashoutHistoryCtrl.js"]})}]}}).state("rakeByDate",{url:"/rake/summary/date",templateUrl:"views/rakeSummaryByDate.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByDateController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByDateController.js"]})}]}}).state("rakeByAffiliateOrPlayer",{url:"/rake/summary/affiliateOrPlayer",templateUrl:"views/rakeSummaryByAffiliateOrPlayer.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByAffiliateOrPlayerController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByAffiliateOrPlayerController.js"]})}]}}).state("rakeDatewise",{url:"/rake/summary/datewise",templateUrl:"views/rakeSummaryDatewise.html",data:{pageTitle:"Todo"},controller:"RakeSummaryAffiliateDatewiseController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryAffiliateDatewiseController.js"]})}]}}).state("rakeByDateAffMod",{url:"/rake/summary/affiliate/date",templateUrl:"views/rakeSummaryByDateAffMod.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByDateController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByDateController.js"]})}]}}).state("rakeByAffiliateOrPlayerAffMod",{url:"/rake/summary/affiliate/affiliateOrPlayer",templateUrl:"views/rakeSummaryByAffiliateOrPlayerAffMod.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByAffiliateOrPlayerController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByAffiliateOrPlayerController.js"]})}]}}).state("rakeDatewiseAffMod",{url:"/rake/summary/affiliate/datewise",templateUrl:"views/rakeSummaryDatewiseAffMod.html",data:{pageTitle:"Todo"},controller:"RakeSummaryAffiliateDatewiseController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryAffiliateDatewiseController.js"]})}]}}).state("rakeReport",{url:"/rake/report",templateUrl:"views/rakeReport.html",data:{pageTitle:"Todo"},controller:"RakeReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeReportController.js"]})}]}}).state("rakeReportAffiliate",{url:"/rake/report/affiliate",templateUrl:"views/rakeReportAffiliate.html",data:{pageTitle:"Todo"},controller:"RakeReportAffiliateController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeReportAffiliateController.js"]})}]}}).state("rakeByCashTable",{url:"/rake/summary/cashTable",templateUrl:"views/rakeSummaryByCashTable.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByCashTableController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByCashTableController.js"]})}]}}).state("gameVariantsRakeReport",{url:"/rake/summary/gameVariants",templateUrl:"views/rakeSummaryByGameVariants.html",data:{pageTitle:"Todo"},controller:"RakeSummaryByGameVariantsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeSummaryByGameVariantsController.js"]})}]}}).state("tableRakeReport",{url:"/rake/tableRakeReport",templateUrl:"views/rakeTableRakeReport.html",data:{pageTitle:"Todo"},controller:"RakeTableRakeReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeTableRakeReportController.js"]})}]}}).state("dailyRakeChart",{url:"/rake/dailyRakeChart",templateUrl:"views/rakedailyRakeChart.html",data:{pageTitle:"Todo"},controller:"RakeDailyRakeChartController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeDailyRakeChartController.js"]})}]}}).state("rakeByTimeOfDay",{url:"/rake/rakeByTimeOfDay",templateUrl:"views/rakeByTimeOfDay.html",data:{pageTitle:"Todo"},controller:"RakeByTimeOfDayController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/RakeByTimeOfDayController.js"]})}]}}).state("dailyChipsReport",{url:"/report/chips/daily",templateUrl:"views/dailyChipsReport.html",data:{pageTitle:"Todo"},controller:"ChipsReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/ChipsReportController.js"]})}]}}).state("monthlyChipsReport",{url:"/report/chips/monthly",templateUrl:"views/monthlyChipsReport.html",data:{pageTitle:"Todo"},controller:"MonthlyChipsReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/MonthlyChipsReportController.js"]})}]}}).state("dailyChipsChart",{url:"/chart/chips/daily",templateUrl:"views/dailyChipsChart.html",data:{pageTitle:"Todo"},controller:"DailyChipsChartController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/DailyChipsChartController.js"]})}]}}).state("cashoutDirect",{url:"/cashoutDirect",templateUrl:"views/cashoutDirectAffSubAff.html",data:{pageTitle:"Todo"},controller:"cashoutDirectAffSubAffController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/cashoutDirectAffSubAffController.js"]})}]}}).state("directCashoutHistory",{url:"/directCashoutHistory",templateUrl:"views/directCashoutHistory.html",data:{pageTitle:"Todo"},controller:"directCashoutHistoryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/directCashoutHistoryController.js"]})}]}}).state("dailyCashoutDataReport",{url:"/directCashoutDailyReport",templateUrl:"views/dailyCashoutReport.html",data:{pageTitle:"Todo"},controller:"dailyCashoutController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/dailyCashoutController.js"]})}]}}).state("monthlyCashoutDataReport",{url:"/monthlyCashoutDataReport",templateUrl:"views/monthlyCashoutReport.html",data:{pageTitle:"Todo"},controller:"monthlyCashoutReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/monthlyCashoutReportController.js"]})}]}}).state("dailyCashoutChart",{url:"/dailyCashoutChart",templateUrl:"views/dailyCashoutChart.html",data:{pageTitle:"Todo"},controller:"dailyCashoutChartController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/dailyCashoutChartController.js"]})}]}}).state("cashoutSubAffiliate",{url:"/cashoutSubAffiliate",templateUrl:"views/cashoutSubAffiliate.html",data:{pageTitle:"Todo"},controller:"cashoutSubAffiliateController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/cashoutSubAffiliateController.js"]})}]}}).state("playerGameHistoryCustomerSupport",{url:"/playerGameHistoryCustomerSupport",templateUrl:"views/playerGameHistoryCustomerSupport.html",data:{pageTitle:"Todo"},controller:"PlayerGameHistoryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/PlayerGameHistoryController.js"]})}]}}).state("activityDetails",{url:"/activityDetails",templateUrl:"views/activityDetails.html",data:{pageTitle:"Admin Dashboard Template"},controller:"activityDetailsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/dashboard.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/activityDetailsController.js"]})}]}}).state("playerMagnetChipsHistoryCustomerSupport",{url:"/customerSupport/playerMagnetChipsHistory",templateUrl:"views/playerMagnetChipsHistory.html",data:{pageTitle:"Todo"},controller:"PlayerMagnetChipsHistoryController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/PlayerMagnetChipsHistoryController.js"]})}]}}).state("createGameVersion",{url:"/createGameVersion",templateUrl:"views/createGameVersion.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GameVersionsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GameVersionsController.js"]})}]}}).state("listGameVersions",{url:"/listGameVersions",templateUrl:"views/listGameVersions.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GameVersionsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GameVersionsController.js"]})}]}}).state("editGameVersion",{url:"/gameVersion/edit/:gameVersionId",templateUrl:"views/editGameVersion.html",data:{pageTitle:"Admin Dashboard Template"},controller:"GameVersionsController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/GameVersionsController.js"]})}]}}).state("listScheduledMaintenances",{url:"/maintenance/list",templateUrl:"views/listMaintenance.html",data:{pageTitle:"Admin Dashboard Template"},controller:"MaintenanceController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/MaintenanceController.js"]})}]}}).state("scheduleMaintenance",{url:"/maintenance/schedule",templateUrl:"views/scheduleMaintenance.html",data:{pageTitle:"Admin Dashboard Template"},controller:"MaintenanceController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/MaintenanceController.js"]})}]}}).state("editMaintenance",{url:"/maintenance/schedule/edit/:maintenanceId",templateUrl:"views/editMaintenance.html",data:{pageTitle:"Admin Dashboard Template"},controller:"MaintenanceController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/morris/morris.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/pages/scripts/pagination.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/MaintenanceController.js"]
})}]}}).state("findMonthlyPlayerBannedReport",{url:"/findMonthlyPlayerBannedReport",templateUrl:"views/monthlyPlayerBannedReport.html",data:{pageTitle:"Todo"},controller:"PlayerBannedReportController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/apps/css/todo-2.css","../assets/global/plugins/select2/css/select2.min.css","../assets/global/plugins/select2/css/select2-bootstrap.min.css","../assets/global/plugins/select2/js/select2.full.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/apps/scripts/todo-2.min.js","../assets/pages/scripts/pagination.js","js/controllers/playerBannedReportController.js"]})}]}}).state("broadcastToGame",{url:"/broadcastToGame",templateUrl:"views/sendBroadcastToGame.html",data:{pageTitle:"Admin Dashboard Template"},controller:"BroadcastManagementController",resolve:{deps:["$ocLazyLoad",function(e){return e.load({name:"MetronicApp",insertBefore:"#ng_load_plugins_before",files:["../assets/global/plugins/clockface/css/clockface.css","../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css","../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css","../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css","../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js","../assets/global/plugins/clockface/js/clockface.js","../assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js","../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.css","../assets/global/plugins/morris/morris.min.js","../assets/global/plugins/morris/raphael-min.js","../assets/global/plugins/jquery.sparkline.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js","../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js","../assets/global/plugins/bootstrap-sweetalert/sweetalert.min.js","js/controllers/BroadcastManagementController.js"]})}]}})}]),MetronicApp.run(["$rootScope","settings","$state","$window","$location",function(e,t,a,s,o){e.$state=a,e.$settings=t,s.addEventListener("offline",function(){swal({title:"Warning",text:"Please Check your Internet Connection.",showConfirmButton:!0},function(e){e&&s.location.reload()})},!1),s.addEventListener("online",function(){o.path("/login.html")},!1),s.onload=function(e){console.error(o.$$path.search("resetPassword")),o.$$path.search("resetPassword")<0&&o.path("/login.html")}}]),MetronicApp.directive("ngSpinnerBar",["$rootScope","$state",function(e,t){return{link:function(t,a,s){a.addClass("hide"),e.$on("$stateChangeStart",function(){a.removeClass("hide")}),e.$on("$stateChangeSuccess",function(t){a.addClass("hide"),$("body").removeClass("page-on-load"),Layout.setAngularJsSidebarMenuActiveLink("match",null,t.currentScope.$state),setTimeout(function(){App.scrollTop()},e.settings.layout.pageAutoScrollOnLoad)}),e.$on("$stateNotFound",function(){a.addClass("hide")}),e.$on("$stateChangeError",function(){a.addClass("hide")})}}}]),MetronicApp.directive("a",function(){return{restrict:"E",link:function(e,t,a){(a.ngClick||""===a.href||"#"===a.href)&&t.on("click",function(e){e.preventDefault()})}}}),MetronicApp.directive("dropdownMenuHover",function(){return{link:function(e,t){t.dropdownHover()}}}),MetronicApp.directive("exportToCsv",function(){return{restrict:"A",link:function(e,t,a){t[0];t.bind("click",function(e){for(var t=e.target.nextElementSibling,a="",s=0;s<t.rows.length;s++){for(var o=t.rows[s].cells,r=0;r<o.length;r++)a=a+o[r].innerHTML+",";a=a.substring(0,a.length-1),a+="\n"}a=a.substring(0,a.length-1);var l=$("<a/>",{style:"display:none",href:"data:application/octet-stream;base64,"+btoa(a),download:"historyStatistics.csv"}).appendTo("body");l[0].click(),l.remove()})}}});var modules=[{name:"Scratch Card Management",code:701,iconClass:"icon-settings",status:!0,subModule:[{name:"Generate Scratch Card",code:702,route:"generateCardPromotions",iconClass:"icon-puzzle",status:!0,subModule:[{name:"Affiliate",code:7021,route:"generateCardAffiliate",iconClass:"icon-puzzle",status:!0}]},{name:"Scratch History",code:704,route:"scratchCardHistory",iconClass:"icon-puzzle",status:!0}]},{name:"Chips Management",code:1e3,iconClass:"icon-settings",status:!0,subModule:[{name:"Transfer To Player",code:1001,route:"transferFund",iconClass:"icon-puzzle",status:!0},{name:"Withdraw Chips",code:1003,route:"withdrawChips",iconClass:"icon-puzzle",status:!0},{name:"Withdraw History",code:1004,route:"withdrawChipsHistory",iconClass:"icon-puzzle",status:!0},{name:"Transfer History Player",code:1005,route:"transferHistoryPlayer",iconClass:"icon-puzzle",status:!0},{name:"Transfer History Affiliate",code:1006,route:"transferHistoryAffiliate",iconClass:"icon-puzzle",status:!0}]}];"undefined"!=typeof Storage?localStorage.setItem("modules",JSON.stringify(modules)):console.log("no Storage found.");var TableAjax=function(){var e=function(){$(".date-picker").datepicker({rtl:App.isRTL(),autoclose:!0})},t=function(){var e=new Datatable;e.init({src:$("#datatable_ajax"),onSuccess:function(e){},onError:function(e){},loadingMessage:"Loading...",dataTable:{bStateSave:!0,lengthMenu:[[10,20,50,100,150,-1],[10,20,50,100,150,"All"]],pageLength:10,ajax:{url:"demo/table_ajax.php"},order:[[1,"asc"]]}}),e.getTableWrapper().on("click",".table-group-action-submit",function(t){t.preventDefault();var a=$(".table-group-action-input",e.getTableWrapper());""!=a.val()&&e.getSelectedRowsCount()>0?(e.setAjaxParam("customActionType","group_action"),e.setAjaxParam("customActionName",a.val()),e.setAjaxParam("id",e.getSelectedRows()),e.getDataTable().ajax.reload(),e.clearAjaxParams()):""==a.val()?App.alert({type:"danger",icon:"warning",message:"Please select an action",container:e.getTableWrapper(),place:"prepend"}):0===e.getSelectedRowsCount()&&App.alert({type:"danger",icon:"warning",message:"No record selected",container:e.getTableWrapper(),place:"prepend"})})};return{init:function(){e(),t()}}}();angular.module("MetronicApp").controller("AffiliateCtrl",["$location","$window","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l,n){if(o.$on("$viewContentLoaded",function(){App.initAjax()}),!s.isAdminLogin)return console.log("yes",s.role),void e.path("/login.html");s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,o.affiliateData={},o.affiliateData.module=[],o.selectedList={},o.xyz=!0,o.checkEdit=!1,$(".date-picker").datepicker({autoclose:!0});var i=JSON.stringify(s.affilateModuleAccess);i=JSON.parse(i);for(var c in i)for(var u in i[c].subModule)rootTools.filterModuleAffiliate.indexOf(i[c].subModule[u].code)>-1&&(i[c].subModule[u].status=!1);o.affilateModuleAccess=i,o.pageSize=20,o.currentPage=1,o.totalPage=0,o.newPageList=function(){o.listUsers("",(o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.newPageListSubAffiliates=function(){o.listSubAffiliates("",(o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)};var d={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email};o.affiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"affiliate",level:0},dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:s.poker_userName,dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateDataAdmin={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:"",dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0};var p=function(){o.affiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"affiliate",level:0},dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:s.poker_userName,dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateDataAdmin={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:"",dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0}};o.changeModule=function(e,t,a,s){if(s){var r=!1;a.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),o.selectedList[a.code]=r}if(a){var r=!1;t.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),o.selectedList[t.code]=r}a||s||!t.subModule?!s&&a&&a.subModule&&a.subModule.forEach(function(t){o.selectedList[t.code]=e}):t.subModule.forEach(function(t){o.selectedList[t.code]=e,t.subModule&&t.subModule.forEach(function(t){o.selectedList[t.code]=e})})},o.submit=function(){var e=[];$("input:checked").each(function(){e.push($(this).attr("value"))}),o.affiliateData.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.affiliateData.dob))>0&&(o.affiliateData.dob=Number(new Date(o.affiliateData.dob))),r({method:"post",url:"/createNewAffiliate",data:o.affiliateData,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Affiliate Created Successfully"),o.affiliateData.module="",o.affiliateData.dob="",o.affiliateForm.$setPristine();for(var t in o.selectedList)o.selectedList[t]=!1;o.affiliateData.role={},o.affiliateData.role.name="affiliate",o.affiliateData.cnfpassword="",p()}else swal(e.data.info),o.affiliateData.dob=new Date(o.affiliateData.dob),o.affiliateData.dob=o.affiliateData.dob.toISOString().split("T")[0]},function(e){swal("Error!","Getting error from server in login!")})},o.getAffiliateCount=function(){r.get("/getAffiliateCount").success(function(e){e.success?(console.log("line 235== ",e.result),o.totalPage=e.result,o.newPageList()):(o.totalPage=0,swal("Missing Keys"))}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},o.getSubAffiliateCount=function(){r.get("/getSubAffiliateCount").success(function(e){e.success?(o.totalPage=e.result,o.newPageListSubAffiliates()):(o.totalPage=0,swal("Missing Keys"))}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},o.listUsers=function(e,t,a,s){var l={};l.roleName="affiliate",l.skip=t,l.limit=a,e&&(l._id=e),o.status&&(l.status=o.status),o.name&&(l.name=o.name),o.email&&(l.email=o.email),o.loginId&&(l.loginId=o.loginId),r({method:"post",url:"/listAffiliate",data:l,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(o.dataList=t.data.result,1==t.data.result.length&&(o.totalPage=0),0==t.data.result.length&&(o.totalPage=0,swal("No data found.")),e){o.affiliateData=o.dataList[0],o.affiliateData.dob=n("date")(o.affiliateData.dob,"yyyy-MM-dd");for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0}}else swal("Error!",t.data.info);s instanceof Function&&s()},function(e){swal("Error!","Getting error from server in login")})},o.listSubAffiliates=function(e,t,a){var l={};l.roleName="affiliate",l.skip=t,l.limit=a,0==JSON.parse(s.poker_role).level&&(l.parentUser=s.poker_userName,o.setDisabled=!0),e&&(l._id=e),o.status&&(l.status=o.status),o.name&&(l.name=o.name),o.email&&(l.email=o.email),o.loginId&&(l.loginId=o.loginId),r({method:"post",url:"/listSubAffiliate",data:l,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(o.dataList=t.data.result,o.totalPage=0,e){o.subAffiliateDataAdmin=o.dataList[0],o.subAffiliateDataAdmin.dob=n("date")(o.subAffiliateDataAdmin.dob,"yyyy-MM-dd");for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0}}else swal("Error!",t.data.info)},function(e){swal("Error!","Getting error from server in login")})},o.checkAge=function(e){var t=new Date,e=new Date(e),a=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();(s<0||0===s&&t.getDate()<e.getDate())&&a--,a<18&&(swal("Info!","You are less than 18 years so your account cannot be created."),o.affiliateData.dob=null,o.subAffiliateData.dob=null,o.subAffiliateDataAdmin.dob=null)},o.cancelSubmit=function(){o.affiliateData={},e.path("/listOfAffiliate")},o.submitUpdate=function(){var t=[];$("input:checked").each(function(){t.push($(this).attr("value"))}),o.affiliateData.module=t.filter(function(e){return void 0!=e}),Number(new Date(o.affiliateData.dob))>0&&null!==o.affiliateData.dob&&(o.affiliateData.dob=Number(new Date(o.affiliateData.dob))),r({method:"post",url:"/updateAffiliate",data:o.affiliateData,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Affiliate successfully updated"),o.affiliateData={},e.path("/listOfAffiliate")):swal(t.data.info)},function(e){swal("Error!","Getting error from server in login!")})},o.updateSubAffiliateByAdmin=function(){var t=[];$("input:checked").each(function(){t.push($(this).attr("value"))}),o.subAffiliateDataAdmin.module=t.filter(function(e){return void 0!=e});var a=angular.copy(o.subAffiliateDataAdmin);Number(new Date(o.subAffiliateDataAdmin.dob))>0&&null!==o.subAffiliateDataAdmin.dob&&(a.dob=Number(new Date(o.subAffiliateDataAdmin.dob))),r({method:"post",url:"/updateSubAffiliate",data:a,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Sub-affiliate Successfully updated"),o.affiliateData={},e.path("/listSubAffiliate")):swal(t.data.info)},function(e){swal("Error!","Getting error from server in login!")})},l.affilateId&&(o.checkEdit=!0,o.listUsers(l.affilateId,0,0)),l.subAffilateId&&(o.checkEdit=!0,o.listSubAffiliates(l.subAffilateId,0,0)),o.submitByAdmin=function(){var e=[];$("input:checked").each(function(){e.push($(this).attr("value"))}),o.subAffiliateDataAdmin.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.subAffiliateDataAdmin.dob))>0&&(o.subAffiliateDataAdmin.dob=Number(new Date(o.subAffiliateDataAdmin.dob))),r({method:"post",url:"/createSubAffiliate",data:o.subAffiliateDataAdmin,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Successfully created sub-affilate!"),o.subAffiliateDataAdmin={},o.affiliateForm.$setPristine();for(var t in o.selectedList)o.selectedList[t]=!1;o.subAffiliateDataAdmin.role={},o.subAffiliateDataAdmin.role.name="subAffiliate",p()}else swal(e.data.info)},function(e){swal("Error!","Getting error from server!")})},o.submitByAffiliate=function(){var e=[];$("input:checked").each(function(){e.push($(this).attr("value"))}),o.subAffiliateData.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.subAffiliateData.dob))>0&&(o.subAffiliateData.dob=Number(new Date(o.subAffiliateData.dob))),r({method:"post",url:"/createSubAffiliate",data:o.subAffiliateData,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Successfully created sub-affilate!"),o.subAffiliateData={},o.affiliateForm.$setPristine();for(var t in o.selectedList)o.selectedList[t]=!1;o.subAffiliateData.role={},o.subAffiliateData.role.name="subAffiliate",p()}else swal(e.data.info)},function(e){swal("Error!","Getting error from server!")})},o.searchFunction=function(){o.status||o.name||o.email||o.loginId?o.getAffiliateCount():swal("Please provide at least one input.")},o.reset=function(){o.status="",o.name="",o.email="",o.loginId="",o.getAffiliateCount()};var m=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){o.listUsers("",0,0,function(){t.scrollTo(0,0),setTimeout(function(){location.href=m(e,"sheet_name")},500)})}}]),angular.module("MetronicApp").controller("AffiliateWithdrawalApproveCtrl",["$location","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l){function n(e,t,a){o({method:"post",url:"/insertIntoCashoutHistory/onTransfer",data:a,headers:{"Content-Type":"application/json"}}).then(function(a){a.data.success?(swal("Transfer successful!"),i(e,t)):(s.dataList.splice(e,1),swal("Error!",a.data.info))},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})}function i(e,t){o({method:"post",url:"/removeFromCashsoutApprovel",data:{_id:t},headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(console.log(t.data),s.dataList.splice(e,1)):swal("Error!",t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})}s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.listApproveCashOutRequest((s.currentPage-1)*s.pageSize,s.pageSize)};var c={name:a.poker_name,userName:a.poker_userName,role:JSON.parse(a.poker_role),id:a.poker_email,mobile:a.poker_loggedinUserMobileNum};console.log("*^*^*^*^*^*^*^*^*^*^*^*^*^*",JSON.stringify(c)),s.getApproveCashoutCount=function(){console.log("getApproveCashoutCount-----------");var e={};s.referenceNo&&(e.referenceNo=s.referenceNo),o({method:"post",url:"/approveCashoutCount",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(s.totalPage=e.data.result,console.log("getApproveCashoutCount_______________"+s.totalPage),0==e.data.result&&swal("No data found!"),s.newPageList()):swal("Error!",e.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in showing history")})},s.listApproveCashOutRequest=function(e,t){var a={};s.referenceNo&&(a.referenceNo=s.referenceNo),a.skip=e,a.limit=t,o({method:"post",url:"/listApproveCashOutRequest",data:a,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(console.log(e.data),s.dataList=e.data.result):swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.transfer=function(e,t,a){swal({title:"Transaction",text:'<div><h4><label>Transaction ID: </label><br><input type="text" id="transactionId" required><br><label>Supervised By: </label><br><input type="text" id="supervisedby" required></h4></div>',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){s.transactionId=$("#transactionId").val(),s.supervisedby=$("#supervisedby").val(),s.transactionId=s.transactionId.trim(),s.supervisedby=s.supervisedby.trim(),0===s.transactionId.length||0===s.supervisedby.length?swal("Transaction ID and Supervised By fields are required!"):(a.transactionId=s.transactionId,a.supervisedby=s.supervisedby,a.transferBy=c.userName,a.status="Success",a.createdAt=Number(new Date),n(e,t,a))})},s.resetForm=function(){s.referenceNo="",s.getApproveCashoutCount()},s.incomplete=function(e,t){var a=t._id;t.transactionId="NA",t.supervisedby="NA",t.transferBy="NA",t.tds="NA",t.approveBy="NA",t.netAmount="NA",t.status="Rejected",t.reason="Information incomplete.",t.createdAt=Number(new Date),console.log("rejectReqData---------------"+JSON.stringify(t)),o({method:"post",url:"/insertIntoCashoutHistory/onTransfer",data:t,headers:{"Content-Type":"application/json"}}).then(function(t){console.error(t),t.data.success?(swal("Success!","Cashout request deleted sucessfully!"),i(e,a)):(swal("Error!",t.data.info),s.dataList.splice(e,1))},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})}}]),angular.module("MetronicApp").controller("AffiliateWithdrawalCtrl",["$location","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l){function n(){s.formData={withdrawalType:d,totalAmountChips:0,totalAmountRake:0,requestedAmount:null,currentDepositAmount:0,tds:0,netAmount:0,name:null,accountNumber:null,accountNumberConfirm:null,ifcsCode:null,bankName:null,branchName:null,affiliateId:u.userName,affiliateMobile:u.mobile,profile:"AFFILIATE",requestedAt:Number(new Date)}}function i(){var e=!1;return Number(s.formData.accountNumber)===Number(s.formData.accountNumberConfirm)&&(e=!0),e}function c(e,t){o({method:"post",url:"/removeCashoutRequestOnAction",data:{_id:e},headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(s.dataList.splice(t,1),console.info("Remove pending cashout request from db on approveCashout success. Done!")):console.log("error while removing data.")},function(e){swal("Error!","Getting error from server while requesting!")})}s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.listPendingCashOutRequest((s.currentPage-1)*s.pageSize,s.pageSize)};var u={name:a.poker_name,userName:a.poker_userName,role:JSON.parse(a.poker_role),id:a.poker_email,mobile:a.poker_loggedinUserMobileNum},d="";s.setWithdrawType=function(){d=s.withdrawalType},n(),s.getAffiliateDetails=function(){o({method:"post",url:"/listAffiliate",data:{userName:u.userName},headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(console.log("____________abc_____"+JSON.stringify(e.data.result)),s.formData.totalAmountChips=e.data.result[0].realChips,s.formData.totalAmountRake=e.data.result[0].profit.toFixed(2)):swal(e.data.info)},function(e){swal("Error!","Getting error from server while requesting!")})},s.submit=function(){return""==d?void swal("Error!","Please select Withdraw Type"):(s.formData.requestedAmount=parseInt(s.formData.requestedAmount),s.formData.ifcsCode=s.formData.ifcsCode.toUpperCase(),void(i()?o({method:"post",url:"/craeteAffilateWithDrawlRequest",data:s.formData,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Cashout request raised successfully!"),s.formData={},s.withdrawalForm.$setPristine(),d="",n(),e.path("/pendingCashOutAffiliate")):swal(t.data.info)},function(e){swal("Error!","Getting error from server while requesting!")}):swal("Error!","account number mismatch")))},s.getCashOutRequestCount=function(){var e={};0==JSON.parse(a.poker_role).level&&(e.userName=a.poker_userName),s.referenceNo&&(e.referenceNo=s.referenceNo),o({method:"post",url:"/getCashOutRequestCount",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(console.log(e),s.totalPage=e.data.result,0==e.data.result&&swal("No data found!"),s.newPageList()):swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.listPendingCashOutRequest=function(e,t){var r={};0==JSON.parse(a.poker_role).level&&(r.userName=a.poker_userName),s.referenceNo&&(r.referenceNo=s.referenceNo),r.skip=e,r.limit=t,o({method:"post",url:"/listPendingCashOutRequest",data:r,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){console.log(e.data);for(var t=0;t<e.data.result.length;t++)e.data.result[t].index=(s.currentPage-1)*s.pageSize+t+1;s.dataList=e.data.result}else swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.approveCashOut=function(e,t){var a=t._id;t.approveBy=u.userName,o({method:"post",url:"/processApproveCashout",data:t,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Cashout request raised successfully!"),c(a,e)):(swal(t.data.info),c(a,e))},function(e){swal("Error!","Getting error from server while requesting!")})},s.rejectCashOut=function(e,t){var a=t._id;t.transactionId="NA",t.supervisedby="NA",t.transferBy="NA",t.tds="NA",t.approveBy="NA",t.netAmount="NA",t.status="Rejected",t.createdAt=Number(new Date),console.log("rejectReqData---------------"+JSON.stringify(t)),o({method:"post",url:"/insertIntoCashoutHistory",data:t,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Cashout request deleted sucessfully!"),c(a,e)):(swal("Error!",t.data.info),c(a,e))},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.rejectCashOutReson=function(e,t){swal({title:"Reason",text:'<div><h4><input type="text" id="reasonTxt" required></h4></div>',type:"info",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){s.reasonTxt=$("#reasonTxt").val(),0===s.reasonTxt.length?swal("Reason text can not be empty."):(t.reason=s.reasonTxt,s.rejectCashOut(e,t))})},s.resetForm=function(){s.referenceNo="",s.getCashOutRequestCount()}}]),angular.module("MetronicApp").controller("AffiliatesController",["$location","$cookies","$window","$rootScope","$scope","$http","$timeout",function(e,t,a,s,o,r,l){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss",s.isAdminLogin),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,o.affiliateData={},o.affiliateData.module=[],o.selectedList={},o.xyz=!0,console.log("DashboardController called",s.isAdminLogin,s.role,"role"),s.isAdminLogin||(console.log("yes",s.role),e.path("/login.html")),o.optionsData=[{name:"Finance",value:"Finance"},{name:"Medical",value:"Medical"},{name:"Risk Analysis",value:"RiskAnalysis"}],o.submit=function(){var t=[];$("input:checked").each(function(){console.log($(this).is(":checked")),t.push($(this).attr("value"))}),o.affiliateData.module=t.filter(function(e){return void 0!=e}),r({method:"post",url:"/insertAffiliate",data:o.affiliateData,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Successfully affilate created!"),o.affiliateData={},e.path("/listAffiliate")):swal(t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})}}]),angular.module("MetronicApp").controller("BlankController",["$rootScope","$scope","settings",function(e,t,a){t.$on("$viewContentLoaded",function(){App.initAjax(),e.settings.layout.pageContentWhite=!0,e.settings.layout.pageBodySolid=!1,e.settings.layout.pageSidebarClosed=!1})}]),angular.module("MetronicApp").controller("BroadcastManagementController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside BroadcastManagementController  @@@@@@@@@");$(".date-picker").datepicker("setStartDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.formdata={},s.getAllTables=function(){console.log("line 16 ",s.formdata);var e={};e.channelType="NORMAL",s.formdata.channelVariation&&(e.channelVariation=s.formdata.channelVariation),s.formdata.isRealMoney&&(e.isRealMoney=JSON.parse(s.formdata.isRealMoney)),e.isActive=!0,e.skip=0,e.limit=0,r.post("/listTable",e).success(function(e){e.success?(console.log(e.result),s.tableList=e.result):swal("Error!",e.result)}).error(function(e){swal("Error!","Getting error from server in broadcast ")})},s.getAllTables(),s.submit=function(){"players"==s.formdata.broadcastType&&(delete s.formdata.channelVariation,delete s.formdata.isRealMoney,delete s.formdata.tableId);var e={};return e.broadcastType=s.formdata.broadcastType,e.heading=s.formdata.heading,e.broadcastMessage=s.formdata.broadcastMessage,s.formdata.tableId&&(e.channelId=s.formdata.tableId),console.log(e),e.broadcastMessage.length<1?void swal("Please enter a broadcast message"):void r.post("/broadcastToGame",e).success(function(e){e.success?(swal("Success!","Broadcast sent successfully."),console.log(e),s.formdata={},s.generateBonusForm.$setPristine(),s.setVisible=!1):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server in sending broadcast ")})}}]),angular.module("MetronicApp").controller("ChipsReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside ChipsReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.sortValue="date",o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.countData=function(){console.log("$$$$$$$$$$$$$$$$$$",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName);var e=o.queryObject;if(o.referenceNumber&&(e.referenceNumber=o.referenceNumber),!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");if(o.minChips&&o.maxChips&&o.minChips>o.maxChips)return void swal("Error!","Please enter a valid input!");if(o.minChips&&o.minChips<=0||o.maxChips&&o.maxChips<=0)return swal("Input fields cannot contain zero or negative values"),!1;o.Name&&(e.Name=o.Name),o.loginId&&(e.loginId=o.loginId),o.minChips&&!o.maxChips&&(e.amount={$gte:o.minChips}),!o.minChips&&o.maxChips&&(e.amount={$lte:o.maxChips}),o.minChips&&o.maxChips&&(e.amount={$gte:o.minChips,$lte:o.maxChips}),o.transferMode&&(e.transferMode=o.transferMode);var t=Number($(".date-picker1").data("datepicker").getUTCDate()),a=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;delete e.skip,delete e.limit,delete e.sortValue,e.date={$gte:Number(t),$lt:Number(a)},console.log("line 93 ",e),l.post("/countDataForDailyChips",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):swal("Missing Keys")}).error(function(e){swal("Getting error from server in showing transaction history",e.stack)})},o.initCountData=function(){
console.log("$$$$$$$$$$$$$$$$$$",s.poker_userName),o.queryObject={},JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName);var e=o.queryObject,t=new Date;t.setDate(t.getDate()-7),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.date={$gte:Number(t),$lt:Number(new Date)},l.post("/countDataForDailyChips",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):swal("Missing Keys")}).error(function(e){swal("Getting error from server in showing transaction history",e.stack)})},o.init=function(e,t,a){showList=!0;var r={};console.log("$$$$$$$$$$$$$$$$$$4",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName),r=o.queryObject,o.referenceNumber&&(r.referenceNumber=o.referenceNumber),o.Name&&(r.Name=o.Name),o.loginId&&(r.loginId=o.loginId),o.minChips&&!o.maxChips&&(r.amount={$gte:o.minChips}),!o.minChips&&o.maxChips&&(r.amount={$lte:o.maxChips}),o.minChips&&o.maxChips&&(r.amount={$gte:o.minChips,$lte:o.maxChips}),o.transferMode&&(r.transferMode=o.transferMode);var n=Number($(".date-picker1").data("datepicker").getUTCDate()),i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;o.startDate||(n=new Date,n.setDate(n.getDate()-7),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),i=new Date),r.date={$gte:Number(n),$lt:Number(i)},r.sortValue=o.sortValue,r.skip=e,r.limit=t,console.log("line 196 ",r),l.post("/dailyChipsReport",r).success(function(e){console.log("The result in transactionHistoryReportController",e.result),0==e.result.length&&swal("No data found.");for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.listTransaction=e.result,a instanceof Function&&a()}).error(function(e){swal("Error!","Getting error from server in showing transaction History")})},o.searchHistory=function(){o.currentPage=1,console.log("************** queryObject",JSON.stringify(o.queryObject)),o.queryObject={},o.countData()},o.initCountData(),o.resetForm=function(){o.startDate="",o.endDate="",o.referenceNumber="",$(".date-picker1").data("datepicker").value="",o.loginId="",o.Name="",o.minChips="",o.maxChips="",o.transferMode="",o.initCountData()};var i=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.init(0,0,function(){t.scrollTo(0,0),n(function(){location.href=i(e,"sheet_name"),o.init(0,20)},500)})}}]),angular.module("MetronicApp").controller("CreateTableController",["$cookies","$rootScope","$window","$scope","$stateParams","$http","$timeout","$location",function(e,t,a,s,o,r,l,n){s.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),t.settings.layout.pageContentWhite=!0,t.settings.layout.pageBodySolid=!1,t.settings.layout.pageSidebarClosed=!1,t.isAdminLogin||(console.log("yes"),n.path("/login.html")),s.togglePassword=!1,s.checkPassword=function(){"true"==s.formData.isPrivateTabel&&(s.togglePassword=!0),"false"==s.formData.isPrivateTabel&&(s.togglePassword=!1,s.formData.passwordForPrivate="")},s.data={},s.turnTimesList=rootTools.turnTimesList,s.formData={},s.formData.isPrivateTabel=!1,s.listTables=function(a){token=t.poker_token;var o={};a&&(o._id=a),o.authToken=t.poker_token,o.channelType="NORMAL";var l={};r.post("/listTable",o).success(function(t){console.log("res.result---------",t.result),s.dataList=t.result,l.result=t.result;var o={};o.isActive=!0,a&&(o._id=l.result[0].rakeRule,console.log("listTableResult==",l.result[0].rakeRule)),r.post("/listRakeRuleName",o).success(function(t){if(t.success)if(e.put("poker_token",t.authToken),s.rakeList=t.result,a)s.dataList.rakeRuleName=t.result[0].name;else for(var o=0;o<s.rakeList.length;o++)for(var r=0;r<s.dataList.length;r++)s.dataList[r].rakeRule==s.rakeList[o]._id&&(s.dataList[r].rakeRuleName=s.rakeList[o].name)}).error(function(e){})}).error(function(e){swal("Error!","Error from server in showing tables!")})},s.duplicate=function(t){console.log("duplicate function called");var a=angular.copy(t);a.authToken=token,a.channelName=a.channelName+new Date;var o="true"==s.formData.isPotLimit?"Pot Limit":"No Limit";rakeStr="",2==s.formData.maxPlayers&&(rakeStr="Rake(%) 2 Players: "+s.formData.rake.rakePercentTwo),s.formData.maxPlayers>2&&s.formData.maxPlayers<5&&(rakeStr="Rake(%) 3-4 Players: "+s.formData.rake.rakePercentThreeFour),s.formData.maxPlayers>=5&&(rakeStr="Rake(%) 5+ Players: "+s.formData.rake.rakePercentMoreThanFive);var l="\nBuy In : ("+s.formData.minBuyIn+"/"+s.formData.maxBuyIn+")";a.gameInfo="Table Name : "+s.formData.channelName+"\nGame Variation : "+s.formData.channelVariation+"\nChips Type : "+("true"==s.formData.isRealMoney?"Real Money":"Play Money")+l+"\nStakes : "+o+"("+s.formData.smallBlind+"/"+s.formData.bigBlind+")\n"+rakeStr+"\nMax. Players : "+s.formData.maxPlayers+"\nStraddle : "+("true"==s.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional")+"\nTurn Time : "+s.formData.turnTime,delete a._id,r.post("/createTable",a).success(function(t){t.success?(e.put("poker_token",t.authToken),swal("Success!","Table created successfully."),console.log("res.datable in dublicate is - ",t),s.listTables()):swal("Error!",t.info)}).error(function(e){swal("Error!","Getting error from server in duplicate tables")})},s.submit=function(){var a=angular.copy(s.formData);a.rake.minStake=s.formData.smallBlind,a.rake.maxStake=s.formData.bigBlind;var o="true"==s.formData.isPotLimit?"Pot Limit":"No Limit";console.log("submit fucntion called ",a),rakeStr1="",rakeStr2="";var l="";s.formData.maxPlayers>2&&s.formData.maxPlayers<5&&(rakeStr1="Rake                      : "+s.formData.rake.rakePercentThreeFour+"%",l=s.formData.rake.rakePercentThreeFour),s.formData.maxPlayers>=5&&(rakeStr1="Rake                      : "+s.formData.rake.rakePercentMoreThanFive+"%",l=s.formData.rake.rakePercentMoreThanFive),rakeStr2="Rake(Heads Up)   : "+s.formData.rake.rakePercentTwo;var i="\nBuy In : ("+s.formData.minBuyIn+"/"+s.formData.maxBuyIn+")";a.gameInfoString="Table Name : "+s.formData.channelName+"\nGame Variation : "+s.formData.channelVariation+"\nChips Type : "+("true"==s.formData.isRealMoney?"Real Money":"Play Money")+i+"\nStakes : "+o+"("+s.formData.smallBlind+"/"+s.formData.bigBlind+")\n"+rakeStr1+"\n"+rakeStr2+"\nMax. Players : "+s.formData.maxPlayers+"\nStraddle : "+("true"==s.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional")+"\nTurn Time : "+s.formData.turnTime,a.gameInfo={},a.gameInfo["Table Name"]=s.formData.channelName,a.gameInfo["Game Variation"]=s.formData.channelVariation,a.gameInfo["Chips Type"]="true"==s.formData.isRealMoney?"Real Money":"Play Money",a.gameInfo["Buy In"]=s.formData.minBuyIn+"/"+s.formData.maxBuyIn,a.gameInfo.Stakes="true"==s.formData.isPotLimit?"Pot Limit":"No Limit("+s.formData.smallBlind+"/"+s.formData.bigBlind+")",l&&(a.gameInfo.Rake=l+"%"),a.gameInfo["Rake(Heads Up)"]=s.formData.rake.rakePercentTwo+"%",a.gameInfo["Cap Amount"]=Math.max(s.formData.rake.capTwo,s.formData.rake.capThreeFour,s.formData.rake.capMoreThanFive),a.gameInfo["Max Players"]=s.formData.maxPlayers,a.gameInfo.Straddle="true"==s.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional",a.gameInfo["Turn Time"]=s.formData.turnTime+" sec.",a.gameInfo["Anti-Banking"]=rootTools.antiBankingTime/60+" min.",console.log("data===== ",a.gameInfo),a.createdBy=t.poker_userName,a.turnTime=JSON.parse(a.turnTime),a.numberOfRebuyAllowed=1,a.rebuyHourFactor=1,a.hourLimitForRebuy=1,a.gameInterval=1,a.minPlayers=2,a.favourite=!1,r.post("/createTable",a).success(function(t){t.rTL?(swal("Session Expired"),n.path("/login")):t.success?(e.put("poker_token",t.authToken),swal("Success!","Table created successfully."),s.formData.isPrivateTabel=!1,n.path("/listTable")):swal("Error!",t.info)}).error(function(e){swal("Error!","Getting error from server in creating table")})},s.getRakeRules=function(){console.log("get rake rules",JSON.stringify(s.formData));var e={};e.channelVariation=s.formData.channelVariation,e.minStake=s.formData.smallBlind,e.maxStake=s.formData.bigBlind,console.log("data==",e),s.formData.smallBlind&&s.formData.bigBlind&&s.formData.channelVariation?(console.log("needs to process rake rules"),r.post("/getRakeRules",e).success(function(e){return console.log("result @@@@@@@@@@@@@@@@",JSON.stringify(e.result)),null===e.result?(console.log("no needs to set rules"),s.formData.rakeRuleName="",void(s.formData.rakeRule="")):(console.log("needs to be set rules",e.result._id),s.formData.rakeRuleName=e.result.name,s.formData.rakeRule=e.result._id,void 0)}).error(function(e){swal("getting error from server side in updating tables")})):(s.formData.rakeRuleName="",s.formData.rakeRule="")}}]),angular.module("MetronicApp").controller("DailyChipsChartController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside DailyChipsChartController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setEndDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=$(".date-picker").data("datepicker").getUTCDate();e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),console.log("the value of date is ",Number(e)),n.addeddate=Number(e),s.init()},s.init=function(){return s.setVisible=!0,console.log(s.formdata.name),console.log(a.poker_userName),console.log("the value inside cookies of DailyChipsChartController is",t.getAll()),n.userName=s.formdata.name,n.role=JSON.parse(a.poker_role),n.role.level<=0&&(n.loginId=a.poker_userName),console.log("the data in DailyChipsChartController ",JSON.stringify(n)),n.addeddate?(console.log("All fields are present"),void r.post("/dailyChipsChart",n).success(function(e){if(e.success){s.setVisible=!0,swal("Success!","Data Retreived  successfully.");var t=[];console.log("*****************",e.result.currentMonthChipsData),console.log("*****************",e.result.previousMonthChipsData);for(var a=1,o=e.result.currentMonthChipsData.length-1;o>=0;o--){var r={};r.dailyChipsCurrentMonth=e.result.currentMonthChipsData[o].dailyChips,r.day=new Date(e.result.currentMonthChipsData[o].date).getUTCDate(),a+=1,t.push(r)}console.log("###############",t);AmCharts.makeChart("chartdiv2",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"Chips Current Month",type:"column",valueField:"dailyChipsCurrentMonth",dashLengthField:"dashLengthColumn"},{id:"graph2",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",bullet:"round",lineThickness:3,bulletSize:7,bulletBorderAlpha:1,bulletColor:"#FFFFFF",useLineColorForBulletBorder:!0,bulletBorderThickness:3,fillAlphas:0,lineAlpha:1,title:"Rake Previous Month",valueField:"dailyChipsPrevMonth",dashLengthField:"dashLengthLine"}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});console.log(e),s.formdata={},s.rakeChartForm.$setPristine()}else swal("Error!","No data found."),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in showing daily rake report. ")})):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))}}]),angular.module("MetronicApp").controller("DashboardController",["$location","$rootScope","$cookies","$scope","$http","$timeout",function(e,t,a,s,o,r){s.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("DashboardController called",t.isAdminLogin),t.isAdminLogin||(console.log("yes"),e.path("/login.html")),t.settings.layout.pageContentWhite=!0,t.settings.layout.pageBodySolid=!1,t.settings.layout.pageSidebarClosed=!1;var l=t.poker_role;if("string"==typeof l&&(l=JSON.parse(t.poker_role)),t.poker_role&&l.level<=0){console.log("affiliate"),s.isAdminLogin=!1;var n={};n.userName=t.poker_userName,o.post("/listAffiliate",n).success(function(e){e.success?(s.dataList=e.result,s.dataList.bonusOrRealChips=parseFloat(e.result[0].realChips),s.dataList.deposit=parseFloat(e.result[0].chipsManagement.deposit),s.dataList.profit=parseFloat(e.result[0].profit),s.dataList.withdrawal=parseFloat(e.result[0].withdrawal),s.dataList.rakeCommision=parseFloat(e.result[0].rakeCommision),s.dataList.deposit=String(s.dataList.deposit).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.bonusOrRealChips=String(s.dataList.bonusOrRealChips).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.profit=String(s.dataList.profit).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.withdrawal=String(s.dataList.withdrawal).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.rakeCommision=String(s.dataList.rakeCommision).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.key1="Total Chips Available",s.key2="Total Added Chips",s.key3="Profit",s.key4="Total Chips Pulled from Players",s.key5="Commission (%)"):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})}else t.poker_role&&(s.isAdminLogin=!0)}]),angular.module("MetronicApp").controller("GameVersionsController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, GameVersionsController loaded"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.setHidden=!1,o.setDisabledForSubAff=!1,JSON.parse(s.poker_role).level<0&&(o.setDisabledForSubAff=!0),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listGameVersions("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={},o.countData=function(){var e={};l.post("/countGameVersions",e).success(function(e){e.success?(console.log(e),o.totalPage=e.result,o.newPageList()):swal("Error!",e.info)}).error(function(e){swal("Getting error from server in showing players list",e.stack)})},o.listGameVersions=function(e,t,a){var s={};e&&e.length>0&&(s._id=e),s.skip=t,s.limit=a,console.log("data ",t,a,s);l.post("/listGameVersions",s).success(function(e){console.log("res.result---------",e.result),o.dataList=e.result,o.editData=e.result[0]}).error(function(e){swal("Error!","Getting error from server in showing Players")})},r.gameVersionId&&(console.log("stateParams",r.gameVersionId),o.setHidden=!0,o.listGameVersions(r.gameVersionId,0,20)),o.submit=function(){console.log("submit function called in GameVersionsController",o.dataList[0]);var e=angular.copy(o.dataList[0]);"Active"==e.state?e.isUpdateRequired=!1:e.isUpdateRequired=!0,"Active"==e.maintenanceState?e.isInMaintainance=!0:e.isInMaintainance=!1,console.log("data===== ",e),l.post("/createGameVersion",e).success(function(e){console.log("GameVersionsController line 125 ==",e),e.success?(swal("Success!","Game Version created successfully."),o.dataList=[],o.gameVersionForm.$setPristine()):(swal("Error!",e.info),console.log("=========line 107",e.info))}).error(function(e){swal("Error!","Getting error from server in creating game version!")})},o.update=function(){console.log("update function called in GameVersionsController",o.dataList[0]);var t=angular.copy(o.dataList[0]);t._id=r.gameVersionId,"Active"==t.state?t.isUpdateRequired=!1:t.isUpdateRequired=!0,"Active"==t.maintenanceState?t.isInMaintainance=!0:t.isInMaintainance=!1,console.log("data===== ",t),l.post("/editGameVersion",t).success(function(t){t.success?(console.log("GameVersionsController line 149 ==",t),swal("Success!","Game Version updated successfully."),o.dataList=[],o.gameVersionForm.$setPristine(),e.path("/listGameVersions")):(swal("Error!",t.info),console.log("=========line 107",t.info))}).error(function(e){swal("Error!","Getting error from server in creating game version!")})}}]),angular.module("MetronicApp").controller("GeneralPageController",["$rootScope","$scope","settings",function(e,t,a){t.$on("$viewContentLoaded",function(){App.initAjax(),e.settings.layout.pageContentWhite=!0,e.settings.layout.pageBodySolid=!1,e.settings.layout.pageSidebarClosed=!1})}]),angular.module("MetronicApp").controller("GenerateScratchCardController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded",s.isAdminLogin),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.isAffiliate=!1,s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,$(".date-picker").datepicker("setStartDate",new Date),o.data={},o.turnTimesList=rootTools.turnTimesList,o.dataTablePromotions=[{}],o.addRow=function(){console.log("dataTablePromotions",o.dataTablePromotions),o.dataTablePromotions.push({})},o.calculateTotalPromotions=function(){var e=0;console.log("calculateTotalPromotions called,,,,,,",JSON.stringify(o.dataTablePromotions));for(var t=0;t<o.dataTablePromotions.length;t++)if(o.dataTablePromotions[t].denomination&&o.dataTablePromotions[t].quantity){if(o.dataTablePromotions[t].denomination.toString().indexOf(".")>-1||o.dataTablePromotions[t].quantity.toString().indexOf(".")>-1){e=0,swal("Denomination and quantity cannot contain decimal values!");break}e+=o.dataTablePromotions[t].denomination*o.dataTablePromotions[t].quantity}o.amount=e},o.testFunction=function(){var e=d-Number(new Date);console.log("date== ",Number(new Date),d),console.log("expries in==  ",e)},o.submitScratchCardPromotions=function(){var e={};e.scratchCardDetails=[];for(var t=0;t<o.dataTablePromotions.length;t++)o.dataTablePromotions[t].denomination&&o.dataTablePromotions[t].quantity&&e.scratchCardDetails.push({denomination:o.dataTablePromotions[t].denomination,quantity:o.dataTablePromotions[t].quantity});var a=$(".date-picker").data("datepicker").getDate();a=Number(a.setDate(a.getDate()+1))-1e3,e.scratchCardType="PROMOTION",e.promoCode=o.promoCode.toUpperCase(),e.totalAmount=o.amount,e.isActive=!0,e.expiresOn=a,e.transactionType="Debit",e.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},console.log("data== ",e),swal({title:"Are you sure you want to create the Scratch Card?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/createScratchCardPromotions",e).success(function(e){if(console.log("res.result---------",e),e.success){swal("Success!","Scratch card created successfully."),o.promoCode="",o.amount="",o.expiresOn="";for(var t=0;t<o.dataTablePromotions.length;t++)o.dataTablePromotions[t].denomination="",o.dataTablePromotions[t].quantity=""}else swal(e.info)}).error(function(e){swal("Getting error from server in generating scratch cards!")})})},o.submitScratchCardAffilate=function(){var e={};e.scratchCardDetails=[];for(var t=0;t<o.dataTableEmergency.length;t++)o.dataTableEmergency[t].denomination&&o.dataTableEmergency[t].quantity&&e.scratchCardDetails.push({denomination:o.dataTableEmergency[t].denomination,quantity:o.dataTableEmergency[t].quantity});var a=$(".date-picker").data("datepicker").getDate();a=Number(a.setDate(a.getDate()+1))-1e3,e.scratchCardType="AFFILIATE",e.affiliateId=o.playerOrAffiliateId,e.totalAmount=o.amount,e.isActive=!0,e.expiresOn=a,e.transactionType=o.transactionType,e.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},console.log("data== ",e),swal({title:"Are you sure you want to create the Scratch Card?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/createScratchCardAffiliate",e).success(function(e){if(console.log("res.result---------",e),e.success){swal("Success!","Scratch card created successfully."),o.playerOrAffiliateId="",o.amount="",o.expiresOn="",o.transactionType="";for(var t=0;t<o.dataTableEmergency.length;t++)o.dataTableEmergency[t].quantity="";var a=JSON.parse(s.poker_role);a.level<=0&&(o.isAffiliate=!0,o.playerOrAffiliateId=s.poker_userName)}else swal(e.info)}).error(function(e){swal("Getting error from server in generating scratch cards!")})})},o.submitScratchCardEmergency=function(){var e={};e.scratchCardDetails=[];for(var t=0;t<o.dataTableEmergency.length;t++)o.dataTableEmergency[t].denomination&&o.dataTableEmergency[t].quantity&&e.scratchCardDetails.push({denomination:o.dataTableEmergency[t].denomination,quantity:o.dataTableEmergency[t].quantity});var a=$(".date-picker").data("datepicker").getDate();a=Number(a.setDate(a.getDate()+1))-1e3,e.scratchCardType="EMERGENCY",e.playerId=o.playerOrAffiliateId,e.totalAmount=o.amount,e.isActive=!0,e.expiresOn=a,e.transactionType=o.transactionType,e.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},console.log("data== ",e),swal({title:"Are you sure you want to create the Scratch Card?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/createScratchCardEmergency",e).success(function(e){if(console.log("res.result---------",e),e.success){swal("Success!","Scratch card created successfully."),o.playerOrAffiliateId="",o.amount="",o.expiresOn="",o.transactionType="";for(var t=0;t<o.dataTableEmergency.length;t++)o.dataTableEmergency[t].quantity=""}else swal(e.info)}).error(function(e){swal("Getting error from server in generating scratch cards!")})})},o.submitScratchCardHighRollers=function(){var e=angular.copy(o.formData),t=$(".date-picker").data("datepicker").getDate();t=Number(t.setDate(t.getDate()+1))-1e3,e.scratchCardType="HIGH-ROLLERS",e.expiresOn=t,e.isActive=!0,e.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},console.log("data== ",e),swal({title:"Are you sure you want to create the Scratch Card?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/createScratchCardHighRollers",e).success(function(e){console.log("res.result---------",e),e.success?(swal("Success!","Scratch card created successfully."),o.formData={},o.highRollersForm.$setPristine()):swal(e.info)}).error(function(e){swal("Getting error from server in generating scratch cards!")})})},o.dataTableEmergency=[{denomination:5e3},{denomination:1e4},{denomination:2e4},{denomination:5e4},{denomination:1e5}],o.calculateTotalEmergency=function(){var e=0;console.log("calculateTotalEmergency called,,,,,,",JSON.stringify(o.dataTableEmergency));for(var t=0;t<o.dataTableEmergency.length;t++){if(o.dataTableEmergency[t].quantity&&o.dataTableEmergency[t].quantity.toString().indexOf(".")>-1){e=0,swal("Denomination and quantity cannot contain decimal values!");break}console.log("calculateTotalEmergency called====",o.dataTableEmergency[t]),e+=o.dataTableEmergency[t].denomination*o.dataTableEmergency[t].quantity||0}console.log("amount== ",e),o.amount=e};var i=JSON.parse(s.poker_role);i.level<=0&&(o.isAffiliate=!0,o.playerOrAffiliateId=s.poker_userName)}]),angular.module("MetronicApp").controller("ListAffiliatesController",["$location","$cookies","$window","$rootScope","$scope","$http","$timeout",function(e,t,a,s,o,r,l){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss",s.isAdminLogin),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,o.affiliateData={},o.affiliateData.module=[],o.selectedList={},o.xyz=!0,console.log("ListAffiliatesController called",s.isAdminLogin,s.role,"role"),s.isAdminLogin||(console.log("yes",s.role),e.path("/login.html")),o.listAffiliates=function(){r({method:"post",url:"/listAffiliate",data:{},headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(o.dataList=e.data.result,o.affiliateData={}):swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.listAffiliates()}]),angular.module("MetronicApp").controller("ListTableController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listTables("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.togglePassword=!1,o.checkPassword=function(){"true"==o.formData.isPrivateTabel&&(o.togglePassword=!0),"false"==o.formData.isPrivateTabel&&(o.togglePassword=!1,o.formData.passwordForPrivate="")},o.data={},o.turnTimesList=rootTools.turnTimesList,o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countData=function(){o.currentPage=1;var e={};e.channelType="NORMAL",o.channelVariation&&(e.channelVariation=o.channelVariation),o.status&&(e.isActive=o.status),o.channelName&&(e.channelName=o.channelName),o.email&&(e.email=o.email),o.isPrivateTabel&&(e.isPrivateTabel=o.isPrivateTabel),o.minSmallBlind&&(e.minSmallBlind=o.minSmallBlind),o.maxSmallBlind&&(e.maxSmallBlind=o.maxSmallBlind),o.minBuyInMin&&(e.minBuyInMin=o.minBuyInMin),o.minBuyInMax&&(e.minBuyInMax=o.minBuyInMax),o.minPlayerLimit&&(e.minPlayerLimit=o.minPlayerLimit),o.maxPlayerLimit&&(e.maxPlayerLimit=o.maxPlayerLimit),o.turnTime&&(e.turnTime=parseInt(o.turnTime)),o.isRealMoney&&(e.isRealMoney=o.isRealMoney),"All"===o.isRealMoney&&delete e.isRealMoney,l.post("/countlistTable",e).success(function(e){e.success?(o.totalPage=e.result,0==e.result.length&&swal("Error","No data found!"),o.newPageList()):swal("Error!",e.info)}).error(function(e){swal("Getting error from server in showing rake rules",e)})},o.listTables=function(e,t,a){var s={};e&&e.length>0&&(s._id=e),console.log("id== ",e),s.channelType="NORMAL",s.skip=t,s.limit=a,o.channelVariation&&(s.channelVariation=o.channelVariation),o.status&&(s.isActive=o.status),o.channelName&&(s.channelName=o.channelName),o.email&&(s.email=o.email),o.isPrivateTabel&&(s.isPrivateTabel=o.isPrivateTabel),o.minSmallBlind&&(s.minSmallBlind=o.minSmallBlind),o.maxSmallBlind&&(s.maxSmallBlind=o.maxSmallBlind),o.minBuyInMin&&(s.minBuyInMin=o.minBuyInMin),o.minBuyInMax&&(s.minBuyInMax=o.minBuyInMax),o.minPlayerLimit&&(s.minPlayerLimit=o.minPlayerLimit),o.maxPlayerLimit&&(s.maxPlayerLimit=o.maxPlayerLimit),o.turnTime&&(s.turnTime=parseInt(o.turnTime)),o.isRealMoney&&(s.isRealMoney=o.isRealMoney),"All"===o.isRealMoney&&delete s.isRealMoney;var r={};l.post("/listTable",s).success(function(t){console.log("res.result---------",t.result),0==t.result.length&&swal("Error","No data found!"),o.dataList=t.result,o.editData=t.result[0],r.result=t.result;var a={};a.isActive=!0,e&&(o.formData=t.result[0],a._id=r.result[0].rakeRule)}).error(function(e){swal("Error!","Getting error from server in showing tables")})},r.tableId?(console.log("stateParams",r.tableId),o.listTables(r.tableId,0,20)):o.countData();var i=1;o.sortByName=function(){return 1==i?(o.dataList.sort(function(e,t){return e.channelName<t.channelName?-1:e.channelName>t.channelName?1:void 0}),void(i=-1)):i==-1?(o.dataList.sort(function(e,t){return e.channelName>t.channelName?-1:e.channelName<t.channelName?1:void 0}),void(i=1)):void 0},o.sortByMaxPlayers=function(){return 1==i?(o.dataList.sort(function(e,t){return parseInt(e.maxPlayers)-parseInt(t.maxPlayers)}),void(i=-1)):i==-1?(o.dataList.sort(function(e,t){return parseInt(t.maxPlayers)-parseInt(e.maxPlayers)}),void(i=1)):void 0},o.duplicate=function(a){console.log("duplicate function called");var r=angular.copy(o.dataList[0]);console.log("data===== ",r),r.turnTime=JSON.parse(r.turnTime);var n="true"==o.formData.isPotLimit?"Pot Limit":"No Limit";rakeStr1="",rakeStr2="";var i="";o.formData.maxPlayers>2&&o.formData.maxPlayers<5&&(rakeStr1="Rake                      : "+o.formData.rake.rakePercentThreeFour+"%",i=o.formData.rake.rakePercentThreeFour),o.formData.maxPlayers>=5&&(rakeStr1="Rake                      : "+o.formData.rake.rakePercentMoreThanFive+"%",i=o.formData.rake.rakePercentMoreThanFive),rakeStr2="Rake(Heads Up)   : "+o.formData.rake.rakePercentTwo;var c="\nBuy In : ("+o.formData.minBuyIn+"/"+o.formData.maxBuyIn+")";r.gameInfoString="Table Name : "+o.formData.channelName+"\nGame Variation : "+o.formData.channelVariation+"\nChips Type : "+("true"==o.formData.isRealMoney?"Real Money":"Play Money")+c+"\nStakes : "+n+"("+o.formData.smallBlind+"/"+o.formData.bigBlind+")\n"+rakeStr1+"\n"+rakeStr2+"\nMax. Players : "+o.formData.maxPlayers+"\nStraddle : "+("true"==o.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional")+"\nTurn Time : "+o.formData.turnTime,r.gameInfo={},r.gameInfo["Table Name"]=o.formData.channelName,r.gameInfo["Game Variation"]=o.formData.channelVariation,r.gameInfo["Chips Type"]="true"==o.formData.isRealMoney?"Real Money":"Play Money",r.gameInfo["Buy In"]=o.formData.minBuyIn+"/"+o.formData.maxBuyIn,r.gameInfo.Stakes="true"==o.formData.isPotLimit?"Pot Limit":"No Limit("+o.formData.smallBlind+"/"+o.formData.bigBlind+")",i&&(r.gameInfo.Rake=i+"%"),r.gameInfo["Rake(Heads Up)"]=o.formData.rake.rakePercentTwo+"%",r.gameInfo["Cap Amount"]=Math.max(o.formData.rake.capTwo,o.formData.rake.capThreeFour,o.formData.rake.capMoreThanFive),r.gameInfo["Max Players"]=o.formData.maxPlayers,r.gameInfo.Straddle="true"==o.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional",r.gameInfo["Turn Time"]=o.formData.turnTime+" sec.",r.gameInfo["Anti-Banking"]=rootTools.antiBankingTime/60+" min.",r.numberOfRebuyAllowed=1,r.rebuyHourFactor=1,r.hourLimitForRebuy=1,r.gameInterval=1,r.minPlayers=2,r.favourite=!1,r.createdBy=s.poker_userName,l.post("/createTable",r).success(function(a){a.rTL?(swal("Session Expired"),e.path("/login")):a.success?(t.put("poker_token",a.authToken),swal("Success!","Table created successfully."),e.path("/listTable"),o.listTables()):swal("Missing Keys")}).error(function(e){swal("Error!","Getting error from server in creating table")})},o.submit=function(){console.log("submit fucntion called");
var a=angular.copy(o.formData);console.log("data===== ",a),a.turnTime=JSON.parse(a.turnTime);var r="true"==o.formData.isPotLimit?"Pot Limit":"No Limit";rakeStr1="",rakeStr2="";var n="";o.formData.maxPlayers>2&&o.formData.maxPlayers<5&&(rakeStr1="Rake                      : "+o.formData.rake.rakePercentThreeFour+"%",n=o.formData.rake.rakePercentThreeFour),o.formData.maxPlayers>=5&&(rakeStr1="Rake                      : "+o.formData.rake.rakePercentMoreThanFive+"%",n=o.formData.rake.rakePercentMoreThanFive),rakeStr2="Rake(Heads Up)   : "+o.formData.rake.rakePercentTwo;var i="\nBuy In : ("+o.formData.minBuyIn+"/"+o.formData.maxBuyIn+")";a.gameInfoString="Table Name : "+o.formData.channelName+"\nGame Variation : "+o.formData.channelVariation+"\nChips Type : "+("true"==o.formData.isRealMoney?"Real Money":"Play Money")+i+"\nStakes : "+r+"("+o.formData.smallBlind+"/"+o.formData.bigBlind+")\n"+rakeStr1+"\n"+rakeStr2+"\nMax. Players : "+o.formData.maxPlayers+"\nStraddle : "+("true"==o.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional")+"\nTurn Time : "+o.formData.turnTime,a.gameInfo={},a.gameInfo["Table Name"]=o.formData.channelName,a.gameInfo["Game Variation"]=o.formData.channelVariation,a.gameInfo["Chips Type"]="true"==o.formData.isRealMoney?"Real Money":"Play Money",a.gameInfo["Buy In"]=o.formData.minBuyIn+"/"+o.formData.maxBuyIn,a.gameInfo.Stakes="true"==o.formData.isPotLimit?"Pot Limit":"No Limit("+o.formData.smallBlind+"/"+o.formData.bigBlind+")",n&&(a.gameInfo.Rake=n+"%"),a.gameInfo["Rake(Heads Up)"]=o.formData.rake.rakePercentTwo+"%",a.gameInfo["Cap Amount"]=Math.max(o.formData.rake.capTwo,o.formData.rake.capThreeFour,o.formData.rake.capMoreThanFive),a.gameInfo["Max Players"]=o.formData.maxPlayers,a.gameInfo.Straddle="true"==o.formData.isStraddleEnable?"Straddle Mandatory":"Straddle Optional",a.gameInfo["Turn Time"]=o.formData.turnTime+" sec.",a.gameInfo["Anti-Banking"]=rootTools.antiBankingTime/60+" min.",a.updatedBy=s.poker_userName,a.updatedByRole=s.poker_role,a.numberOfRebuyAllowed=1,a.rebuyHourFactor=1,a.hourLimitForRebuy=1,a.gameInterval=1,a.minPlayers=2,a.favourite=!1,console.log(a.gameInfo),l.put("/updateTable",a).success(function(a){a.rTL?(swal("Session Expired"),e.path("/login")):(a.success?(console.log("ListTableController line 223==",a),swal("Success!","Table updated successfully."),e.path("/listTable"),o.listTables()):swal("Error!","This table is in running state. Cannot update!"),t.put("poker_token",a.authToken))}).error(function(e){swal("Error!","Getting error from server in updating table!")})},o.disable=function(a,s){swal({title:"Are you sure you want to "+s+" this table?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){var s={};1==a.isActive?s.isActive=!1:s.isActive=!0,s.id=a._id,l.put("/disableTable",s).success(function(o){o.rTL?(swal("Session Expired"),e.path("/login")):(o.success?(console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"+s),a.isActive=!a.isActive,s.isActive?console.log("going to active table in angular controller"+JSON.stringify(o)):c({route:"removeTable",tableId:a._id,event:"DISABLETABLE"}),swal("Successfull !!")):swal("Error!","This table is in running state. Cannot disable!"),t.put("poker_token",o.authToken))}).error(function(e){swal("Error!","Getting error from server in updating tables")})})},o.revert=function(e,a){swal({title:"Are you sure you want to "+a+" this table?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){var a={};a._id=e._id,l.post("/revertTable",a).success(function(e){console.log(e),e.success?(o.listTables("",0,20),console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"+e),swal("Successfull !!",e.info)):swal("Info!",e.info),t.put("poker_token",e.authToken)}).error(function(e){swal("Error!","Getting error from server in updating tables")})})};var c=function(e){console.log("data in informPlayer is - "+JSON.stringify(e));var t=window.pomelo;console.log("rootTools.connectorHost - "+rootTools.connectorHost),t.init({host:rootTools.connectorHost,port:rootTools.connectorPort,log:!0},function(){console.log(" broadcastData is - "+JSON.stringify(e)),t.request("connector.entryHandler.broadcastPlayers",{route:e.route,data:{event:e.event,_id:e.tableId}},function(e){console.log(e),t.disconnect()})})};o.searchFunction=function(){o.channelVariation||o.status||o.channelName||o.email||o.isPrivateTabel||o.minSmallBlind||o.maxSmallBlind||o.minBuyInMin||o.minBuyInMax||o.minPlayerLimit||o.maxPlayerLimit||o.turnTime?o.getSubAffiliateCount():swal("Please provide at least one input.")},o.reset=function(){o.channelVariation="",o.status="",o.channelName="",o.email="",o.isPrivateTabel="",o.minSmallBlind="",o.maxSmallBlind="",o.minBuyInMin="",o.minBuyInMax="",o.minPlayerLimit="",o.maxPlayerLimit="",o.turnTime="",o.isRealMoney="All",o.countData()}}]);var console={};console.log=function(){},console.error=function(){},angular.module("MetronicApp").controller("LoginController",["$location","$cookies","$rootScope","$scope","$http","$timeout","$window",function(e,t,a,s,o,r,l){function n(e){if(window.btoa)return window.btoa(unescape(encodeURIComponent(e)));var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=t._utf8_encode(e);u<e.length;)a=e.charCodeAt(u++),s=e.charCodeAt(u++),o=e.charCodeAt(u++),r=a>>2,l=(3&a)<<4|s>>4,n=(15&s)<<2|o>>6,i=63&o,isNaN(s)?n=i=64:isNaN(o)&&(i=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(l)+this._keyStr.charAt(n)+this._keyStr.charAt(i);return c},decode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),n=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=r<<2|l>>4,s=(15&l)<<4|n>>2,o=(3&n)<<6|i,c+=String.fromCharCode(a),64!=n&&(c+=String.fromCharCode(s)),64!=i&&(c+=String.fromCharCode(o));return c=t._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",a=0,s=c1=c2=0;a<e.length;)s=e.charCodeAt(a),s<128?(t+=String.fromCharCode(s),a++):s>191&&s<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&s)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),a+=3);return t}};return t.encode(unescape(encodeURIComponent(e)))}function i(e){if(window.atob)return decodeURIComponent(escape(window.atob(e)));var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=t._utf8_encode(e);u<e.length;)a=e.charCodeAt(u++),s=e.charCodeAt(u++),o=e.charCodeAt(u++),r=a>>2,l=(3&a)<<4|s>>4,n=(15&s)<<2|o>>6,i=63&o,isNaN(s)?n=i=64:isNaN(o)&&(i=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(l)+this._keyStr.charAt(n)+this._keyStr.charAt(i);return c},decode:function(e){var a,s,o,r,l,n,i,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),n=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=r<<2|l>>4,s=(15&l)<<4|n>>2,o=(3&n)<<6|i,c+=String.fromCharCode(a),64!=n&&(c+=String.fromCharCode(s)),64!=i&&(c+=String.fromCharCode(o));return c=t._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",a=0,s=c1=c2=0;a<e.length;)s=e.charCodeAt(a),s<128?(t+=String.fromCharCode(s),a++):s>191&&s<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&s)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),a+=3);return t}};return decodeURIComponent(escape(t.decode(e)))}s.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss",a.isAdminLogin),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1;var c=function(){console.log("djfhkldnf== "),i(t.get("poker_userName"))&&(console.log(typeof t.get("poker_role")),console.log(JSON.parse(t.get("poker_role"))),a.isAdminLogin=!0,a.poker_token=t.get("poker_token"),a.poker_name=i(t.get("poker_name")),a.poker_role=t.get("poker_role"),a.poker_userName=i(t.get("poker_userName")),a.poker_email=i(t.get("poker_email")),a.poker_parent=i(t.get("poker_parent")),a.poker_uniqueSessionId=i(t.get("poker_uniqueSessionId")),a.poker_loggedinUserMobileNum=i(t.get("poker_loggedinUserMobileNum")),a.role=a.poker_userName,a.userName=a.poker_userName,a.poker_modeAccess=i(t.get("poker_modeAccess")).split(","),a.moduleAccess=i(t.get("poker_modeAccess")).split(","),console.log("line 50 ",a.moduleAccess),e.path("/dashboard"))};s.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent"),t.remove("poker_uniqueSessionId"),t.remove("poker_loggedinUserMobileNum"),t.remove("poker_modeAccess")},a.isAdminLogin?(console.log("no"),e.path("/dashboard")):(console.log("yes",t.get("poker_role"),t.get("poker_token"),t.get("poker_userName"),t.get("poker_email")),t.get("poker_role")||t.get("poker_token")||t.get("poker_userName")||t.get("poker_email")?c():s.init()),s.data={},s.login=function(){if(a.poker_role)return c(),!1;s.init();var r=angular.copy(s.data);console.log("in login controler",r),r.keyForRakeModules=!0,r.userName&&r.password?o({method:"post",url:"/login",data:r,headers:{"Content-Type":"application/json"},unique:!0,requestId:"helpppp"}).then(function(o){console.log("res.result++++++++++++++ "+JSON.stringify(o.data.result)),o.data.success?(console.log(o.data.result.token),t.put("poker_token",o.data.result.token),t.put("poker_name",n(o.data.result.name)),t.put("poker_role",JSON.stringify(o.data.result.role)),t.put("poker_userName",n(o.data.result.userName)),t.put("poker_email",n(o.data.result.email)),t.put("poker_parent",n(o.data.result.isParent)),t.put("poker_loggedinUserMobileNum",n(o.data.result.loggedinUserMobileNum)),t.put("poker_uniqueSessionId",n(o.data.result.uniqueSessionId)),t.put("poker_modeAccess",n(o.data.result.moduleAccess)),a.poker_token=t.get("poker_token"),a.poker_name=i(t.get("poker_name")),a.poker_role=JSON.stringify(o.data.result.role),console.error(a.poker_role),console.error(typeof a.poker_role),a.poker_userName=i(t.get("poker_userName")),a.poker_email=i(t.get("poker_email")),a.poker_parent=i(t.get("poker_parent")),a.poker_uniqueSessionId=i(t.get("poker_uniqueSessionId")),a.poker_loggedinUserMobileNum=i(t.get("poker_loggedinUserMobileNum")),a.poker_modeAccess=o.data.result.moduleAccess,console.log(a.poker_modeAccess),a.isAdminLogin=!0,o.data.result.role?a.role="Super Admin":"Admin"==o.data.result.department?a.role="Admin":a.role="Affiliate",console.log("djfhkldnf== ",a.poker_role),console.log("line 60 == ",o.data.result),console.log(a.role),a.userName=o.data.result.userName,a.moduleAccess=o.data.result.moduleAccess,e.path("/dashboard")):(s.data.password="",s.errorMsg=o.info,console.log("....",o),swal("Error!",o.data.info))},function(e){console.log("err",e),swal("Error!","Getting error from server in login!")}):swal("Error!","Insufficient info!")}}]),angular.module("MetronicApp").controller("LoyaltyPointsController",["$cookies","$rootScope","$scope","$stateParams","$http","$timeout","$location",function(e,t,a,s,o,r,l){a.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, LoyaltyPointsController loaded"),t.settings.layout.pageContentWhite=!0,t.settings.layout.pageBodySolid=!1,t.settings.layout.pageSidebarClosed=!1,t.isAdminLogin||(console.log("yes"),l.path("/login.html")),a.data={},a.turnTimesList=rootTools.turnTimesList,a.setDefaultValue=function(){"Bronze"==a.formData.loyaltyLevel?a.formData.levelThreshold=0:a.formData.levelThreshold=""},a.submitLoyaltyPoints=function(){console.log("submitLoyaltyPoints fucntion called");var t=angular.copy(a.formData);console.log("data===== ",t),o.post("/createLoyaltyPoints",t).success(function(t){t.rTL?(swal("Session Expired"),l.path("/login")):t.success?(e.put("poker_token",t.authToken),swal("Success!","Loyalty level created successfully."),a.formData={},a.loyaltyPointsForm.$setPristine()):(swal("Error!",t.info),console.log(t))}).error(function(e){swal("Error!","Getting error from server in creating table")})},a.updateLoyaltyPoints=function(){console.log("updateLoyaltyPoints fucntion called");var t=angular.copy(a.editData);console.log("data===== ",t),o.post("/updateLoyaltyPoints",t).success(function(t){t.rTL?(swal("Session Expired"),l.path("/login")):t.success?(e.put("poker_token",t.authToken),swal("Success!","Loyalty level updated successfully."),l.path("/loyaltyPoints/list")):(swal("Error!",t.info),console.log(t))}).error(function(e){swal("Error!","Getting error from server in updating loyalty level.")})},a.listLoyaltyPoints=function(e){var t={};e&&(t._id=e),console.log("listLoyaltyPoints called,,",t),o.post("/listLoyaltyPoints",t).success(function(e){console.log("res.result---------",e.result),a.dataList=e.result,a.editData=e.result[0]}).error(function(e){swal("Error!","Getting error from server in showing loyalty levels.")})},s.loyaltyPointsId?(console.log("stateParams",s.loyaltyPointsId),a.listLoyaltyPoints(s.loyaltyPointsId)):a.listLoyaltyPoints()}]),angular.module("MetronicApp").controller("MaintenanceController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded",s.isAdminLogin),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.isAffiliate=!1,s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,o.currentPage=1,o.pageSize=20,o.totalPage=0,o.serverRunning=!0;var i=60,c=120;o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listMaintenances("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},$("#datetimepicker1").datetimepicker("setStartDate",new Date(Number(new Date)+60*i*1e3)),o.onStartDateChange=function(){$("#datetimepicker2").datetimepicker("setStartDate",new Date(Number(new Date($("#datetimepicker1").data("datetimepicker").getDate()))+60*c*1e3))},o.scheduleMaintenance=function(){var t=angular.copy(o.formData);return t.serverDownTime=Number(new Date(t.serverDownTime)),t.serverUpTime=Number(new Date(t.serverUpTime)),t.serverUpTime&&t.serverDownTime?(t.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},console.log("data== ",t),void swal({title:"Are you sure you want to schedule maintenance?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/scheduleMaintenance",t).success(function(t){console.log("res.result---------",t),t.success?(swal("Success!","Scheduled successfully."),e.path("/maintenance/list")):swal(t.info)}).error(function(e){swal("Getting error from server in scheduling maintenance!")})})):(swal("Server uptime and downtime are required!"),!1)},o.editMaintenance=function(){var t={};t.serverUpTime=Number(new Date(o.dataList[0].serverUpTime)),t._id=r.maintenanceId,console.log("data== ",t),swal({title:"Are you sure you want to re-schedule maintenance?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/editMaintenance",t).success(function(t){console.log("res.result---------",t),t.success?(swal("Success!",t.info),e.path("/maintenance/list")):swal(t.info)}).error(function(e){swal("Getting error from server in scheduling maintenance!")})})},o.cancelSchedule=function(e){var t={};t._id=e,console.log("data== ",t),swal({title:"Are you sure you want to cancel maintenance?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){l.post("/cancelMaintenance",t).success(function(e){console.log("res.result---------",e),e.success?(swal("Success!",e.info),o.countMaintenances()):swal(e.info)}).error(function(e){swal("Getting error from server in scheduling maintenance!")})})},o.countMaintenances=function(e){var t={};l.post("/countMaintenances",t).success(function(e){console.log("res.result---------",e),e.success?(o.totalPage=e.result,o.newPageList()):swal(e.info)}).error(function(e){swal("Getting error from server!")})},o.listMaintenances=function(e,t,a){var s={};e&&(s._id=e),s.skip=t,s.limit=a,l.post("/listMaintenances",s).success(function(t){console.log("res.result---------",t),t.success?(o.dataList=t.result,e&&(t.result[0].serverUpTime=new Date(t.result[0].serverUpTime),o.dataList=t.result,s._id=e)):swal(t.info)}).error(function(e){swal("Getting error from server!")})},o.fetchServerState=function(){var e={};l.post("/getServerState",e).success(function(e){console.log("res.result---------",e),e.success?(o.serverRunning=e.status,o.serverInfo=e.info):swal(e.info)}).error(function(e){swal("Getting error from server!")})},o.changeServerState=function(){var e={};e.createdBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},l.post("/changeServerState",e).success(function(e){console.log("res.result---------",e),e.success?(o.serverRunning=e.status,o.serverInfo=e.info,o.countMaintenances()):swal(e.info)}).error(function(e){swal("Getting error from server!")})},r.maintenanceId&&($("#datetimepicker2").datetimepicker("setStartDate",new Date),o.listMaintenances(r.maintenanceId))}]),angular.module("MetronicApp").controller("MonthlyChipsReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside ChipsReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.init=function(e,t){showList=!0;var a={};console.log("$$$$$$$$$$$$$$$$$$4",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName),a=o.queryObject;var r=new Date($(".date-picker1").data("datepicker").getUTCDate()),n=new Date($(".date-picker2").data("datepicker").getUTCDate());r.setDate(1),n.setDate(1),n.setMonth(n.getMonth()+1),n-=1e3,o.startDate||(r=new Date,r.setUTCMonth(r.getUTCMonth()-1),r.setUTCDate(1),r.setUTCHours(0),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0),n=new Date),a.date={$gte:Number(r),$lt:Number(n)},a.skip=e,a.limit=t,l.post("/monthlyChipsReport",a).success(function(e){console.log("The result in transactionHistoryReportController",e.result),o.listTransaction=e.result,0==e.result.length&&swal("No data found."),o.listTransaction.sort(function(e,t){return t.date-e.date}),o.listTransaction2=o.listTransaction.slice(0,20),o.totalPage=o.listTransaction.length}).error(function(e){swal("Error!","Getting error from server in showing transaction History")})},o.init(),o.searchHistory=function(){o.currentPage=1,console.log("************** queryObject",JSON.stringify(o.queryObject)),o.init()},o.resetForm=function(){o.startDate="",o.endDate="",$(".date-picker1").data("datepicker").value="",o.init()},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.listTransaction2=o.listTransaction.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.listTransaction2.length),console.log("line 204",o.listTransaction)};var i=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){var t=i(e,"sheet_name");n(function(){location.href=t},100)}}]),angular.module("MetronicApp").controller("PlayerController",["$location","$cookies","$rootScope","$stateParams","$scope","$http","$timeout",function(e,t,a,s,o,r,l){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss",a.isAdminLogin),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,o.departmentList=rootTools.employeeList,$(".date-picker").datepicker({autoclose:!0}),o.playerData={},o.xyz=!0,console.log("DashboardController called",a.isAdminLogin,a.role,"role"),a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.userData={},o.userData.module=[],o.selectedList={};var n=[];o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listUsers("",(o.currentPage-1)*o.pageSize,o.pageSize)},$("input:checked").each(function(){console.log($(this).is(":checked")),n.push($(this).attr("value"))}),o.userData.module=n.filter(function(e){return void 0!=e}),o.userAccess=JSON.parse(a.poker_role),console.log(o.userAccess),console.log("===",o.userAccess.level),o.userAccess.level==-1&&(o.setDisabled=!0,o.playerData.affiliateId=a.poker_userName),0==o.userAccess.level&&(o.playerData.affiliateId=a.poker_userName),o.submitByAdmin=function(){o.playerData.status="INACTIVE",o.playerData.createdBy=a.poker_userName,o.playerData.parentUserRole=JSON.parse(a.poker_role),o.playerData.isParentUserName=o.playerData.affiliateId||"",o.playerData.loggedInUser=a.poker_userName,o.playerData.isParent="",console.log("playerData== ",o.playerData),r({method:"post",url:"/createPlayer",data:o.playerData,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(swal("Success!","Successfully player created!"),o.playerData={},o.cnfpassword="",o.playerForm.$setPristine()):swal(e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server!")})},o.submitByAffiliate=function(){return o.playerData.affiliateId?(o.playerData.status="INACTIVE",o.playerData.createdBy=a.poker_userName,o.playerData.parentUserRole=JSON.parse(a.poker_role),o.playerData.isParentUserName=o.playerData.affiliateId,o.playerData.loggedInUser=a.poker_userName,console.log("playerData== ",o.playerData),void r({method:"post",url:"/createPlayer",data:o.playerData,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(swal("Success!","Successfully user created!"),o.playerData={},o.cnfpassword="",o.playerForm.$setPristine(),o.userAccess.level==-1&&(o.setDisabled=!0,o.playerData.affiliateId=a.poker_userName)):swal(e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server!")})):(swal("Affiliate ID cannot be blank!"),!1)},o.update=function(){var t=[];$("input:checked").each(function(){console.log($(this).is(":checked")),t.push($(this).attr("value"))}),o.userData.module=t.filter(function(e){return void 0!=e}),"string"==typeof o.userData.role&&(o.userData.role=JSON.parse(o.userData.role)),o.userData.id=s.userId,console.log("userData== ",o.userData),r({method:"post",url:"/updateUserInfo",data:o.userData,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Successfully user updated!"),o.affiliateData={},e.path("/listUsers")):swal(t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},o.listUsers=function(e,t,a){var s={};e&&(s._id=e),s.level=o.userAccess.level,s.skip=t,s.limit=a,r({method:"post",url:"/listUsersAndCalculateBonus",data:s,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(console.log(t.data),o.dataList=t.data.result,e)for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0;o.userData=t.data.result[0]}else swal("Error!",t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.editUser=function(){s.userId&&o.listUsers(s.userId)},o.checkAge=function(e){var t=new Date,e=new Date(e),a=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();(s<0||0===s&&t.getDate()<e.getDate())&&a--,a<18&&(swal("Info!","You are less than 18 years so your account cannot be created."),o.playerData.dob=null)}}]),angular.module("MetronicApp").controller("PlayerGameHistoryController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$("#datetimepicker").datetimepicker("setEndDate",new Date),$("#datetimepicker1").datetimepicker("setEndDate",new Date),o.pageSize=7,o.currentPage=1,o.totalPage=0,o.totalRake=0,o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listPlayerData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countPlayerData=function(){if(o.dataList="",o.totalPage=0,!o.userId)return void swal("Error!","Please enter a player ID!");var e={};e.userName=o.userId,o.channelVariation&&(e.channelVariation=o.channelVariation),o.channelName&&(e.channelName=o.channelName),o.roundId&&(e.roundId=o.roundId),o.startDate&&(e.startDate=Number(new Date(o.startDate))),o.endDate&&(e.endDate=Number(new Date(o.endDate))),o.isRealMoney&&(e.isRealMoney=o.isRealMoney),console.log("data == ",e,o.startDate,o.endDate),l.post("/countPlayerGameHistory",e).success(function(e){console.log("res.result---------",e),e.success?(o.totalPage=e.result,o.newPageList()):swal("No data found!")}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.listPlayerData=function(e,t,a,s){if(!o.userId)return void swal("Error!","Please enter a player ID!");var r={};r.userName=o.userId,o.channelVariation&&(r.channelVariation=o.channelVariation),o.channelName&&(r.channelName=o.channelName),o.roundId&&(r.roundId=o.roundId),o.startDate&&(r.startDate=Number(new Date(o.startDate))),o.endDate&&(r.endDate=Number(new Date(o.endDate))),o.isRealMoney&&(r.isRealMoney=o.isRealMoney),r.skip=t,r.limit=a,l.post("/listPlayerGameHistory",r).success(function(e){if(console.log("res.result---------",e),e.success){for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.dataList=e.result}else swal("No data found!");s instanceof Function&&s()}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.resetForm=function(){o.userId="",o.channelVariation="",o.channelName="",o.roundId="",o.startDate="",o.endDate="",o.dataList="",o.totalPage=0},o.onStartDateChange=function(){o.endDate=o.startDate?"":o.startDate},o.onEndDateChange=function(){Number(new Date(o.startDate))>Number(new Date(o.endDate))&&(o.endDate="",swal({title:"End date must be greater then start date.",text:"",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Close",closeOnConfirm:!0,inputType:"text",html:!0},function(){}))},o.getTableList=function(){var e={};o.isRealMoney&&(e.isRealMoney=o.isRealMoney),console.log("line 177",e),l.post("/listAllCashTable",e).success(function(e){e.success?o.tableList=e.result:(o.tableList="",swal("Error",e.info))}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.getTableList();var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listPlayerData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=i(e,"sheet_name"),o.listPlayerData("",0,7)},500)})}}]),angular.module("MetronicApp").controller("PlayerMagnetChipsHistoryController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside ChipsReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.init=function(e,t){if(showList=!0,!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select an end date!");if(!o.playerName)return void swal("Error!","Please enter a username!");var a={},s=new Date($(".date-picker1").data("datepicker").getUTCDate()),r=new Date($(".date-picker2").data("datepicker").getUTCDate());s.setUTCDate(1),s.setUTCHours(0),s.setUTCMinutes(0),s.setUTCSeconds(0),s.setUTCMilliseconds(0),s.setUTCMonth(s.getMonth()+1),r.setUTCDate(1),r.setUTCHours(0),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0),r.setUTCMonth(r.getMonth()+2),console.log("data ==== ",a),a.startDate=Number(s),a.endDate=Number(r),a.userName=o.playerName,l.post("/playerMagnetChipsDetails",a).success(function(e){e.success?(console.log("The result in transactionHistoryReportController",e.result),o.listTransaction=e.result,o.listTransaction.sort(function(e,t){return t.date-e.date}),o.listTransaction2=o.listTransaction.slice(0,20),o.totalPage=o.listTransaction.length):(swal("Error!","No data found!"),o.listTransaction2=0,o.totalPage=0)}).error(function(e){swal("Error!","Getting error from server in showing transaction History")})},o.searchHistory=function(){o.currentPage=1,
console.log("************** queryObject",JSON.stringify(o.queryObject)),o.init()},o.resetForm=function(){o.startDate="",o.endDate="",o.playerName="",$(".date-picker1").data("datepicker").value="",o.listTransaction=0,o.listTransaction2=0,o.totalPage=0},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.listTransaction2=o.listTransaction.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.listTransaction2.length),console.log("line 204",o.listTransaction)};var i=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){var t=i(e,"sheet_name");n(function(){location.href=t},100)}}]),angular.module("MetronicApp").controller("RakeByTimeOfDayController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside RakeByTimeOfDayController  @@@@@@@@@");var n={};a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),s.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),s.startDate>s.endDate&&(s.endDate="")},s.generateChart=function(){if(!s.startDate)return void swal("Error!","Please select a start date!");if(!s.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;e&&(n.startDate=e),t&&(n.endDate=t),n.userName=a.poker_userName,n.role=JSON.parse(a.poker_role),s.init()},s.init=function(){n.role.level<=0&&(n.loginId=a.poker_userName),s.setVisible=!0,console.log("the data in RakeByTimeOfDayController ",JSON.stringify(n)),n.keyForRakeModules=!0,r.post("/generateRakeByTimeChart",n).success(function(e){if(e.success){s.setVisible=!0,swal("Success!","Data Retreived  successfully.");var t=[];console.log("*****************",e.result);for(var a=e.result.length-1;a>=0;a--){var o={};o.day=new Date(e.result[a].date).getHours()+":"+new Date(e.result[a].date).getMinutes(),0==new Date(e.result[a].date).getMinutes()&&(o.day=o.day+"0"),o.dailyRakePrevMonth=e.result[a].hourlyAllRake,t.push(o)}console.log("###############",t);AmCharts.makeChart("chartdiv2",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"dailyRakeCurrentMonth",type:"column",valueField:"dailyRakeCurrentMonth",dashLengthField:"dashLengthColumn"},{id:"graph2",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",bullet:"round",lineThickness:3,bulletSize:7,bulletBorderAlpha:1,bulletColor:"#FFFFFF",useLineColorForBulletBorder:!0,bulletBorderThickness:3,fillAlphas:0,lineAlpha:1,title:"Rake",valueField:"dailyRakePrevMonth",dashLengthField:"dashLengthLine"}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});console.log(e),s.formdata={}}else swal("Error!",e.result),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in showing daily rake report. ")})},s.resetForm=function(){s.startDate="",s.endDate="",$("#chartdiv2").html("")}}]),angular.module("MetronicApp").controller("RakeDailyRakeChartController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside RakeDailyRakeChartController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setEndDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=$(".date-picker").data("datepicker").getUTCDate();e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),console.log("the value of date is ",Number(e)),n.addeddate=Number(e),s.init()},s.init=function(){return s.setVisible=!0,console.log(s.formdata.name),console.log(a.poker_userName),console.log("the value inside cookies of RakeDailyRakeChartController is",t.getAll()),n.userName=s.formdata.name,n.role=a.poker_role,"string"==typeof a.poker_role&&(n.role=JSON.parse(a.poker_role)),n.role.level<=0&&(n.loginId=a.poker_userName),console.log("the data in RakeDailyRakeChartController ",JSON.stringify(n)),n.addeddate?(console.log("All fields are present"),n.keyForRakeModules=!0,r.post("/generateDailyRakeChart",n).success(function(e){if(console.log("res ",e),e.success&&(e.result.currentMonthRakeData&&e.result.currentMonthRakeData.length>0||e.result.previousMonthRakeData&&e.result.previousMonthRakeData.length>0)){console.log("line 58",s.setVisible),s.setVisible=!0,console.log("line 60",s.setVisible),swal("Success!","Data Retreived  successfully.");var t=[];console.log("*****************",e.result.currentMonthRakeData),console.log("*****************",e.result.previousMonthRakeData);for(var a=1,o=e.result.currentMonthRakeData.length-1;o>=0;o--){var r={};r.dailyRakeCurrentMonth=e.result.currentMonthRakeData[o].dailyAllRake,r.day=new Date(e.result.currentMonthRakeData[o].date).getDate(),e.result.previousMonthRakeData[o]&&(r.dailyRakePrevMonth=e.result.previousMonthRakeData[o].dailyAllRake),a+=1,t.push(r)}console.log("###############",t);AmCharts.makeChart("chartdiv2",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"Rake Current Month",type:"column",valueField:"dailyRakeCurrentMonth",dashLengthField:"dashLengthColumn"}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});console.log(e),s.formdata={},s.rakeChartForm.$setPristine()}else swal("Error!","No data found!"),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in showing daily rake report. ")}),void 0):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))}}]),angular.module("MetronicApp").controller("RakeReportAffiliateController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,o.isSubAffiliate=!1,JSON.parse(s.poker_role).level==-1&&(o.isSubAffiliate=!0),console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________",o.totalPage,o.currentPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.sortValue="addeddate",o.initCountData=function(){var e={},t=Number(new Date),a=t-864e5;e.startDate=a,e.endDate=t,e.parentUser=s.poker_userName,e.role=JSON.parse(s.poker_role),e.sortValue=o.sortValue,e.keyForRakeModules=!0,console.log("data====",e),l.post("/countlistRakeDataForRakeReportAffiliate",e).success(function(e){e.success?(o.totalPage=e.result,console.log(e.result),o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.initCountData(),o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.parentUser=s.poker_userName,a.role=JSON.parse(s.poker_role),a.sortValue=o.sortValue,console.log("data == ",a),a.keyForRakeModules=!0,l.post("/countlistRakeDataForRakeReportAffiliate",a).success(function(e){e.success?(o.totalPage=e.result,console.log(e.result),o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listRakeData=function(e,t,a){if(o.startDate)var r=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var n=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;if(!o.startDate&&!o.endDate)var n=Number(new Date),r=n-864e5;console.log("the value of date is ",r,n);var i={};r&&(i.startDate=r),n&&(i.endDate=n),JSON.parse(s.poker_role).level<=0&&(i.parentUser=s.poker_userName,i.role=JSON.parse(s.poker_role)),i.sortValue=o.sortValue,i.skip=t,i.limit=a,console.log("data == ",i),i.keyForRakeModules=!0,l.post("/listRakeDataRakeReportAffiliate",i).success(function(e){if(e.success){console.log("res.result---------",e.result);o.dataList=e.result;for(var t=0;t<e.result.length;t++)e.result[t].megaPoints=e.result[t].megaPoints.toFixed(2),e.result[t].amount=e.result[t].amount.toFixed(2),1==e.result[t].megaCircle&&(e.result[t].megaCircle="Bronze"),2==e.result[t].megaCircle&&(e.result[t].megaCircle="Chrome"),3==e.result[t].megaCircle&&(e.result[t].megaCircle="Silver"),4==e.result[t].megaCircle&&(e.result[t].megaCircle="Gold"),5==e.result[t].megaCircle&&(e.result[t].megaCircle="Diamond"),6==e.result[t].megaCircle&&(e.result[t].megaCircle="Platinum"),!e.result[t].debitToSubaffiliatename&&e.result[t].debitToAffiliatename&&(e.result[t].debitToSubaffiliatename="-");o.totalRake=e.totalRake.toFixed(2)}else o.dataList="",o.totalRake=0,swal("Error",e.info)}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.resetForm=function(){o.startDate="",o.endDate="",o.userId="",o.dataList="",o.totalRake=0,o.totalPage=0,o.initCountData()};var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){var t=i(e,"sheet_name");n(function(){location.href=t},100)}}]),angular.module("MetronicApp").controller("RakeReportController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.filter="players",o.sortValue="addeddate",o.data={},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.userName=s.poker_userName,a.role=JSON.parse(s.poker_role),a.sortValue=o.sortValue,console.log("data == ",a),a.keyForRakeModules=!0,l.post("/countlistRakeDataForRakeReport",a).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.initCountData=function(){var e={},t=Number(new Date),a=t-864e5;e.startDate=a,e.endDate=t,e.userName=s.poker_userName,e.role=JSON.parse(s.poker_role),e.sortValue=o.sortValue,console.log("data====",e),e.keyForRakeModules=!0,l.post("/countlistRakeDataForRakeReport",e).success(function(e){e.success?(o.totalPage=e.result,console.log("totalpage 132line",o.totalPage,e.result),o.newPageList()):swal("Error!",e.info)}).error(function(e){swal("Getting error from server",e)})},o.initCountData(),o.listRakeData=function(e,t,a,r){if(o.startDate)var n=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;if(!o.startDate&&!o.endDate)var i=Number(new Date),n=i-864e5;console.log("the value of date is ",n,i);var c={};n&&(c.startDate=n),i&&(c.endDate=i),JSON.parse(s.poker_role).level<=0&&(c.parentUser=s.poker_userName),c.sortValue=o.sortValue,console.log("data == ",c),c.skip=t,c.limit=a,c.keyForRakeModules=!0,l.post("/listRakeDataRakeReport",c).success(function(e){if(e.success){console.log("res.result---------",e.result);o.dataList=e.result;for(var t=0;t<e.result.length;t++)e.result[t].megaPoints=e.result[t].megaPoints.toFixed(2),e.result[t].amount=e.result[t].amount.toFixed(2),1==e.result[t].megaCircle&&(e.result[t].megaCircle="Bronze"),2==e.result[t].megaCircle&&(e.result[t].megaCircle="Chrome"),3==e.result[t].megaCircle&&(e.result[t].megaCircle="Silver"),4==e.result[t].megaCircle&&(e.result[t].megaCircle="Gold"),5==e.result[t].megaCircle&&(e.result[t].megaCircle="Diamond"),6==e.result[t].megaCircle&&(e.result[t].megaCircle="Platinum"),!e.result[t].debitToSubaffiliatename&&e.result[t].debitToAffiliatename&&(e.result[t].debitToSubaffiliatename="-");o.totalRake=e.totalRake.toFixed(2)}else o.dataList="",o.totalRake=0,swal("Error",e.info);r instanceof Function&&r()}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.resetForm=function(){o.startDate="",o.endDate="",o.userId="",o.dataList="",o.totalRake=0,o.totalPage=0,o.initCountData()};var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=i(e,"sheet_name"),o.listRakeData("",0,20)},500)})}}]),angular.module("MetronicApp").controller("RakeSummaryAffiliateDatewiseController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,o.dataList2="",console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.filter="players",o.togglePassword=!1,o.checkPassword=function(){"true"==o.formData.isPrivateTabel&&(o.togglePassword=!0),"false"==o.formData.isPrivateTabel&&(o.togglePassword=!1,o.formData.passwordForPrivate="")},JSON.parse(s.poker_role).level<0&&(o.setDisabled=!0,o.userId=s.poker_userName),o.data={};var i=1,c=1,u=1;o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");if(!o.userId)return void swal("Error!","Please enter a Player or Affiliate ID!");if(!o.minRake)return void swal("Error!","Please enter Minimum Rake Amount!");if(!o.maxRake)return void swal("Error!","Please enter Maximum Rake Amount!");if(!o.minCommission)return void swal("Error!","Please enter Minimum Commission!");if(!o.maxCommission)return void swal("Error!","Please enter Maximum Commission!");if(!o.minCommissionPercent)return void swal("Error!","Please enter Minimum Commission Percent!");if(!o.maxCommissionPercent)return void swal("Error!","Please enter Maximum Commission Percent!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.filter=o.filter,o.userId&&("affiliates"==o.filter?a.filterAffiliate=o.userId:a.filterPlayer=o.userId),o.minRake&&(a.minRake=o.minRake),o.maxRake&&(a.maxRake=o.maxRake),o.minCommission&&(a.minCommission=o.minCommission),o.maxCommission&&(a.maxCommission=o.maxCommission),o.minCommissionPercent&&(a.minCommissionPercent=o.minCommissionPercent),o.maxCommissionPercent&&(a.maxCommissionPercent=o.maxCommissionPercent),console.log("data == ",a),a.keyForRakeModules=!0,l.post("/countlistRakeDataByPlayerOrAffiliate",a).success(function(e){e.success?o.totalPage=e.result:(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.searchFunction=function(){return o.startDate||o.endDate||o.userId||o.minRake||o.maxRake||o.minCommission||o.maxCommission||o.minCommissionPercent||o.maxCommissionPercent?o.minRake&&o.maxRake&&o.minRake>o.maxRake||o.minCommission&&o.maxCommission&&o.minCommission>o.maxCommission||o.minCommissionPercent&&o.maxCommissionPercent&&o.minCommissionPercent>o.maxCommissionPercent?(swal("Please enter valid Input"),!1):o.minRake&&o.minRake<0||o.maxRake&&o.maxRake<0||o.minCommission&&o.minCommission<0||o.maxCommission&&o.maxCommission<0||o.minCommissionPercent&&o.minCommissionPercent<0||o.maxCommissionPercent&&o.maxCommissionPercent<0?(swal("Input fields cannot contain negative values"),!1):void o.listRakeData():(swal("Please provide any one filter."),!1)},o.listRakeData=function(e,t,a,r){if(o.startDate)var n=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5;console.log("the value of date is ",n,i);var c={};c.containsFilters=!1,n&&(c.startDate=n),i&&(c.endDate=i),o.userId&&(c.filterAffiliate=o.userId),o.minRake&&(c.containsFilters=!0,c.minRake=o.minRake),o.maxRake&&(c.containsFilters=!0,c.maxRake=o.maxRake),o.minCommission&&(c.containsFilters=!0,c.minCommission=o.minCommission),o.maxCommission&&(c.containsFilters=!0,c.maxCommission=o.maxCommission),o.minCommissionPercent&&(c.containsFilters=!0,c.minCommissionPercent=o.minCommissionPercent),o.maxCommissionPercent&&(c.containsFilters=!0,c.maxCommissionPercent=o.maxCommissionPercent),JSON.parse(s.poker_role).level<=0&&(c.parentUser=s.poker_userName),c.filter="affiliates",o.userId&&o.userId.toUpperCase()==s.poker_userName.toUpperCase()&&(c.filter="self"),console.log("data == ",c),c.skip=t,c.limit=a,c.keyForRakeModules=!0,l.post("/listRakeDataDatewise",c).success(function(e){if(e.success){console.log("res.result---------",e.result),o.currentPage=1;var t=0;o.dataList=[];for(var a=0,s=0;s<e.result.length;s++)for(var l=0;l<e.result[s].dailyRakeData.length;l++)o.dataList[t]=e.result[s].dailyRakeData[l],o.dataList[t].rakeCommision=e.result[s].rakeCommision,o.dataList[t].userName=e.result[s].userName,o.dataList[t].parentUser=e.result[s].parentUser,a+=e.result[s].dailyRakeData[l].dailyRake,console.log(o.dataList[t]),t++;o.totalRake=a.toFixed(2),o.totalPage=o.dataList.length,r instanceof Function?(o.dataList2=o.dataList,r()):o.newPageData()}else o.dataList="",o.totalRake=0,swal("Error",e.info)}).error(function(e){})},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.dataList2=o.dataList.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.dataList2.length),console.log("line 204",o.dataList.length)},o.listRakeData(),o.resetForm=function(){o.startDate="",o.endDate="",o.userId="",o.minRake="",o.maxRake="",o.minCommission="",o.maxCommission="",o.minCommissionPercent="",o.maxCommissionPercent="",o.dataList="",o.totalRake=0,JSON.parse(s.poker_role).level<0&&(o.setDisabled=!0,o.userId=s.poker_userName),o.listRakeData()},o.sortTableByRake=function(){i*=-1,1==i?o.dataList2.sort(function(e,t){return parseFloat(e.dailyRake)-parseFloat(t.dailyRake)}):o.dataList2.sort(function(e,t){return parseFloat(t.dailyRake)-parseFloat(e.dailyRake)})},o.sortTableByDate=function(){c*=-1,1==c?o.dataList2.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList2.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})},o.sortTableByName=function(){u*=-1,1==u?o.dataList2.sort(function(e,t){return e.userName>t.userName?-1:e.userName<t.userName?1:void 0}):o.dataList2.sort(function(e,t){return e.userName<t.userName?-1:e.userName>t.userName?1:void 0})},o.sortTableByRakeAff=function(){i*=-1,1==i?o.dataList2.sort(function(e,t){return parseFloat(e.dailyRake)-parseFloat(t.dailyRake)}):o.dataList2.sort(function(e,t){return parseFloat(t.dailyRake)-parseFloat(e.dailyRake)})},o.sortTableByDateAff=function(){c*=-1,1==c?o.dataList2.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList2.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})},o.sortTableByNameAff=function(){u*=-1,1==u?o.dataList2.sort(function(e,t){return e.userName>t.userName?-1:e.userName<t.userName?1:void 0}):o.dataList2.sort(function(e,t){return e.userName<t.userName?-1:e.userName>t.userName?1:void 0})};var d=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=d(e,"sheet_name"),o.listRakeData("",0,20)},500)})}}]),angular.module("MetronicApp").controller("RakeSummaryByAffiliateOrPlayerController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.filter="players",o.togglePassword=!1,o.setHidden=!1,JSON.parse(s.poker_role).level<0&&(o.setHidden=!0),o.checkPassword=function(){"true"==o.formData.isPrivateTabel&&(o.togglePassword=!0),"false"==o.formData.isPrivateTabel&&(o.togglePassword=!1,o.formData.passwordForPrivate="")},o.data={};var i=1,c=-1;o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.setUser=function(){"self"==o.filter?(o.userId=s.poker_userName,o.isDisabled=!0):(o.userId="",o.isDisabled=!1)},o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");if(!o.userId&&"self"!=o.filter){if("self"!=o.filter)return void swal("Error!","Please enter a Player or Affiliate ID!");console.log("self selected")}var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.filter=o.filter,o.userId&&("affiliates"==o.filter?a.filterAffiliate=o.userId:a.filterPlayer=o.userId),console.log("data == ",a),l.post("/countlistRakeDataByPlayerOrAffiliate",a).success(function(e){e.success?o.totalPage=e.result:(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listRakeData=function(e,t,a,r){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select an end date!");if(!o.userId&&"self"!=o.filter){if("self"!=o.filter)return void swal("Error!","Please enter a Player or Affiliate ID!");console.log("self selected")}var n=Number($(".date-picker1").data("datepicker").getUTCDate()),i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5;console.log("the value of date is ",n,i);var c={};n&&(c.startDate=n),i&&(c.endDate=i),c.filter=o.filter,o.userId&&("affiliates"==o.filter?c.filterAffiliate=o.userId:c.filterPlayer=o.userId),"self"==o.filter&&(c.filterAffiliate=s.poker_userName),console.log("data == ",c),c.userRole=JSON.parse(s.poker_role),c.loggedInUser=s.poker_userName,c.skip=t,c.limit=a,"affiliates"==o.filter||"self"==o.filter?(c.keyForRakeModules=!0,l.post("/listRakeDataAffiliatesByPlayerOrAffiliate",c).success(function(e){if(e.success){console.log("res.result---------",e.result),o.dataList=e.result,o.totalPage=o.dataList.length;for(var t=0,a=0;a<e.result.length;a++)t+=e.result[a].dailyRake;o.totalRake=t,o.totalRake=o.totalRake.toFixed(2),r instanceof Function?(o.dataList2=e.result,r()):o.newPageData()}else o.dataList="",o.dataList2="",o.totalPage=0,o.totalRake=0,swal("Error",e.info)}).error(function(e){swal("Error!","Getting error from server in showing tables")})):(JSON.parse(s.poker_role).level<=0&&(c.parentUser=s.poker_userName),c.keyForRakeModules=!0,l.post("/listRakeDataPlayerByPlayerOrAffiliate",c).success(function(e){if(e.success){console.log("res.result---------",e.result),o.dataList=e.result,o.totalPage=o.dataList.length;for(var t=0,a=0;a<e.result.length;a++)t+=e.result[a].dailyRake;o.totalRake=t,o.totalRake=o.totalRake.toFixed(2),r instanceof Function?(o.dataList2=e.result,r()):o.newPageData()}else o.dataList="",o.dataList2="",o.totalPage=0,o.totalRake=0,swal("Error",e.info)}).error(function(e){}))},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.dataList2=o.dataList.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.dataList2.length),console.log("line 204",o.dataList)},o.sortTableByRake=function(){i*=-1,1==i?o.dataList2.sort(function(e,t){return parseFloat(e.dailyRake)-parseFloat(t.dailyRake)}):o.dataList2.sort(function(e,t){return parseFloat(t.dailyRake)-parseFloat(e.dailyRake)})},o.sortTableByDate=function(){c*=-1,1==c?o.dataList2.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList2.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})},o.sortTableByRakeAff=function(){i*=-1,1==i?o.dataList.sort(function(e,t){return parseFloat(e.dailyRake)-parseFloat(t.dailyRake)}):o.dataList.sort(function(e,t){return parseFloat(t.dailyRake)-parseFloat(e.dailyRake)})},o.sortTableByDateAff=function(){c*=-1,1==c?o.dataList.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})};var u=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=u(e,"sheet_name"),
o.listRakeData("",0,20)},500)})},o.resetForm=function(){o.startDate="",o.endDate="",o.userId="",o.totalRake=0,o.dataList={},o.dataList2={},o.totalPage=0}}]),angular.module("MetronicApp").controller("RakeSummaryByCashTableController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={};var i=1,c=-1;o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.parentUser=s.poker_userName,a.role=JSON.parse(s.poker_role),console.log("data == ",a),a.keyForRakeModules=!0,l.post("/countlistRakeDataByCashTable",a).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listRakeData=function(e,t,a,r){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select an end date!");if(!o.tableName)return void swal("Error!","Please select a table!");if(o.startDate)var n=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;console.log("the value of date is ",n,i);var c={};n&&(c.startDate=n),i&&(c.endDate=i),JSON.parse(s.poker_role).level<=0&&(c.parentUser=s.poker_userName,c.role=JSON.parse(s.poker_role)),c.tableId=o.tableName,console.log("data == ",c),c.skip=t,c.limit=a,c.keyForRakeModules=!0,l.post("/listRakeDataByCashTable",c).success(function(e){if(e.success){console.log("res.result---------",e.result),o.resultTableName=o.tableList.filter(function(e){return e._id===c.tableId})[0].channelName;o.dataList=e.result;for(var t=0,a=0;a<e.result.length;a++)t+=e.result[a].dailyRake;o.totalRake=t.toFixed(2),o.totalPage=o.dataList.length,r instanceof Function?(o.dataList2=e.result,r()):o.newPageData()}else o.dataList="",o.totalRake=0,swal("Error",e.info)}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.dataList2=o.dataList.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.dataList2.length),console.log("line 204",o.dataList)},o.resetForm=function(){o.startDate="",o.endDate="",o.tableName="",o.dataList="",o.dataList2="",o.totalRake=0,o.totalPage=0},o.getTableList=function(){var e={};e.keyForRakeModules=!0,l.post("/listAllCashTable",e).success(function(e){e.success?o.tableList=e.result:(o.tableList="",swal("Error",e.info))}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.sortTableByRake=function(){i*=-1,1==i?o.dataList2.sort(function(e,t){return parseFloat(e.dailyRake)-parseFloat(t.dailyRake)}):o.dataList2.sort(function(e,t){return parseFloat(t.dailyRake)-parseFloat(e.dailyRake)})},o.sortTableByDate=function(){c*=-1,1==c?o.dataList2.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList2.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})};var u=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=u(e,"sheet_name"),o.listRakeData("",0,20)},500)})},o.getTableList()}]),angular.module("MetronicApp").controller("RakeSummaryByDateController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker").datepicker("setEndDate",new Date),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.filter="players",o.togglePassword=!1,o.setHidden=!1,JSON.parse(s.poker_role).level<0&&(o.setHidden=!0),o.checkPassword=function(){"true"==o.formData.isPrivateTabel&&(o.togglePassword=!0),"false"==o.formData.isPrivateTabel&&(o.togglePassword=!1,o.formData.passwordForPrivate="")},o.setUser=function(){"self"==o.filter?(o.userId=s.poker_userName,o.isDisabled=!0):(o.userId="",o.isDisabled=!1)},o.data={},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.initCountData=function(){var e={},t=new Date;t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),e.addeddate=Number(t),e.filter=o.filter,e.keyForRakeModules=!0,console.log("line 83 data",e),l.post("/countlistRakeDataByDate",e).success(function(e){e.success?(o.totalPage=e.result,console.log("line 89",e.result,o.totalPage),o.newPageList()):(o.totalPage=0,o.dataList="",o.totalRake=0,swal("Error!",e.info))}).error(function(e){swal("Getting error from server in showing rake rules",e.stack)})},o.countData=function(){o.currentPage=1;var e=Number($(".date-picker").data("datepicker").getUTCDate());if(console.log("the value of date is ",e),!e)return void swal("Error!","Please select a date!");var t={};e&&(t.addeddate=e),t.filter=o.filter,o.userId&&("affiliates"==o.filter?(t.filterAffiliate=o.userId,JSON.parse(s.poker_role).level<=0&&(t.parentUser=s.poker_userName)):"players"==o.filter&&(t.filterPlayer=o.userId)),"self"==o.filter&&(t.filterAffiliate=s.poker_userName),JSON.parse(s.poker_role).level<=0&&(t.isParentUserName=s.poker_userName),console.log("data line 67== ",t),t.keyForRakeModules=!0,l.post("/countlistRakeDataByDate",t).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(o.totalPage=0,o.dataList="",o.totalRake=0,swal("Error!",e.info))}).error(function(e){swal("Getting error from server in showing rake rules",e.stack)})},o.searchAff=function(){var e=Number($(".date-picker").data("datepicker").getUTCDate());return e?void o.listRakeData("",0,0):void swal("Error!","Please select a date!")},o.listRakeData=function(e,t,a,r){var n={};if(o.searchDate){var i="";i=Number($(".date-picker").data("datepicker").getUTCDate())}if(i&&(n.addeddate=i),!i){var c=new Date;c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),n.addeddate=Number(c)}n.filter=o.filter,o.userId&&("affiliates"==o.filter?n.filterAffiliate=o.userId:"players"==o.filter?n.filterPlayer=o.userId:n.filterAffiliate=s.poker_userName),JSON.parse(s.poker_role).level<=0&&(n.parentUser=s.poker_userName,n.isParentUserName=s.poker_userName),n.userRole=JSON.parse(s.poker_role),n.skip=t,n.limit=a,console.log("data===== ",n),"affiliates"==o.filter?(n.keyForRakeModules=!0,l.post("/listRakeDataAffiliatesByDate",n).success(function(e){console.log("res.result---------",e),e.success?(o.totalRakeAllPages(),o.dataList=e.result.affiliatesArray):swal("Error!",e.err),r instanceof Function&&r()}).error(function(e){swal("Error!",e.info)})):"players"==o.filter?(n.keyForRakeModules=!0,l.post("/listRakeDataPlayerByDate",n).success(function(e){console.log("res.result---------",e),e.success?(o.totalRakeAllPages(),o.dataList=e.result.playersArray):swal("Error!",e.err),r instanceof Function&&r()}).error(function(e){swal("Error!",res.err)})):(n.keyForRakeModules=!0,l.post("/listRakeDataSelfByDate",n).success(function(e){console.log("res.result---------",e),e.success?(o.dataList=e.result.affiliatesArray,o.totalRakeAllPages()):swal("Error!",e.err),r instanceof Function&&r()}).error(function(e){swal("Error!",res.err)}))},o.totalRakeAllPages=function(){if(o.searchDate)var e=Number($(".date-picker").data("datepicker").getUTCDate());var t={};if(!e){var a=new Date;a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),t.addeddate=Number(a)}e&&(t.addeddate=e),t.filter=o.filter,o.userId&&("affiliates"==o.filter?t.filterAffiliate=o.userId:"players"==o.filter?t.filterPlayer=o.userId:t.filterAffiliate=s.poker_userName),JSON.parse(s.poker_role).level<=0&&(t.parentUser=s.poker_userName,t.isParentUserName=s.poker_userName),t.userRole=JSON.parse(s.poker_role),t.skip=0,t.limit=0,"affiliates"==o.filter?(t.keyForRakeModules=!0,l.post("/listRakeDataAffiliatesByDate",t).success(function(e){if(console.log("res.result---------",e),e.success){for(var t=0,a=0;a<e.result.affiliatesArray.length;a++)t+=e.result.affiliatesArray[a].totalRake;o.totalRake=t,o.totalRake=o.totalRake.toFixed(2)}else swal("Error!",e.err)}).error(function(e){swal("Error!",e.info)})):"players"==o.filter?(t.keyForRakeModules=!0,l.post("/listRakeDataPlayerByDate",t).success(function(e){if(console.log("res.result---------",e),e.success){for(var t=0,a=0;a<e.result.playersArray.length;a++)t+=e.result.playersArray[a].totalRake;o.totalRake=t,o.totalRake=o.totalRake.toFixed(2)}else swal("Error!",e.err)}).error(function(e){swal("Error!",res.err)})):(t.keyForRakeModules=!0,l.post("/listRakeDataSelfByDate",t).success(function(e){if(console.log("res.result---------",e),e.success){for(var t=0,a=0;a<e.result.affiliatesArray.length;a++)t+=e.result.affiliatesArray[a].totalRake;o.totalRake=t,o.totalRake=o.totalRake.toFixed(2)}else swal("Error!",e.err)}).error(function(e){swal("Error!",res.err)}))};var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),setTimeout(function(){location.href=i(e,"sheet_name")},500)})},o.resetForm=function(){o.startDate="",o.searchDate="",$(".date-picker").data("datepicker").value="",o.endDate="",o.userId="",o.dataList={},o.dataList2={},o.totalRake=0,o.totalPage=0,o.initCountData()}}]),angular.module("MetronicApp").controller("RakeSummaryByGameVariantsController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={};var i=1,c=-1;o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3,a={};e&&(a.startDate=e),t&&(a.endDate=t),a.parentUser=s.poker_userName,a.role=JSON.parse(s.poker_role),console.log("data == ",a),a.keyForRakeModules=!0,l.post("/countlistRakeDataByCashTable",a).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listRakeData=function(e,t,a,r){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select an end date!");if(!o.channelVariation)return void swal("Error!","Please select a game variant!");if(o.startDate)var n=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var i=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;console.log("the value of date is ",n,i);var c={};n&&(c.startDate=n),i&&(c.endDate=i),JSON.parse(s.poker_role).level<=0&&(c.parentUser=s.poker_userName,c.role=JSON.parse(s.poker_role)),c.rakeRefVariation=o.channelVariation,console.log("data == ",c),c.skip=t,c.limit=a,c.keyForRakeModules=!0,l.post("/listRakeDataByGameVariant",c).success(function(e){if(e.success){console.log("res.result---------",e.result);o.dataList=e.result;for(var t=0,a=0;a<e.result.length;a++)t+=e.result[a].dailyAllRake;o.totalRake=t.toFixed(2),o.totalPage=o.dataList.length,r instanceof Function?(o.dataList2=e.result,r()):o.newPageData()}else o.dataList="",o.totalRake=0,swal("Error",e.info)}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.newPageData=function(){var e=(o.currentPage-1)*o.pageSize;o.dataList2=o.dataList.slice(e,e+20),console.log("line 202",o.currentPage,o.pageSize,e),console.log("line 203",o.dataList2.length),console.log("line 204",o.dataList)},o.resetForm=function(){o.startDate="",o.endDate="",o.tableName="",o.dataList="",o.dataList2="",o.totalRake=0,o.totalPage=0},o.sortTableByRake=function(){i*=-1,1==i?o.dataList2.sort(function(e,t){return parseFloat(e.dailyAllRake)-parseFloat(t.dailyAllRake)}):o.dataList2.sort(function(e,t){return parseFloat(t.dailyAllRake)-parseFloat(e.dailyAllRake)})},o.sortTableByDate=function(){c*=-1,1==c?o.dataList2.sort(function(e,t){return parseFloat(e.date)-parseFloat(t.date)}):o.dataList2.sort(function(e,t){return parseFloat(t.date)-parseFloat(e.date)})};var u=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=u(e,"sheet_name"),o.listRakeData("",0,0)},500)})}}]),angular.module("MetronicApp").controller("RakeTableRakeReportController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.pageSize=20,o.currentPage=1,o.totalPage=0,o.totalRake=0,console.log("line 29 ",o.totalPage),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")};var i=1,c=1;o.countData=function(){var e={};e.parentUser=s.poker_userName,e.role=JSON.parse(s.poker_role),console.log("data == ",e),e.keyForRakeModules=!0,l.post("/countCashTables",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listRakeData=function(e,t,a,r){var n={};JSON.parse(s.poker_role).level<=0&&(n.parentUser=s.poker_userName,n.role=JSON.parse(s.poker_role)),console.log("data == ",n),n.skip=t,n.limit=a,n.keyForRakeModules=!0,l.post("/listEachCashTableRakeData",n).success(function(e){e.success?(console.log("res.result---------",e.result),o.findTotalRakeFromAllTables(),o.tableList=e.result):(o.tableList="",o.totalRake=0,swal("Error",e.info)),r instanceof Function?(o.dataList2=o.dataList,setTimeout(function(){r()},100)):o.newPageData()}).error(function(e){})},o.findTotalRakeFromAllTables=function(){var e={};JSON.parse(s.poker_role).level<=0&&(e.parentUser=s.poker_userName,e.role=JSON.parse(s.poker_role)),e.keyForRakeModules=!0,l.post("/listEachCashTableRakeData",e).success(function(e){if(e.success){console.log("res.result---------",e.result);for(var t=0,a=0;a<e.result.length;a++)e.result[a].rakeGenerated=e.result[a].rakeGenerated,t+=e.result[a].rakeGenerated;o.totalRake=t.toFixed(2)}else o.tableList="",o.totalRake=0,swal("Error",e.info)}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.resetForm=function(){o.startDate="",o.endDate="",o.tableName="",o.dataList="",o.totalRake=0},o.getTableList=function(){var e={};e.keyForRakeModules=!0,l.post("/listAllCashTable",e).success(function(e){e.success?(console.log("res.result---------",e.result),o.tableList=e.result):(o.tableList="",swal("Error",e.info))}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.sortTableByRake=function(){i*=-1,1==i?o.tableList.sort(function(e,t){return parseFloat(e.rakeGenerated)-parseFloat(t.rakeGenerated)}):o.tableList.sort(function(e,t){return parseFloat(t.rakeGenerated)-parseFloat(e.rakeGenerated)}),o.$apply()},o.sortTableByName=function(){c*=-1,1==c?o.tableList.sort(function(e,t){return e.channelName>t.channelName?-1:e.channelName<t.channelName?1:void 0}):o.tableList.sort(function(e,t){return e.channelName<t.channelName?-1:e.channelName>t.channelName?1:void 0}),o.$apply()};var u=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listRakeData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=u(e,"sheet_name"),o.listRakeData("",0,20)},500)})},o.countData()}]),angular.module("MetronicApp").controller("SubAffiliateCtrl",["$location","$window","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes",s.role),e.path("/login.html")),o.affiliateData={},o.affiliateData.module=[],o.selectedList={},o.xyz=!0,o.checkEdit=!1,$(".date-picker").datepicker({autoclose:!0}),console.log("line 25 == ",s.moduleAccess),console.log("line 26 == ",o.subAffilateModuleAccess);var i=JSON.stringify(s.affilateModuleAccess);i=JSON.parse(i);for(var c in i){rootTools.filterModuleSubAffiliate.indexOf(i[c].code)>-1&&(i[c].status=!1);for(var u in i[c].subModule)rootTools.filterModuleSubAffiliate.indexOf(i[c].subModule[u].code)>-1&&(i[c].subModule[u].status=!1)}o.subAffilateModuleAccess=i,o.affilateModuleAccess=i,o.pageSize=20,o.currentPage=1,o.totalPage=0,o.newPageList=function(){o.listUsers("",(o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.newPageListSubAffiliates=function(){o.listSubAffiliates("",(o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)};var d={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email};o.affiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"affiliate",level:0},dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateData={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:s.poker_userName,dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.subAffiliateDataAdmin={name:"",userName:"",mobile:null,email:"",password:"",panCard:"",role:{name:"subAffiliate",level:-1},parentUser:"",dob:null,creditLimit:null,cityName:"",rakeCommision:null,realChips:0,profit:0,withdrawal:0,status:null,address:"",createdBy:d,createdAt:Number(new Date),upDateAt:Number(new Date),withdrawalChips:0,pulledRealChips:0,deposit:0},o.submit=function(){var e=[];$("input:checked").each(function(){console.log($(this).is(":checked")),e.push($(this).attr("value"))}),o.affiliateData.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.affiliateData.dob))>0&&(o.affiliateData.dob=Number(new Date(o.affiliateData.dob))),console.log(JSON.stringify(o.affiliateData)),r({method:"post",url:"/createNewAffiliate",data:o.affiliateData,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Affiliate Created Successfully"),o.affiliateData={},o.affiliateForm.$setPristine();for(var t in o.selectedList)o.selectedList[t]=!1}else swal(e.data.info),o.affiliateData.dob=new Date(o.affiliateData.dob),o.affiliateData.dob=o.affiliateData.dob.toISOString().split("T")[0]},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},o.getAffiliateCount=function(){r.get("/getAffiliateCount").success(function(e){e.success?(console.log("line 235== ",e.result),o.totalPage=e.result,o.newPageList()):(o.totalPage=0,swal("No data found!"))}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},o.getSubAffiliateCount=function(){var e={};0==JSON.parse(s.poker_role).level&&(e.parentUser=s.poker_userName,o.setDisabled=!0),l.affiliateId&&(e.parentUser=l.affiliateId),o.status&&(e.status=o.status),o.name&&(e.name=o.name),o.email&&(e.email=o.email),o.loginId&&(e.loginId=o.loginId),r({method:"post",url:"/getSubAffiliateCount",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e),e.data.success?(console.log("res.result line226== ",e),o.totalPage=e.data.result,o.newPageListSubAffiliates()):(o.totalPage=0,swal("No data found!"))},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.listUsers=function(e,t,a){var s={};s.roleName="affiliate",s.skip=t,s.limit=a,e&&(s._id=e),o.status&&(s.status=o.status),o.name&&(s.name=o.name),o.email&&(s.email=o.email),o.loginId&&(s.loginId=o.loginId),r({method:"post",url:"/listAffiliate",data:s,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(console.log(t.data),o.dataList=t.data.result,1==t.data.result.length&&(o.totalPage=0),0==t.data.result.length&&(o.totalPage=0,swal("No data found.")),e){o.affiliateData=o.dataList[0],o.affiliateData.dob=n("date")(o.affiliateData.dob,"yyyy-MM-dd");for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0}}else swal("Error!",t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.listSubAffiliates=function(e,t,a,i){var c={};c.roleName="affiliate",c.skip=t,c.limit=a,console.log("line 280 == ",s.poker_role,s.poker_role.level),0==JSON.parse(s.poker_role).level&&(c.parentUser=s.poker_userName,o.setDisabled=!0),l.affiliateId&&(c.parentUser=l.affiliateId),e&&(c._id=e),o.status&&(c.status=o.status),o.name&&(c.name=o.name),o.email&&(c.email=o.email),o.loginId&&(c.loginId=o.loginId),r({method:"post",url:"/listSubAffiliate",data:c,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(console.log(t.data),o.dataList=t.data.result,0==t.data.result.length&&(o.totalPage=0,swal("No data found.")),e){o.subAffiliateDataAdmin=o.dataList[0],o.subAffiliateDataAdmin.dob=n("date")(o.subAffiliateDataAdmin.dob,"yyyy-MM-dd");for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0}}else swal("Error!",t.data.info);i instanceof Function&&i()},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.checkAge=function(e){var t=new Date,e=new Date(e),a=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();(s<0||0===s&&t.getDate()<e.getDate())&&a--,a<18&&(swal("Info!","You are less than 18 years so your account cannot be created."),o.affiliateData.dob=null,o.subAffiliateData.dob=null,o.subAffiliateDataAdmin.dob=null)},o.cancelSubmit=function(){o.affiliateData={},e.path("/listOfAffiliate")},o.submitUpdate=function(){var t=[];$("input:checked").each(function(){console.log($(this).is(":checked")),t.push($(this).attr("value"))}),o.affiliateData.module=t.filter(function(e){return void 0!=e}),Number(new Date(o.affiliateData.dob))>0&&null!==o.affiliateData.dob&&(o.affiliateData.dob=Number(new Date(o.affiliateData.dob))),console.log(JSON.stringify(o.affiliateData)),r({method:"post",url:"/updateAffiliate",data:o.affiliateData,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Affiliate successfully updated"),o.affiliateData={},e.path("/listOfAffiliate")):swal(t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},o.updateSubAffiliateByAdmin=function(){var t=[];$("input:checked").each(function(){console.log($(this).is(":checked")),t.push($(this).attr("value"))}),o.subAffiliateDataAdmin.module=t.filter(function(e){return void 0!=e});var a=angular.copy(o.subAffiliateDataAdmin);Number(new Date(o.subAffiliateDataAdmin.dob))>0&&null!==o.subAffiliateDataAdmin.dob&&(a.dob=Number(new Date(o.subAffiliateDataAdmin.dob))),console.log(JSON.stringify(a)),r({method:"post",url:"/updateSubAffiliate",data:a,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","Sub-affiliate Successfully updated"),o.affiliateData={},e.path("/listSubAffiliate")):swal(t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},l.affilateId&&(o.checkEdit=!0,o.listUsers(l.affilateId,0,0)),l.subAffilateId&&(o.checkEdit=!0,o.listSubAffiliates(l.subAffilateId,0,0)),o.submitByAdmin=function(){var e=[];$("input:checked").each(function(){console.log($(this).is(":checked")),e.push($(this).attr("value"))}),o.subAffiliateDataAdmin.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.subAffiliateDataAdmin.dob))>0&&(o.subAffiliateDataAdmin.dob=Number(new Date(o.subAffiliateDataAdmin.dob))),console.log(JSON.stringify(o.subAffiliateDataAdmin)),r({method:"post",url:"/createSubAffiliate",data:o.subAffiliateDataAdmin,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Successfully created sub-affilate!"),o.subAffiliateDataAdmin={},o.affiliateForm.$setPristine(),o.subAffiliateDataAdmin.role={},o.subAffiliateDataAdmin.module="",o.subAffiliateDataAdmin.role.name="subAffiliate",o.subAffiliateDataAdmin.cnfpassword="";for(var t in o.selectedList)o.selectedList[t]=!1}else swal(e.data.info),o.subAffiliateDataAdmin.dob=new Date(o.subAffiliateDataAdmin.dob),o.subAffiliateDataAdmin.dob=o.subAffiliateDataAdmin.dob.toISOString().split("T")[0]},function(e){console.log(e,"err"),swal("Error!","Getting error from server!")})},o.submitByAffiliate=function(){var e=[];$("input:checked").each(function(){console.log($(this).is(":checked")),e.push($(this).attr("value"))}),o.subAffiliateData.module=e.filter(function(e){return void 0!=e}),Number(new Date(o.subAffiliateData.dob))>0&&(o.subAffiliateData.dob=Number(new Date(o.subAffiliateData.dob))),console.log(JSON.stringify(o.subAffiliateData)),r({method:"post",url:"/createSubAffiliate",data:o.subAffiliateData,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","Successfully created sub-affilate!"),o.subAffiliateData={},o.affiliateForm.$setPristine(),o.subAffiliateData.role={},o.subAffiliateData.module="",o.subAffiliateData.role.name="subAffiliate",o.subAffiliateData.cnfpassword="";for(var t in o.selectedList)o.selectedList[t]=!1}else swal(e.data.info),o.subAffiliateData.dob=new Date(o.subAffiliateData.dob),o.subAffiliateData.dob=o.subAffiliateData.dob.toISOString().split("T")[0]},function(e){console.log(e,"err"),swal("Error!","Getting error from server!");
})},o.changeModule=function(e,t,a,s){if(s){var r=!1;console.log(e,s),a.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),console.log(r),o.selectedList[a.code]=r}if(a){var r=!1;t.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),o.selectedList[t.code]=r}a||s||!t.subModule?!s&&a&&a.subModule&&a.subModule.forEach(function(t){o.selectedList[t.code]=e}):t.subModule.forEach(function(t){o.selectedList[t.code]=e,t.subModule&&t.subModule.forEach(function(t){o.selectedList[t.code]=e})})},o.searchFunction=function(){o.status||o.name||o.email||o.loginId?o.getSubAffiliateCount():swal("Please provide at least one input.")},o.reset=function(){o.status="",o.name="",o.email="",o.loginId="",o.getSubAffiliateCount()};var p=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){o.listSubAffiliates("",0,0,function(){t.scrollTo(0,0),setTimeout(function(){location.href=p(e,"sheet_name")},500)})}}]),angular.module("MetronicApp").controller("TableEditedFieldsController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){if(o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},r.tableUpdateId&&s.dataListUpdateTable){console.log("line 36 ",s.dataListUpdateTable,r.tableUpdateId);var i=s.dataListUpdateTable;o.updateDataElement=i.find(function(e){return e._id==r.tableUpdateId}),console.log("line 42 ",o.updateDataElement)}else swal("Update ID not found")}]),angular.module("MetronicApp").controller("TableUpdateReportController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list table controller loaded"),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),t.remove("poker_token"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listTableUpdateData("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.init=function(){t.remove("poker_token"),t.remove("poker_name"),t.remove("poker_role"),t.remove("poker_userName"),t.remove("poker_email"),t.remove("poker_parent")},o.listTableUpdateData=function(e,t,a,n){var i={};if(o.startDate)var c=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var u=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;console.log("line 55 ",c,u),o.startDate||(c=Number(new Date)-864e5,u=Number(new Date)),i.startDate=c,i.endDate=u,i.channelId=r.tableId,i.skip=t,i.limit=a;l.post("/getTableUpdateRecords",i).success(function(e){console.log("res.result---------",e.result),o.dataList=e.result,s.dataListUpdateTable=e.result,n instanceof Function&&n()}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.countData=function(){if(!o.startDate||!o.endDate)return swal("Please provide start date and end date."),!1;var e={},t=Number($(".date-picker1").data("datepicker").getUTCDate()),a=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;e.startDate=t,e.endDate=a,e.channelId=r.tableId,l.post("/getTableUpdateRecordsCount",e).success(function(e){console.log("res.result---------",e),e.success?(o.totalPage=e.result,o.newPageList()):(swal("No data found"),o.startDate="",o.endDate="",o.totalPage=0,o.dataList="")}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.initCountData=function(){var e={},t=Number(new Date)-864e5,a=Number(new Date);e.startDate=t,e.endDate=a,e.channelId=r.tableId,l.post("/getTableUpdateRecordsCount",e).success(function(e){console.log("res.result---------",e),e.success?(o.totalPage=e.result,o.newPageList()):(swal("No data found"),o.startDate="",o.endDate="",o.dataList="")}).error(function(e){swal("Error!","Getting error from server in showing tables")})},o.initCountData(),o.resetForm=function(){o.startDate="",o.endDate="",o.dataList="",o.totalPage=0,o.initCountData()};var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listTableUpdateData("",0,0,function(){a.scrollTo(0,0),n(function(){location.href=i(e,"sheet_name"),o.listTableUpdateData("",0,20)},500)})}}]),angular.module("MetronicApp").controller("TodoController",["$rootScope","$scope","$http","$timeout",function(e,t,a,s){t.$on("$viewContentLoaded",function(){App.initAjax()}),e.settings.layout.pageContentWhite=!0,e.settings.layout.pageBodySolid=!0,e.settings.layout.pageSidebarClosed=!0}]),angular.module("MetronicApp").filter("propsFilter",function(){return function(e,t){var a=[];if(angular.isArray(e)){var s=Object.keys(t);e.forEach(function(e){for(var o=!1,r=0;r<s.length;r++){var l=s[r],n=t[l].toLowerCase();if(e[l].toString().toLowerCase().indexOf(n)!==-1){o=!0;break}}o&&a.push(e)})}else a=e;return a}}),angular.module("MetronicApp").controller("UISelectController",["$scope","$http","$timeout","$interval",function(e,t,a,s){e.$on("$viewContentLoaded",function(){});var o=this;o.disabled=void 0,o.searchEnabled=void 0,o.setInputFocus=function(){e.$broadcast("UiSelectDemo1")},o.enable=function(){o.disabled=!1},o.disable=function(){o.disabled=!0},o.enableSearch=function(){o.searchEnabled=!0},o.disableSearch=function(){o.searchEnabled=!1},o.clear=function(){o.person.selected=void 0,o.address.selected=void 0,o.country.selected=void 0},o.someGroupFn=function(e){return e.name[0]>="A"&&e.name[0]<="M"?"From A - M":e.name[0]>="N"&&e.name[0]<="Z"?"From N - Z":void 0},o.firstLetterGroupFn=function(e){return e.name[0]},o.reverseOrderFilterFn=function(e){return e.reverse()},o.personAsync={selected:"wladimir@email.com"},o.peopleAsync=[],a(function(){o.peopleAsync=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicole@email.com",age:43,country:"Colombia"}]},3e3),o.counter=0,o.onSelectCallback=function(e,t){o.counter++,o.eventResult={item:e,model:t}},o.removed=function(e,t){o.lastRemoved={item:e,model:t}},o.tagTransform=function(e){var t={name:e,email:e.toLowerCase()+"@email.com",age:"unknown",country:"unknown"};return t},o.peopleObj={1:{name:"Adam",email:"adam@email.com",age:12,country:"United States"},2:{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},3:{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},4:{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},5:{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},6:{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},7:{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},8:{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},9:{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},10:{name:"Nicolás",email:"nicolas@email.com",age:43,country:"Colombia"}},o.person={},o.person.selectedValue=o.peopleObj[3],o.person.selectedSingle="Samantha",o.person.selectedSingleKey="5",o.people=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicolas@email.com",age:43,country:"Colombia"}],o.availableColors=["Red","Green","Blue","Yellow","Magenta","Maroon","Umbra","Turquoise"],o.singleDemo={},o.singleDemo.color="",o.multipleDemo={},o.multipleDemo.colors=["Blue","Red"],o.multipleDemo.colors2=["Blue","Red"],o.multipleDemo.selectedPeople=[o.people[5],o.people[4]],o.multipleDemo.selectedPeople2=o.multipleDemo.selectedPeople,o.multipleDemo.selectedPeopleWithGroupBy=[o.people[8],o.people[6]],o.multipleDemo.selectedPeopleSimple=["samantha@email.com","wladimir@email.com"],o.multipleDemo.removeSelectIsFalse=[o.people[2],o.people[0]],o.appendToBodyDemo={remainingToggleTime:0,present:!0,startToggleTimer:function(){var e=o.appendToBodyDemo,t=s(function(){e.remainingTime<1e3?(s.cancel(t),e.present=!e.present,e.remainingTime=0):e.remainingTime-=1e3},1e3);e.remainingTime=3e3}},o.address={},o.refreshAddresses=function(e){var a={address:e,sensor:!1};return t.get("http://maps.googleapis.com/maps/api/geocode/json",{params:a}).then(function(e){o.addresses=e.data.results})},o.addPerson=function(e,t){e.hasOwnProperty("isTag")&&(delete e.isTag,o.people.push(e))},o.country={},o.countries=[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}]),angular.module("MetronicApp").controller("UserController",["$location","$cookies","$rootScope","$stateParams","$scope","$http","$timeout","$window",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss",a.isAdminLogin),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,o.departmentList=rootTools.employeeList,o.affiliateData={},o.xyz=!0,console.log("DashboardController called",a.isAdminLogin,a.role,"role"),console.log("asdasdasds",a.createUserModuleAccess),a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.userData={},o.userData.module=[],o.selectedList={};var i=[];o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listUsers("",(o.currentPage-1)*o.pageSize,o.pageSize),n.scrollTo(0,0)},$("input:checked").each(function(){console.log($(this).is(":checked")),i.push($(this).attr("value"))}),o.userData.module=i.filter(function(e){return void 0!=e}),o.userAccess=JSON.parse(t.get("poker_role")),console.log(o.userAccess),console.log("===",o.userAccess.level),o.submit=function(){var e=[];$("input:checked").each(function(){console.log($(this).is(":checked")),e.push($(this).attr("value"))});var t=angular.copy(o.userData);t.module=e.filter(function(e){return void 0!=e}),"string"==typeof o.userData.role&&(t.role=JSON.parse(o.userData.role)),t.createdBy=a.poker_userName,console.log("userData== ",t),r({method:"post",url:"/createUser",data:t,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){swal("Success!","User created successfully!"),o.userData={},o.userForm.$setPristine();for(var t in o.selectedList)o.selectedList[t]=!1}else console.log("userData== ",e),swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},o.changeModule=function(e,t,a,s){if(s){var r=!1;console.log(e,s),a.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),console.log(r),o.selectedList[a.code]=r}if(a){var r=!1;t.subModule.forEach(function(e){o.selectedList[e.code]&&(r=!0)}),o.selectedList[t.code]=r}a||s||!t.subModule?!s&&a&&a.subModule&&a.subModule.forEach(function(t){o.selectedList[t.code]=e}):t.subModule.forEach(function(t){o.selectedList[t.code]=e,t.subModule&&t.subModule.forEach(function(t){o.selectedList[t.code]=e})})},o.update=function(){var t=[];$("input:checked").each(function(){console.log($(this).is(":checked")),t.push($(this).attr("value"))});var a=angular.copy(o.userData);a.module=t.filter(function(e){return void 0!=e}),"string"==typeof o.userData.role&&(a.role=JSON.parse(o.userData.role)),a.id=s.userId,console.log("userData== ",a),r({method:"post",url:"/updateUserInfo",data:a,headers:{"Content-Type":"application/json"}}).then(function(t){t.data.success?(swal("Success!","User updated successfully!"),o.affiliateData={},e.path("/listUsers")):swal("Error!",t.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login!")})},o.listUsers=function(e,t,a,s){var l={};e&&(l._id=e),l.level=o.userAccess.level,l.skip=t,l.limit=a,o.department&&(l.department=parseInt(o.department)),o.status&&(l.status=o.status),o.name&&(l.name=o.name),o.email&&(l.email=o.email),r({method:"post",url:"/listUser",data:l,headers:{"Content-Type":"application/json"}}).then(function(t){if(t.data.success){if(console.log(t.data),o.dataList=t.data.result,e)for(var a in t.data.result[0].module)o.selectedList[t.data.result[0].module[a]]=!0;o.userData=t.data.result[0]}else swal("Error!",t.data.info);s instanceof Function&&s()},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.countUsers=function(e){var t={};e&&(t._id=e),t.level=o.userAccess.level,o.department&&(t.department=parseInt(o.department)),o.status&&(t.status=o.status),o.name&&(t.name=o.name),o.email&&(t.email=o.email),r({method:"post",url:"/countUsers",data:t,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(o.totalPage=e.data.result,o.newPageList()):swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},o.searchFunction=function(){o.status||o.name||o.email||o.department?o.countUsers():swal("Please provide at least one input.")},o.reset=function(){o.status="",o.name="",o.email="",o.department="",o.countUsers()},o.editUser=function(){s.userId&&o.listUsers(s.userId)};var c=function(e,t){var a="data:application/vnd.ms-excel;base64,",s='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',o=function(e){return n.btoa(unescape(encodeURIComponent(e)))},r=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},l=$(e),i={worksheet:t,table:l.html()},c=a+o(r(s,i));return console.log("ctx ",l.context),c};o.exportData=function(e){o.listUsers("",0,0,function(){n.scrollTo(0,0),setTimeout(function(){location.href=c(e,"sheet_name")},500)})}}]),angular.module("MetronicApp").controller("UserProfileController",["$rootScope","$scope","$http","$timeout","$state",function(e,t,a,s,o){t.$on("$viewContentLoaded",function(){App.initAjax(),Layout.setAngularJsSidebarMenuActiveLink("set",$("#sidebar_menu_link_profile"),o)}),e.settings.layout.pageBodySolid=!0,e.settings.layout.pageSidebarClosed=!0}]),angular.module("MetronicApp").controller("accountDetailsController",["$location","$rootScope","$cookies","$scope","$http","$timeout",function(e,t,a,s,o,r){s.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("accountDetailsController called",t.isAdminLogin),t.isAdminLogin||(console.log("yes"),e.path("/login.html")),t.settings.layout.pageContentWhite=!0,t.settings.layout.pageBodySolid=!1,t.settings.layout.pageSidebarClosed=!1,s.findBalanceSheetDetails=function(){console.log("findBalanceSheetDetails function called in accountDetailsController");var e={};e.userRole=JSON.parse(a.get("poker_role")),o.post("/findBalanceSheet",e).success(function(e){e.success?(console.log("res in findBalanceSheet in accountDetailsController is  - ",e),s.dataList=e.result,s.dataList.bonusOrRealChips=parseFloat(s.dataList.bonus.toFixed(2)),s.dataList.deposit=parseFloat(s.dataList.deposit.toFixed(2)),s.dataList.profit=parseFloat(s.dataList.profit.toFixed(2)),s.dataList.withdrawal=parseFloat(s.dataList.withdrawal.toFixed(2)),s.dataList.deposit=String(s.dataList.deposit).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.bonusOrRealChips=String(s.dataList.bonusOrRealChips).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.profit=String(s.dataList.profit).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.dataList.withdrawal=String(s.dataList.withdrawal).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.key1="Bonus Chips Generated",s.key2="Total Magnet Chips",s.key3="Rake Earned",s.key4="Total Cashout"):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findBalanceSheetDetails()}]),angular.module("MetronicApp").controller("activityDetailsController",["$location","$rootScope","$cookies","$scope","$http","$timeout",function(e,t,a,s,o,r){s.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("activityDetailsController called",t.isAdminLogin),t.isAdminLogin||(console.log("yes"),e.path("/login.html")),t.settings.layout.pageContentWhite=!0,t.settings.layout.pageBodySolid=!1,t.settings.layout.pageSidebarClosed=!1,s.setTodayRakeProfit=!1,s.setWeekRakeProfit=!1,s.setTodayChipsProfit=!1,s.setWeekChipsProfit=!1,s.findPlayerRakeYesterdayDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakePlayersYesterday",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.playerRakeDetails=e.result.playersArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findPlayerRakeYearDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakePlayersYear",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.playerRakeDetails=e.result.playersArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findTableRakeYesterdayDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakeTablesYesterday",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.tableRakeYesterdayDetails=e.result):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findAffiliateRakeYesterdayDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakeAffiliatesYesterday",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.affiliateRakeDetails=e.result.affiliatesArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findAffiliateRakeYearDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakeAffiliatesYear",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.affiliateRakeDetails=e.result.affiliatesArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findSubAffiliateRakeYearDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakeSubAffiliatesYear",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.subAffiliateRakeDetails=e.result.affiliatesArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findSubAffiliateRakeYesterdayDetails=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTopRakeSubAffiliatesYesterday",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.subAffiliateRakeDetails=e.result.affiliatesArray):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findTotalRakeYesterday=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTotalRakeYesterday",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.totalRakeYesterday=e.result.sumOfRake):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findPartialRakeGeneratedDay=function(){console.log("function called in activityDetailsController");var e={};o.post("/findPartialRakeGeneratedDay",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),e.result.partialRakeToday>=e.result.partialRakeYesterday?(s.setTodayRakeProfit=!0,s.percentRakeProfitToday=100*(e.result.partialRakeToday-e.result.partialRakeYesterday)/e.result.partialRakeYesterday):(s.setTodayRakeProfit=!1,s.percentRakeProfitToday=100*(e.result.partialRakeYesterday-e.result.partialRakeToday)/e.result.partialRakeYesterday),s.percentRakeProfitToday=s.percentRakeProfitToday.toFixed(2),s.partialRakeToday=e.result.partialRakeToday):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findTotalRakeLastWeek=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTotalRakeLastWeek",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.totalRakeLastWeek=e.result.sumOfRake,s.totalRakeLastWeek=String(s.totalRakeLastWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join("")):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findPartialRakeGeneratedWeek=function(){console.log("function called in activityDetailsController");var e={};o.post("/findPartialRakeGenerated",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),
e.result.partialRakeThisWeek>=e.result.partialRakeLastWeek?(s.setWeekRakeProfit=!0,s.percentRakeProfitThisWeek=100*(e.result.partialRakeThisWeek-e.result.partialRakeLastWeek)/e.result.partialRakeLastWeek):(s.setWeekRakeProfit=!1,s.percentRakeProfitThisWeek=100*(e.result.partialRakeLastWeek-e.result.partialRakeThisWeek)/e.result.partialRakeLastWeek),s.percentRakeProfitThisWeek=s.percentRakeProfitThisWeek.toFixed(2),s.partialRakeThisWeek=e.result.partialRakeThisWeek,s.averageRakeThisWeek=e.result.averageRakeThisWeek,s.averageRakeThisMonth=e.result.averageRakeThisMonth,s.averageRakeThisYear=e.result.averageRakeThisYear,s.partialRakeThisWeek=String(s.partialRakeThisWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.averageRakeThisWeek=String(s.averageRakeThisWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.averageRakeThisMonth=String(s.averageRakeThisMonth).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.averageRakeThisYear=String(s.averageRakeThisYear).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.partialRakeLastWeek=String(s.partialRakeLastWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join("")):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findChipsAddedData=function(){console.log("function called in activityDetailsController");var e={};o.post("/findTotalChipsAdded",e).success(function(e){if(e.success){console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.totalChipsYesterday=0,s.totalChipsLastWeek=0,s.totalChipsPartialToday=0,s.totalChipsPartialThisWeek=0,s.totalChipsPartialYesterday=0,s.totalChipsPartialLastWeek=0;for(var t=0;t<e.result.totalChipsAddedYesterday.length;t++)s.totalChipsYesterday=s.totalChipsYesterday+e.result.totalChipsAddedYesterday[t].amount;for(var t=0;t<e.result.totalChipsAddedLastWeek.length;t++)s.totalChipsLastWeek=s.totalChipsLastWeek+e.result.totalChipsAddedLastWeek[t].amount;for(var t=0;t<e.result.totalChipsAddedPartialToday.length;t++)s.totalChipsPartialToday=s.totalChipsPartialToday+e.result.totalChipsAddedPartialToday[t].amount;for(var t=0;t<e.result.totalChipsAddedPartialThisWeek.length;t++)s.totalChipsPartialThisWeek=s.totalChipsPartialThisWeek+e.result.totalChipsAddedPartialThisWeek[t].amount;for(var t=0;t<e.result.totalChipsAddedPartialYesterday.length;t++)s.totalChipsPartialYesterday=s.totalChipsPartialYesterday+e.result.totalChipsAddedPartialYesterday[t].amount;for(var t=0;t<e.result.totalChipsAddedPartialLastWeek.length;t++)s.totalChipsPartialLastWeek=s.totalChipsPartialLastWeek+e.result.totalChipsAddedPartialLastWeek[t].amount;s.totalChipsPartialToday>=s.totalChipsPartialYesterday?(s.setTodayChipsProfit=!0,s.percentChipsProfitToday=100*(s.totalChipsPartialToday-s.totalChipsPartialYesterday)/s.totalChipsPartialYesterday):(s.setTodayChipsProfit=!1,s.percentChipsProfitToday=100*(s.totalChipsPartialYesterday-s.totalChipsPartialToday)/s.totalChipsPartialYesterday),s.percentChipsProfitToday=s.percentChipsProfitToday.toFixed(2),s.totalChipsPartialThisWeek>=s.totalChipsPartialLastWeek?(s.setWeekChipsProfit=!0,s.percentChipsProfitThisWeek=100*(s.totalChipsPartialThisWeek-s.totalChipsPartialLastWeek)/s.totalChipsPartialLastWeek):(s.setWeekChipsProfit=!1,s.percentChipsProfitThisWeek=100*(s.totalChipsPartialLastWeek-s.totalChipsPartialThisWeek)/s.totalChipsPartialLastWeek),s.percentChipsProfitThisWeek=s.percentChipsProfitThisWeek.toFixed(2),s.totalChipsPartialThisWeek=String(s.totalChipsPartialThisWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.totalChipsLastWeek=String(s.totalChipsLastWeek).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.totalChipsPartialToday=String(s.totalChipsPartialToday).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join(""),s.totalChipsYesterday=String(s.totalChipsYesterday).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join("")}else swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findNewPlayersJoinData=function(){console.log("function called in activityDetailsController");var e={};o.post("/findNewPlayersJoinData",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),s.newPlayersToday=e.result.newPlayersToday,s.newPlayersThisMonth=e.result.newPlayersThisMonth,s.totalPlayersAllTime=e.result.totalPlayersAllTime,s.newPlayersThisYear=e.result.newPlayersThisYear):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findPlayerLoginData=function(){console.log("function called in activityDetailsController");var e={};e.keyForRakeModules=!0,o.post("/findPlayerLoginData",e).success(function(e){e.success?(console.log("res in findBalanceSheet in activityDetailsController is  - ",e),e.result.totalPlayersLoggedInPartialToday>=e.result.totalPlayersLoggedInPartialYesterday?(s.setTodayPlayersProfit=!0,s.percentPlayersJoinToday=100*(e.result.totalPlayersLoggedInPartialToday-e.result.totalPlayersLoggedInPartialYesterday)/e.result.totalPlayersLoggedInPartialYesterday):(s.setTodayPlayersProfit=!1,s.percentPlayersJoinToday=100*(e.result.totalPlayersLoggedInPartialYesterday-e.result.totalPlayersLoggedInPartialToday)/e.result.totalPlayersLoggedInPartialYesterday),s.percentPlayersJoinToday=s.percentPlayersJoinToday.toFixed(2),s.totalPlayersLoggedInPartialToday=e.result.totalPlayersLoggedInPartialToday,s.onlinePlayers=e.result.onlinePlayers,s.totalPlayersLoggedInPartialToday=e.result.totalPlayersLoggedInPartialToday,s.totalPlayersLoggedInYesterday=e.result.totalPlayersLoggedInYesterday):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})},s.findPlayerRakeYesterdayDetails(),s.findTableRakeYesterdayDetails(),s.findAffiliateRakeYesterdayDetails(),s.findSubAffiliateRakeYesterdayDetails(),s.findTotalRakeYesterday(),s.findPartialRakeGeneratedDay(),s.findTotalRakeLastWeek(),s.findPartialRakeGeneratedWeek(),s.findChipsAddedData(),s.findNewPlayersJoinData(),setTimeout(function(){s.findPlayerLoginData()},10)}]),angular.module("MetronicApp").controller("ApprovePANCardCtrl",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){function n(e,t){if(!t)return swal("Error","Please select reason of rejection!"),!1;console.log("the Reason: ",e,t);var a=e._id;delete e._id,s.reasonOfRejection=t,e.reasonOfRejection=t,e.verifiedAt=Number(new Date),r.post("/rejectPANCard",e).success(function(t){t.success?(console.log(JSON.stringify(t.result)),swal("PAN card rejected."),i(a),c(e.playerId)):swal("Error!",t.info)}).error(function(e){swal("Error!",e.stack)})}function i(e){console.log("***********************",e);var t={};t.id=e,r.post("/removePANOnApprovel",t).success(function(e){e.success?(console.log(JSON.stringify(e.result)),s.newPageList()):swal("Error!",e.info)}).error(function(e){swal("Error!",e.stack)})}function c(e){var t={};t.playerId=e,t.panNumberVerified=!0,console.log("@#@#@#@#@#@##",s.reasonOfRejection),s.reasonOfRejection.length>0&&("PAN card does not exist."===s.reasonOfRejection?t.panNumberVerifiedFailed=!0:(t.panNumberVerifiedFailed=!0,t.panNumberNameVerifiedFailed=!0),s.reasonOfRejection=""),r.post("/updateUserPANinfo",t).success(function(e){e.success?console.log(JSON.stringify(e.result)):swal("Error!",e.info)}).error(function(e){swal("Error!",e.stack)})}s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.reasonOfRejection="",s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.listTables((s.currentPage-1)*s.pageSize,s.pageSize)},s.countData=function(){r.get("/getPANCardCount").success(function(e){e.success?(s.totalPage=e.result,s.newPageList()):swal("Missing Keys")}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},s.listTables=function(e,t){var a={};a.skip=e,a.limit=t,r.post("/getPANCardList",a).success(function(e){e.success?s.dataList=e.result:swal("Error!","Missing Keys")}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack),clearData()})},s.countData(),s.approvePANCard=function(e){var t=e._id;delete e._id,e.verifiedAt=Number(new Date),r.post("/approvePANCard",e).success(function(a){a.success?(console.log(JSON.stringify(a.result)),swal("Success!","PAN card approved successfully!"),i(t),c(e.playerId)):swal("Error!",a.info)}).error(function(e){swal("Error!",e.stack)})},s.rejectPANCard=function(e){swal({title:"Reason for rejection?",text:'<div><h4><input type="radio" name="rad" value="PAN card does not exist." id="Radio0"  data-waschecked="true"><label for="Radio0">PAN card does not exist.</label><br><input type="radio" name="rad" id="Radio1" value="Name on PAN card does not match."  data-waschecked="true"><label for="Radio1"> Name on PAN card does not match.</label></h4></div>',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,html:!0},function(){var t=$("input[name='rad']:checked").val();console.log(t),n(e,t)})}}]),angular.module("MetronicApp").controller("ApproveScratchCardCtrl",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.newPageList=function(){o.listTables((o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.data={},o.turnTimesList=rootTools.turnTimesList,o.countData=function(e,t){console.log("inside list of countData---------");var a={};o.name&&(a.createdBy=o.name),l.post("/getScratchCardListCount",a).success(function(e){e.success?(o.totalPage=e.result,0==e.result&&swal("No data found"),o.newPageList()):swal("No data found")}).error(function(e){swal("Error!",e)})},o.listTables=function(e,t){console.log("inside list of getScratchCardList---------");var a={};a.skip=e,a.limit=t,o.name&&(a.createdBy=o.name),l.post("/getScratchCardList",a).success(function(e){if(e.success){console.log(JSON.stringify(e.result));for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.dataList=e.result}}).error(function(e){swal("Error!",e.stack)})},o.approveScratchCard=function(e,t){return console.log("approveScratchCard called"),t.issuedBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},o.isDisabled?void swal({title:"Error!",text:"Already generating Scratch cards!",showConfirmButton:!1}):(o.isDisabled=!0,swal({title:"Wait!",text:"Generating Scratch cards!",showConfirmButton:!1}),void setTimeout(function(){l.post("/approveScratchCard",t).success(function(e){e.success?(console.log(JSON.stringify(e.result)),swal({title:"Success!",text:"Scratch cards generated successfully!",showConfirmButton:!0}),o.isDisabled=!1,o.listTables(0,20)):(e.code&&500==e.code&&(o.isDisabled=!1),swal("Error!",e.info))}).error(function(e){swal("Error!",e.stack)})},500))},o.rejectScratchCard=function(e,t){console.log("line 77== ",t),t.issuedBy={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email},swal({title:"Reason for rejection?",text:'<div><h4><input type="radio" name="rad" value="Exceeding credit limit" id="Radio0"  data-waschecked="true"><label for="Radio0">Exceeding credit limit</label><br><input type="radio" name="rad" id="Radio1" value="Exceeding legal limit"  data-waschecked="true"><label for="Radio1"> Exceeding legal limit</label><br><input type="radio" name="rad" id="Radio2" value="Scratch Card Expired"  data-waschecked="true"><label for="Radio2"> Scratch Card Expired </label></h4></div>',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){console.log("in reject scratchCard==");var e=$("input[name='rad']:checked").val();console.log(e),t.reasonOfRejection=e,console.log("data == ",JSON.stringify(t),"------------",o.reasonOfRejection),t.reasonOfRejection&&l.post("/rejectScratchCard",t).success(function(e){e.success?(console.log(JSON.stringify(e.result)),swal("Success!","The scratch card was rejected!","success"),o.listTables(0,20)):swal("Error!",e.info)}).error(function(e){swal("Error!",e.stack)})})},o.countData()}]),angular.module("MetronicApp").controller("bonusHistoryController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){s.listBonus=[],console.log("Inside bonusHistoryController @@@@@@@@@"),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.init=function(){showList=!0;var e={};r.post("/bonusHistory",e).success(function(e){console.log("The result in bonusHistoryController",e),s.listBonus=e.result,console.log("######### res.result",e.result)}).error(function(e){swal("Error!","Getting error from server in showing Bonus Deposit")})},s.init()}]),angular.module("MetronicApp").controller("cashoutDirectAffSubAffController",["$location","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l){s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,console.log("Controller Loaded"),a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.init((s.currentPage-1)*s.pageSize,s.pageSize)};var n={name:a.poker_name,userName:a.poker_userName,role:JSON.parse(a.poker_role),id:a.poker_email,mobile:a.poker_loggedinUserMobileNum};console.log("*^*^*^*^*^*^*^*^*^*^*^*^*^*",JSON.stringify(n)),s.approveAccess=!1,0==JSON.parse(a.poker_role).level&&(s.approveAccess=!0),s.countData=function(){console.log("$$$$$$$$$$$$$$$$$$",a.poker_userName),console.log("user details are ",n),o.post("/countDataForCashout",n).success(function(e){e.success?(s.totalPage=e.result,s.newPageList()):swal("No data found for loggedIn user")}).error(function(e){swal("Getting error from server in showing transaction history",e.stack)})},s.init=function(e,t){showList=!0;console.log("$$$$$$$$$$$$$$$$$$4",a.poker_userName),n.skip=e,n.limit=t,o.post("/findDataForCashout",n).success(function(e){console.log("The result in cashoutRequestDirectController",e.result),s.dataList=e.result.reverse()}).error(function(e){swal("Error!","Getting error from server in showing transaction History")})},s.approveCashOut=function(e,t){t.createdAt=Number(new Date);var a={};a.tempReqId=t._id,console.log("The tempReqId is ------------------>>>>",a.tempReqId),a.affiliateId=t.affilateId,a.amount=t.amount,o({method:"post",url:"/approveDataForCashout",data:a,headers:{"Content-Type":"application/json"}}).then(function(e){e.data.success?(swal("Success!","Cashout request raised successfully!"),s.countData()):swal(e.data.info)},function(e){swal("Error!","Getting error from server while requesting!")})},s.rejectCashOut=function(e,t){var a={};a.tempReqId=t._id,a.createdAt=Number(new Date),a.amount=t.amount,a.playerId=t.playerId,console.log("data---------------"+JSON.stringify(a)),o({method:"post",url:"/rejectDataForCashout",data:a,headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),t.data.success?(swal("Success!","Cashout request deleted sucessfully!"),s.countData()):(swal("Error!",t.data.info),removeRequestOnAction(tempReqId,e))},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.countData()}]),angular.module("MetronicApp").controller("cashoutHistoryCtrl",["$location","$cookies","$rootScope","$scope","$http","$stateParams","$filter",function(e,t,a,s,o,r,l){s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.listCashOutHistory((s.currentPage-1)*s.pageSize,s.pageSize)};var n={name:a.poker_name,userName:a.poker_userName,role:JSON.parse(a.poker_role),id:a.poker_email,mobile:a.poker_loggedinUserMobileNum};console.log("*^*^*^*^*^*^*^*^*^*^*^*^*^*",JSON.stringify(n)),s.getCashoutHistoryCount=function(){var e={};0!=n.role.level&&n.role.level!=-1||(e.userName=n.userName),s.referenceNo&&(e.referenceNo=s.referenceNo),console.log("called ",e),o({method:"post",url:"/getCashoutHistoryCount",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){console.log("line 63 ",e),e.data.success?(s.totalPage=e.data.result,s.newPageList()):swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server")})},s.listCashOutHistory=function(e,t){var a={};0!=n.role.level&&n.role.level!=-1||(a.userName=n.userName),s.referenceNo&&(a.referenceNo=s.referenceNo),a.skip=e,a.limit=t,console.log(a),o({method:"post",url:"/listCashOutHistory",data:a,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.data.success){console.log(e.data);for(var t=0;t<e.data.result.length;t++)e.data.result[t].index=(s.currentPage-1)*s.pageSize+t+1;s.dataList=e.data.result}else swal("Error!",e.data.info)},function(e){console.log(e,"err"),swal("Error!","Getting error from server in login")})},s.resetForm=function(){s.referenceNo="",s.getCashoutHistoryCount()}}]),angular.module("MetronicApp").controller("cashoutSubAffiliateController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside cashoutSubAffiliateController  @@@@@@@@@");var n={};a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.formdata={};var i=function(){n.userName=a.poker_userName,r.post("/listAffiliate",n).success(function(e){e.success?(s.dataList={},s.dataList.bonusOrRealChips=parseInt(e.result[0].realChips),s.dataList.profit=parseInt(e.result[0].profit)):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server")})};s.toggleChips=a.poker_role,s.init=function(){console.log("init function of cashoutSubAffiliateController called"),console.log(s.formdata.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(s.formdata.transactionType),console.log("the value inside cookies of cashoutSubAffiliateController is",t.getAll()),n.amount=s.formdata.amount,n.transactionType=s.formdata.transactionType,n.role=JSON.parse(a.poker_role),n.loggedInUser=a.poker_userName,n.loggedInUserEmail=a.poker_email,n.name=a.poker_name,n.loggedInUserMobile=a.poker_loggedinUserMobileNum;var e=JSON.parse(a.poker_role);return console.log("the role is ",JSON.stringify(e)),console.log("the data is ",JSON.stringify(n)),s.formdata.amount&&s.formdata.transactionType?(console.log("All fields are present"),void swal({title:"Are you sure you want to request the amount?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/cashoutSubAffiliate",n).success(function(e){e.success?(swal("Request Made Successfully"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine(),i()):swal(e)}).error(function(e){swal("Getting error from server in subAffiliate Cashout Request ")})})):(console.log("Some fields are missing"),void swal("Some Fields are missing"))},i()}]),angular.module("MetronicApp").controller("createRakeRuleController",["$scope","$http","$rootScope","$stateParams","$cookies","$location",function(e,t,a,s,o,r){function l(e,t){for(var a=0;a<t;a++)if(e[a].rakePercent>5||e[a].capLessThanThree>5||e[a].capMoreThanThree>5)return!1;return!0}e.data={},e.data.list=[];var n={};e.init=function(){var t={minStake:0,maxStake:0,rakePercent:0,capTwo:0,capThreeFour:0,capMoreThanFive:0};e.data.list.push(t),n=a.poker_token},e.save=function(a){console.log("the data inside save function of createRakeRule is ",JSON.stringify(s));var s=angular.copy(e.data);console.log("the data inside save function of createRakeRule is ",JSON.stringify(s)),s.list.length?l(s.list,s.list.length)?t.post("/createRakeRule",s).success(function(e){swal("Successfull !!"),r.path("/listRakeRule"),o.put("poker_token",e.authToken)}).error(function(e){swal("Getting error from server in creating rake rule")}):swal("Rake can't be more than 5%"):swal("Enter some rule")},e.cancel=function(){r.path("/listrakerules")},e.init()}]),angular.module("MetronicApp").controller("customerSupportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside customerSupportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.init=function(){showList=!0;var e={};return console.log("$$$$$$$$$$$$$$$$$$4",s.poker_userName),o.userNameFilter||o.emailIdFilter||o.mobileNumberFilter?(o.userNameFilter&&(e.userName=o.userNameFilter),o.emailIdFilter&&(e.email=o.emailIdFilter),o.mobileNumberFilter&&(e.mobileNumber=o.mobileNumberFilter),void l.post("/personalDetailsPlayer",e).success(function(e){console.log("The result in personalDetailsPlayer",e),o.listPlayer=e.userData,0==e.userData.length&&(o.listPlayer=[],swal("Please enter valid player details")),console.log("the value of listplayer is ",o.listPlayer)}).error(function(e){swal("Error!","Getting error from server in showing personalDetailsPlayer")})):(swal("Please provide atleast one filter!"),void(o.listPlayer=[]))},o.searchTransactionHistory=function(){showList=!0;var e={};console.log("$$$$ in searchTransactionHistory",s.poker_userName),e=o.queryObject,l.post("/transactionHistoryCustomerSupport",e).success(function(e){if(e.success){console.log("The result in searchTransactionHistory",e),e.finalResult.sort(function(e,t){return e.createdAt-t.createdAt});for(var t=0;t<e.finalResult.length;t++)e.finalResult[t].index=(o.currentPage-1)*o.pageSize+t+1;o.listPlayer=e.finalResult,console.log("the value of listplayer is ",o.listPlayer)}else console.log("the result in customerSupportController searchTransactionHistory is",e),swal(e.result)}).error(function(e){swal("Error!","Getting error from server in showing searchTransactionHistory")})},o.searchGameData=function(){showList=!0;var e={};return console.log("$$$$ in searchGameData",s.poker_userName),o.userNameFilter||o.emailIdFilter||o.mobileNumberFilter?(o.userNameFilter&&(e.userName=o.userNameFilter),o.emailIdFilter&&(e.email=o.emailIdFilter),o.mobileNumberFilter&&(e.mobileNumber=o.mobileNumberFilter),void l.post("/gameProfileDetails",e).success(function(e){e.success?(console.log("The result in searchGameData",e),o.listPlayer=e.result,console.log("the value of listplayer in searchGameData is ",o.listPlayer)):(console.log("the result in customerSupportController searchGameData is",e),o.listPlayer=[],swal(e.result))}).error(function(e){swal("Error!","Getting error from server in showing searchGameData")})):(swal("Please provide atleast one filter!"),void(o.listPlayer=[]))},o.searchCashGame=function(){showList=!0;var e={};console.log("$$$$ in searchCashGame",s.poker_userName),e=o.queryObject,l.post("/searchCashGameData",e).success(function(e){if(e.success){console.log("The result in searchCashGame",e);for(var t="",a=0;a<e.winnerCards.length;a++){t=t+e.winnerCards[a].name+" ("+e.winnerCards[a].text+") (";for(var s=0;s<e.winnerCards[a].cards.length;s++)t+=e.winnerCards[a].cards[s];t+=a==e.winnerCards.length-1?")\n":"),\n"}o.gameData=e,o.gameData.winnersString=t,console.log("--------------",o.gameData)}else console.log("the result in customerSupportController searchCashGame is",e),swal(e.result)}).error(function(e){swal("Error!","Getting error from server in showing searchCashGame")})},o.clearData=function(){o.queryObject={},o.userNameFilter="",o.emailIdFilter="",o.mobileNumberFilter="",o.listPlayer=[],o.channelIdFilter="",o.roundIdFilter="",o.transactionIdFilter="",o.gameData=""},o.searchHistory=function(){return o.userNameFilter||o.emailIdFilter||o.mobileNumberFilter?(o.currentPage=1,o.userNameFilter&&""!==o.userNameFilter&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.userName=o.userNameFilter),o.emailIdFilter&&""!==o.emailIdFilter&&(console.log("Inside emailIdFilter",o.emailIdFilter),o.queryObject.email=o.emailIdFilter),o.mobileNumberFilter&&""!==o.mobileNumberFilter&&(console.log("Inside mobileNumberFilter",o.mobileNumberFilter),o.queryObject.mobileNumber=o.mobileNumberFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.init()):void swal("Error!","Please provide at least one filter")},o.searchPlayerTransactionHistory=function(){return o.queryObject={},o.userNameFilter||o.emailIdFilter||o.mobileNumberFilter?(o.currentPage=1,o.userNameFilter&&""!==o.userNameFilter&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.userName=o.userNameFilter),o.emailIdFilter&&""!==o.emailIdFilter&&(console.log("Inside emailIdFilter",o.emailIdFilter),o.queryObject.email=o.emailIdFilter),o.mobileNumberFilter&&""!==o.mobileNumberFilter&&(console.log("Inside mobileNumberFilter",o.mobileNumberFilter),o.queryObject.mobileNumber=o.mobileNumberFilter),o.transactionIdFilter&&""!==o.transactionIdFilter&&(console.log("Inside transactionIdFilter",o.transactionIdFilter),o.queryObject.transactionId=o.transactionIdFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.searchTransactionHistory()):void swal("Error!","Please provide at least one filter")},o.searchGameProfileData=function(){return o.userNameFilter||o.emailIdFilter||o.mobileNumberFilter?(o.currentPage=1,o.userNameFilter&&""!==o.userNameFilter&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.userName=o.userNameFilter),o.emailIdFilter&&""!==o.emailIdFilter&&(console.log("Inside emailIdFilter",o.emailIdFilter),o.queryObject.email=o.emailIdFilter),o.mobileNumberFilter&&""!==o.mobileNumberFilter&&(console.log("Inside mobileNumberFilter",o.mobileNumberFilter),o.queryObject.mobileNumber=o.mobileNumberFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.searchGameData()):void swal("Error!","Please provide at least one filter")},o.searchCashGameHistory=function(){return o.userNameFilter&&o.roundIdFilter?(o.currentPage=1,o.userNameFilter&&""!==o.userNameFilter&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.userName=o.userNameFilter),o.channelIdFilter&&""!==o.channelIdFilter&&(console.log("Inside channelIdFilter",o.channelIdFilter),o.queryObject.channelId=o.channelIdFilter),o.roundIdFilter&&""!==o.roundIdFilter&&(console.log("Inside roundIdFilter",o.roundIdFilter),o.queryObject.roundId=o.roundIdFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.searchCashGame()):void swal("Error!","Please provide all the filters")}}]),angular.module("MetronicApp").controller("dailyCashoutChartController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside dailyCashoutChartController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setEndDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=$(".date-picker").data("datepicker").getUTCDate();console.log("the value of date is ",e,Number(e)),e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),console.log("the value of date is ",e,Number(e)),n.addeddate=Number(e),s.init()},s.init=function(){return s.setVisible=!0,n.userName=a.poker_userName,n.role=JSON.parse(a.poker_role),n.keyForCashoutChart=1,console.log("the data in dailyCashoutChartController ",JSON.stringify(n)),n.addeddate?(console.log("All fields are present"),void r.post("/dailyCashoutChart",n).success(function(e){if(e.success){s.setVisible=!0,swal("Success!","Data Retreived  successfully.");var t=[];console.log("*****************",e.result.currentMonthCashoutData),console.log("*****************",e.result.previousMonthCashoutData);for(var a=1,o=e.result.currentMonthCashoutData.length-1;o>=0;o--){var r={};r.dailyCashoutCurrentMonth=e.result.currentMonthCashoutData[o].dailyCashout,r.day=a,a+=1,t.push(r)}console.log("###############",t);AmCharts.makeChart("chartdiv2",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"Cashout",type:"column",valueField:"dailyCashoutCurrentMonth",dashLengthField:"dashLengthColumn"},{id:"graph2",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",bullet:"round",lineThickness:3,bulletSize:7,bulletBorderAlpha:1,bulletColor:"#FFFFFF",useLineColorForBulletBorder:!0,bulletBorderThickness:3,fillAlphas:0,lineAlpha:1,title:"Cashout",valueField:"dailyCashoutPreviousMonth",dashLengthField:"dashLengthLine"}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});console.log(e),s.formdata={},s.rakeChartForm.$setPristine()}else swal("Error!",e.result),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in showing daily rake report. ")})):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))}}]),angular.module("MetronicApp").controller("dailyCashoutController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside dailyCashoutController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.sortValue="date",$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")};var i={name:s.poker_name,userName:s.poker_userName,role:JSON.parse(s.poker_role),id:s.poker_email,mobile:s.poker_loggedinUserMobileNum};console.log("*^*^*^*^*^*^*^*^*^*^*^*^*^*",JSON.stringify(i)),o.init=function(){if(showList=!0,console.log("line 40",o.queryObject),console.log("____________________************",o.queryObject),o.queryObject.createdAt){var e=o.queryObject;e.userName=s.poker_userName,e.role=JSON.parse(s.poker_role),e.sortValue=o.sortValue,console.log("*******inside datefilter",o.queryObject),l.post("/findDailyCashoutDateFilter",e).success(function(e){console.log("The result in findDailyCashoutDateFilter dailyCashoutController",e),0==e.result.totalCashouts.length&&swal("No data found!"),o.listHistory=e.result.totalCashouts,console.log("######### res.result",e.result)}).error(function(e){swal("Getting error from server in showing fund Transfer History Player")})}else{var e=o.queryObject;e.userName=s.poker_userName,e.role=JSON.parse(s.poker_role),e.sortValue=o.sortValue,console.log("*******date filter not passed"),
l.post("/findDailyCashoutReport",e).success(function(e){console.log("The result in dailyCashoutController",e),o.listHistory=e.result.totalCashouts,console.log("######### res.result",e.result)}).error(function(e){swal("Getting error from server in showing fund Transfer History Player")})}},o.clearData=function(){o.queryObject={},o.startDate="",o.endDate="",o.referenceNo="",o.listHistory="",o.userId="",o.userName="",o.affiliateId="",o.minAmount="",o.maxAmount="",o.init()},o.onStartDateChange=function(){o.endDate=o.startDate?"":o.startDate},o.onEndDateChange=function(){Number(new Date(o.startDate))>Number(new Date(o.endDate))&&(o.endDate="",swal({title:"End date must be greater then start date.",text:"",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Close",closeOnConfirm:!0,inputType:"text",html:!0},function(){}))},o.searchHistory=function(){if(o.queryObject={},o.currentPage=1,console.log("Inside dailyCashoutController -------------------"),Number(new Date(o.startDate))>0||Number(new Date(o.endDate))>0){if(o.queryObject.createdAt={},o.queryObject.createdAt.$gte=Number($(".date-picker1").data("datepicker").getUTCDate()),o.queryObject.createdAt.$lte=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5,o.referenceNo&&(o.queryObject.referenceNo=o.referenceNo),o.minAmount&&o.maxAmount&&o.minAmount>o.maxAmount)return void swal("Please enter a valid Input!");if(o.minAmount&&o.minAmount<=0||o.maxAmount&&o.maxAmount<=0)return swal("Input fields cannot contain zero or negative values"),!1;o.userId&&(o.queryObject.userId=o.userId),o.affiliateId&&(o.queryObject.affiliateId=o.affiliateId),o.minAmount&&(o.queryObject.minAmount=o.minAmount),o.maxAmount&&(o.queryObject.maxAmount=o.maxAmount)}else swal("Start Date or End Date are required.");console.log("************** queryObject in dailyCashoutController",JSON.stringify(o.queryObject)),o.init()},o.init();var c=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){var t=c(e,"sheet_name");n(function(){location.href=t},100)}}]),angular.module("MetronicApp").controller("dictionaryController",["$scope","$http","$rootScope","$stateParams","$cookies","$location",function(e,t,a,s,o,r){e.data={};a.isAdminLogin||(console.log("yes"),r.path("/login.html")),e.init=function(){console.log(" Initialize listusersController"),e.data.blockedWordsList=[],l()};var l=function(){console.log(o),console.log("get spam words list - "+a.poker_role);var s={};s.authToken=a.poker_token,console.log(JSON.stringify(s)),t.post("/listSpamWords",s).success(function(t){e.data.blockedWordsList=t.result[0]||{},console.log("data from db in browser spamwords--"+JSON.stringify(e.blockedWordsList))}).error(function(e){swal("Error!","dict error: "+e)})};e.updateSpamWord=function(){console.log("data from updateSpamWord - "+JSON.stringify(e.data));var s=e.data.blockedWordsList.blockedWords?e.data.blockedWordsList.blockedWords.map(function(e){return e.text}):[];console.log("tagValues-----"+s),console.log("testSushil",$("#testSushil"));var o=e.data;o.authToken=a.poker_token,o.blockedWords=s,console.log("==========",JSON.stringify(o)),t.post("/updateSpamWord",o).success(function(t){t.rTL?(swal("Session Expired"),r.path("/login")):(console.log("data from db in browser spamwords--"+JSON.stringify(t)),e.blockedWordsList=t.result,l()),JSON.stringify("in addSpamWords Controller 26 lines"+t.data)}).error(function(e){swal("Error!","dict error: "+e)})},e.init()}]),angular.module("MetronicApp").controller("directCashoutHistoryController",["$location","$cookies","$rootScope","$scope","$http","$stateParams","$filter","$window",function(e,t,a,s,o,r,l,n){s.$on("$viewContentLoaded",function(){App.initAjax()}),a.settings.layout.pageContentWhite=!0,a.settings.layout.pageBodySolid=!1,a.settings.layout.pageSidebarClosed=!1,console.log("Cashout History Controller Loaded"),a.isAdminLogin||(console.log("yes",a.role),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.newPageList=function(){s.init((s.currentPage-1)*s.pageSize,s.pageSize)};var i={name:a.poker_name,userName:a.poker_userName,role:JSON.parse(a.poker_role),id:a.poker_email,mobile:a.poker_loggedinUserMobileNum};console.log("*^*^*^*^*^*^*^*^*^*^*^*^*^*",JSON.stringify(i)),s.countData=function(){console.log("$$$$$$$$$$$$$$$$$$",a.poker_userName),console.log("user details are ",i),s.referenceNo&&(i.referenceNo=s.referenceNo),o.post("/countDataForCashoutHistory",i).success(function(e){e.success?(s.totalPage=e.result,0==e.result.length&&swal("No data found!"),s.newPageList()):swal("No data found for loggedIn user")}).error(function(e){swal("Getting error from server in showing transaction history",e.stack)})},s.init=function(e,t,r){showList=!0;console.log("$$$$$$$$$$$$$$$$$$4",a.poker_userName),s.referenceNo&&(i.referenceNo=s.referenceNo),i.skip=e,i.limit=t,o.post("/findDataForCashoutHistory",i).success(function(e){console.log("The result in findDataForCashoutHistory directCashoutHistoryController",e.result);for(var t=0;t<e.result.length;t++)e.result[t].index=(s.currentPage-1)*s.pageSize+t+1;s.dataList=e.result,r instanceof Function&&r()}).error(function(e){swal("Error!","Getting error from server in showing transaction History")})},s.countData(),s.resetForm=function(){s.referenceNo="",i.referenceNo="",s.countData()};var c=function(e,t){var a="data:application/vnd.ms-excel;base64,",s='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',o=function(e){return n.btoa(unescape(encodeURIComponent(e)))},r=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},l=$(e),i={worksheet:t,table:l.html()},c=a+o(r(s,i));return console.log("ctx ",l.context),c};s.exportData=function(e){console.log("totalpage____________________________"+s.totalPage),s.init(0,0,function(){n.scrollTo(0,0),setTimeout(function(){location.href=c(e,"sheet_name")},500)})}}]),angular.module("MetronicApp").controller("duplicateRakeRulesController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){function n(e,t){for(var a=0;a<t;a++)if(e[a].rakePercent>5)return!1;return!0}s.data={},s.listRule=[],s.data_test={},s.data_test.description="QWERTYUI";var i={},c=!0;console.log("Inside duplicate Rake Rules controller @@@@@@@@@"),s.showList=function(){return c},s.init=function(e){c=!0;var t={};e&&(t._id=e),r.post("/listRakeRule",t).success(function(t){s.listRule=t.result,e&&(s.listRule=t.result[0]),console.log("######### res.result",t.result)}).error(function(e){swal("Getting error from server in showing rake rule")})},s.edit=function(e){console.log("Edit rakerule called @@@@@@@"),c=!1,s.data=e},s.cancel=function(){s.init()};s.submit=function(a){console.log("Data to submit is in duplicateRakeRules is ",JSON.stringify(s.listRule));var o=angular.copy(s.listRule);console.log("lines 88",JSON.stringify(o)),o.list.length?n(o.list,o.list.length)?(o.authToken=i,r.post("/createRakeRule",o).success(function(a){a.rTL?(swal("Session Expired"),e.path("/login")):(a.success?(swal("Successfully updated"),e.path("/listRakeRule")):swal("Missing Keys"),t.put("poker_token",a.authToken))}).error(function(e){swal("Getting error from server in updating rake rule")})):swal("Rake can't be more than 5%"):swal("Enter some rule")},o.rakeRuleId?(console.log("stateParams",o.rakeRuleId),s.init(o.rakeRuleId)):s.init()}]),angular.module("MetronicApp").controller("forgotPasswordController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout","$window",function(e,t,a,s,o,r,l,n){function i(){var e=!1;return s.password===s.newPassword&&(e=!0),e}function c(){var e=!1;return s.passwordPlayer===s.newPasswordPlayer&&(e=!0),e}console.log("Inside forgotPasswordController  @@@@@@@@@");var u=s.email;console.log("the email is ",u),s.status=o.status,s.forgotPasswordLogin=function(){console.log(s.email),console.log(t.getAll());var e={};e.email=s.email,r.post("/forgotPasswordLogin",e).success(function(e){console.log("res is ",e),e.success?(swal("Success!","A link to reset your password has been sent to your registered email."),s.email=" ",console.log(e)):swal("Error!",e.result)}).error(function(e){swal("Error!","Getting error from server  ")})},s.resetPassword=function(){console.log(o.forgotId);var t={};t.id=o.forgotId,t.password=s.password,t.newPassword=s.newPassword,i()?r.post("/resetPasswordLogin",t).success(function(t){console.log("res is ",t),t.success?(swal("Success!","Password "+(200==s.status||201==s.status?"Set":"Reset")+" Successfully."),e.path("/login.html"),console.log(t)):swal("Error!",t.result)}).error(function(e){swal("Error!","Getting error from server  ")}):swal("Error!","Password and ConfirmPassword should be same")},s.resetPasswordPlayer=function(){console.log(o.forgotId);var e={};e.id=o.forgotPlayerId,e.password=s.passwordPlayer,e.newPassword=s.newPasswordPlayer,c()?r.post("/resetPasswordPlayer",e).success(function(e){console.log("res is ",e),e.success?(swal("Success!","Password "+(200==s.status||201==s.status?"Set":"Reset")+" Successfully."),200==o.status?n.location.href=rootTools.websiteLink+"/emailVerify?status=200":201==o.status?n.location.href=rootTools.websiteLink+"/emailVerify?status=201":n.location.href=rootTools.websiteLink,console.log(e)):swal("Error!",e.result||e.info)}).error(function(e){swal("Error!","Getting error from server  ")}):swal("Error!","Password and ConfirmPassword should be same")},console.log("The forgot id is ",o.forgotId),console.log("The forgot id of player is ",o.forgotPlayerId)}]),angular.module("MetronicApp").controller("fundTransferController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside fundTransferController  @@@@@@@@@");var n={};a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.formdata={},s.formdata.transactionType="Credit",s.toggleChips=a.poker_role,s.init=function(){if(console.log(s.formdata.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of fundTransferController is",t.getAll()),n.transferTo=s.formdata.transferTo,n.amount=parseInt(s.formdata.amount),n.amount<100)return swal("Error","Amount not valid!"),!1;n.transactionType=s.formdata.transactionType,n.description=s.formdata.description,n.role=JSON.parse(a.poker_role),n.transferBy=a.poker_userName,n.approvedBy=a.poker_userName,n.Name=s.formdata.transferTo,n.parentEmail=a.poker_email,n.parentMobile=a.poker_loggedinUserMobileNum;var e=JSON.parse(a.poker_role);return console.log("the role is ",JSON.stringify(e)),console.log("the fundTransferData is ",JSON.stringify(n)),s.formdata.transferTo&&s.formdata.amount?(console.log("All fields are present"),void(e.level>0?swal({title:"Are you sure you want to transfer the amount?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/transferFundChips",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine()):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})}):(n.Affiliate=a.poker_userName,swal({title:"Are you sure you want to transfer the amount?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/transferChipsByAffiliateToPlayer",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),s.formdata={},s.generateBonusForm.$setPristine(),console.log(e)):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})})))):(console.log("Some fields are missing"),void swal("Some Fields are missing"))},s.fundTransferToAffiliate=function(){return console.log(s.formdata.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(a.poker_role),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of fundTransferToAffiliate is",t.getAll()),n.transferTo=s.formdata.transferTo,n.amount=parseInt(s.formdata.amount),n.amount<100?(swal("Error","Amount not valid!"),!1):(n.transactionType=s.formdata.transactionType,n.description=s.formdata.description,n.role=JSON.parse(a.poker_role),n.transferBy=a.poker_userName,n.Name=s.formdata.transferTo,n.approvedBy=a.poker_userName,n.parentEmail=a.poker_email,n.parentMobile=a.poker_loggedinUserMobileNum,console.log("the fundTransferData in fundTransferToAffiliate is-------",JSON.stringify(n)),s.formdata.transferTo&&s.formdata.amount?(console.log("All fields are present"),void swal({title:"Are you sure you want to transfer the amount?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/transferFundChipsToAffiliate",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine()):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})})):(console.log("Some fields are missing"),void swal("Some Fields are missing")))},s.fundTransferToSubAffiliate=function(){return console.log(s.formdata.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(a.poker_role),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of fundTransferToAffiliate is",t.getAll()),n.transferTo=s.formdata.transferTo,n.amount=parseInt(s.formdata.amount),n.amount<100?(swal("Error","Amount not valid!"),!1):(n.transactionType=s.formdata.transactionType,n.description=s.formdata.description,console.error(a.poker_role),console.error(typeof a.poker_role),n.role=JSON.parse(a.poker_role),n.transferBy=a.poker_userName,n.Name=s.formdata.transferTo,n.approvedBy=a.poker_userName,n.parentEmail=a.poker_email,n.parentMobile=a.poker_loggedinUserMobileNum,console.log("the fundTransferData in fundTransferToAffiliate is ",JSON.stringify(n)),s.formdata.transferTo&&s.formdata.amount?(console.log("All fields are present"),void swal({title:"Are you sure you want to transfer the amount?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/transferFundChipsToSubAffiliate",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine()):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})})):(console.log("Some fields are missing"),void swal("Some Fields are missing")))};var i={};s.withdrawChips=function(){return console.log(s.withdrawFrom),console.log(s.formdata.amount),console.log(a.poker_email),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of withdrawChips is",t.getAll()),i.withdrawFrom=s.withdrawFrom,i.amount=parseInt(s.formdata.amount),n.amount<1?(swal("Error","Amount not valid!"),!1):(i.Affiliate=a.poker_userName,i.transactionType=s.formdata.transactionType,i.description=s.formdata.description,console.log("the withdrawChipsData in fundTransferController is ",JSON.stringify(i)),s.withdrawFrom&&s.formdata.amount?(console.log("All fields are present"),void r.post("/withdrawChips",i).success(function(e){e.success?(swal("Withdraw Successful!!"),console.log(e)):swal(e.result)}).error(function(e){swal("Getting error from server in withdrawing ")})):(console.log("Some fields are missing"),void swal("Some Fields are missing")))}}]),angular.module("MetronicApp").controller("fundTransferToAffiliateHistory",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){function i(){o.queryObject={}}o.listBonus=[],console.log("Inside fundTransfer to affiliate history controller @@@@@@@@@"),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.countData=function(){var e=o.queryObject;e.role=JSON.parse(s.poker_role),e.userName=s.poker_userName,l.post("/countAffiliateHistory",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList(),i()):alert("Missing Keys")}).error(function(e){alert(e),i(),alert("Getting error from server in showing transfer History",e.stack)})},o.init=function(e,t){showList=!0;var a=o.queryObject;a.skip=e,a.limit=t,a.role=JSON.parse(s.poker_role),a.userName=s.poker_userName,l.post("/fundTransferAffiliateHistory",a).success(function(e){console.log("The result in fundTransfer to affiliate History",e),0==e.result.length&&swal("No data found.");for(var t=0;t<e.result.length;t++){var a=new Date(e.result[t].date),s=a.getMonth()+1,r=a.getDate(),l=a.getFullYear(),n=r+"-"+s+"-"+l;console.log(n),e.result[t].date=n,e.result[t].index=(o.currentPage-1)*o.pageSize+t+1}o.listHistory=e.result,console.log("######### res.result",e.result),i()}).error(function(e){swal("Getting error from server in showing fund Transfer History by Affiliate"),i()})},o.searchHistory=function(){return o.currentPage=1,o.transferToFilter||o.transferByFilter||o.transferTypeFilter||o.usersTypeFilter?(o.transferToFilter&&""!==o.transferToFilter&&(console.log("Inside transferToFilter",o.transferToFilter),o.queryObject.transferTo=o.transferToFilter),o.transferByFilter&&""!==o.transferByFilter&&(console.log("Inside transferByFilter",o.transferByFilter),o.queryObject.transferBy=o.transferByFilter),o.transferTypeFilter&&""!==o.transferTypeFilter&&(console.log("Inside transferTypeFilter",o.transferTypeFilter),o.queryObject.transactionType=o.transferTypeFilter),o.usersTypeFilter&&""!==o.usersTypeFilter&&(console.log("Inside usersTypeFilter",o.usersTypeFilter),o.queryObject.usersType=o.usersTypeFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.countData()):(swal("Please provide atleast one filter."),!1)},o.countData(),o.reset=function(){o.transferToFilter="",o.transferByFilter="",o.transferTypeFilter="",o.usersTypeFilter="",o.queryObject={},o.countData()}}]),angular.module("MetronicApp").controller("fundTransfertoPlayerHistoryController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){function i(){o.queryObject={}}o.listBonus=[],console.log("Inside fundTransferToPlayerHistoryController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.countData=function(){var e=o.queryObject;e.role=JSON.parse(s.poker_role),e.userName=s.poker_userName,l.post("/countPlayerHistory",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList(),i()):alert("Missing Keys")}).error(function(e){alert(e),alert("Getting error from server in showing transfer History",e.stack),i()})},o.init=function(e,t){showList=!0;var r=o.queryObject;console.log(s.poker_role),r.skip=e,r.limit=t,r.role=JSON.parse(s.poker_role),r.userName=s.poker_userName,console.error(r),console.log("The value of cookies is",a.getAll()),l.post("/fundTransferPlayerHistory",r).success(function(e){console.log("The result in fundTransfer to fundTransferPlayerHistory History",e),0==e.result.length&&swal("No data found");for(var t=0;t<e.result.length;t++){var a=new Date(e.result[t].date),s=a.getMonth()+1,r=a.getDate(),l=a.getFullYear(),n=r+"-"+s+"-"+l;console.log(n),e.result[t].date=n,e.result[t].index=(o.currentPage-1)*o.pageSize+t+1}o.listHistory=e.result,console.log("######### res.result",e.result),i()}).error(function(e){swal("Getting error from server in showing fund Transfer History Player"),i()})},o.searchHistory=function(){return o.currentPage=1,o.transferToFilter||o.transferByFilter||o.transferTypeFilter?(o.transferToFilter&&""!==o.transferToFilter&&(console.log("Inside transferToFilter",o.transferToFilter),o.queryObject.transferTo=o.transferToFilter),o.transferByFilter&&""!==o.transferByFilter&&(console.log("Inside transferByFilter",o.transferByFilter),o.queryObject.transferBy=o.transferByFilter),o.transferTypeFilter&&""!==o.transferTypeFilter&&(console.log("Inside transferTypeFilter",o.transferTypeFilter),o.queryObject.transactionType=o.transferTypeFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.countData()):(swal("Please provide atleast one filter."),!1)},o.countData(),o.reset=function(){o.transferToFilter="",o.transferByFilter="",o.transferTypeFilter="",o.queryObject={},o.countData()}}]),angular.module("MetronicApp").controller("generateBonusCodeController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside generateBonusCodeController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setStartDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.bonusCodeTypes=rootTools.bonusCodeTypes,s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=Number($(".date-picker").data("datepicker").getUTCDate());console.log("the value of date is ",e),n.validTill=e,s.init()},s.init=function(){return console.log(s.formdata.name),console.log(s.formdata.bonusPercent),console.log(a.poker_userName),console.log("the value inside cookies of generateBonus is",t.getAll()),n.codeName=s.formdata.name.toUpperCase(),n.bonusPercent=s.formdata.bonusPercent,n.bonusCodeType=JSON.parse(s.formdata.bonusCodeType),s.formdata.capAmount&&(n.capAmount=JSON.parse(s.formdata.capAmount)),n.tag=s.formdata.tag,s.tagDescription&&(n.tagDescription="<li>"+s.formdata.tagDescription),n.createdBy=a.poker_userName,n.createdAt=Number(new Date),n.profile=JSON.parse(a.poker_role),console.log("The bonusData role is ",n.role),n.status="Live",console.log("the bonusData is ",JSON.stringify(n)),s.formdata.name&&s.formdata.bonusPercent&&n.validTill?(console.log("All fields are present"),void r.post("/createBonusCode",n).success(function(e){e.success?(swal("Success!","Bonus code created successfully."),console.log(e),s.formdata={},s.generateBonusForm.$setPristine(),s.setVisible=!1):swal("Error!",e.result)}).error(function(e){swal("Error!","Getting error from server in creating Bonus code ")})):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))},s.isCapAmountRequired=function(){"oneTime"==JSON.parse(s.formdata.bonusCodeType).type||"recurring"==JSON.parse(s.formdata.bonusCodeType).type?s.setVisible=!0:s.setVisible=!1}}]),angular.module("MetronicApp").controller("listBonusDepositController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){function n(){s.queryObject={}}s.listBonus=[],console.log("Inside listBonusDepositController @@@@@@@@@"),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.pageSize=20,s.currentPage=1,s.totalPage=0,s.queryObject={},s.newPageList=function(){s.init("",(s.currentPage-1)*s.pageSize,s.pageSize)},s.countData=function(){console.log("$$$$$$$$$$$$$$$$$$4",a.poker_userName);var e=s.queryObject;r.post("/countBonusDeposit",e).success(function(e){e.success?(s.totalPage=e.result,0==e.result.length&&swal("Error","No data found!"),s.newPageList(),n()):swal("Missing Keys")}).error(function(e){swal("Getting error from server in showing rake rules",e.stack),n()})},s.init=function(e,t,l){showList=!0;var i=s.queryObject;console.log("$$$$$$$$$$$$$$$$$$4",a.poker_userName),i.skip=t,i.limit=l,o.bonusCodeId&&(i._id=o.bonusCodeId),i.keyFromDashboard=1,r.post("/listBonusDeposit",i).success(function(t){console.log("The result in listBonusDepositController",t.result),0==t.result.length&&swal("Error","No data found!");for(var a=0;a<t.result.length;a++){var o=new Date(t.result[a].validTill),r=new Date(t.result[a].createdAt),l=o.getMonth()+1,i=o.getDate(),c=o.getFullYear(),l=o.getMonth()+1,u=r.getDate(),d=r.getFullYear(),p=r.getMonth()+1,m=i+"-"+l+"-"+c,g=u+"-"+p+"-"+d;console.log(m),console.log(g),t.result[a].validTill=m,t.result[a].createdAt=g,t.result[a].index=(s.currentPage-1)*s.pageSize+a+1}e&&(s.formdata=t.result[0],s.formdata2="asasasas",s.formdata.name=t.result[0].codeName,s.formdata.tag=t.result[0].tag,t.result[0].tagDescription=t.result[0].tagDescription.split("</li><li>").join("\n"),t.result[0].tagDescription=t.result[0].tagDescription.split("</li>").join(""),t.result[0].tagDescription=t.result[0].tagDescription.split("<li>").join(""),s.formdata.tagDescription=t.result[0].tagDescription),s.listBonus=t.result,n()}).error(function(e){swal("Error!","Getting error from server in showing Bonus Deposit"),n()})},s.searchHistory=function(){if(s.currentPage=1,!s.codeNameFilter&&!s.createdByFilter&&!s.bonusPercentFilter)return swal("Please provide any one filter."),!1;if(s.codeNameFilter&&(console.log("Inside codeNameFilter",s.codeNameFilter),s.queryObject.codeName=s.codeNameFilter.toUpperCase()),s.createdByFilter&&(console.log("Inside createdByFilter",s.createdByFilter),s.queryObject.createdBy=s.createdByFilter),s.bonusPercentFilter){if(console.log(s.bonusPercentFilter,parseInt(s.bonusPercentFilter),typeof parseInt(s.bonusPercentFilter)),!/^[1-9][0-9]+$/.test(s.bonusPercentFilter))return console.log("Please provide valid input for bonus percent"),swal("Please provide valid input for bonus percent."),s.bonusPercentFilter="",!1;console.log("Inside bonusPercentFilter",s.bonusPercentFilter),s.queryObject.bonusPercent=parseInt(s.bonusPercentFilter)}console.log("************** $scope.queryObject",JSON.stringify(s.queryObject)),s.countData()},o.bonusCodeId&&s.init(o.bonusCodeId,0,0),s.submitUpdate=function(){console.log(s.formdata.name),console.log(s.formdata.bonusPercent),console.log(a.poker_userName);var t={};t._id=o.bonusCodeId,t.tag=s.formdata.tag,s.tagDescription&&(t.tagDescription="<li>"+s.formdata.tagDescription),t.updatedBy=a.poker_userName,t.updatedByRole=JSON.parse(a.poker_role),console.log("the bonusData is ",JSON.stringify(t)),console.log("All fields are present"),r.post("/updateBonusCode",t).success(function(t){t.success?(swal("Success!","Bonus code updated successfully."),console.log(t),s.formdata={},s.generateBonusForm.$setPristine(),s.setVisible=!1,e.path("/listBonusDeposit")):swal("Error!",t.result)}).error(function(e){swal("Error!","Getting error from server in updating Bonus code ")}),s.formdata.name&&s.formdata.bonusPercent&&t.validTill},s.reset=function(){s.queryObject={},s.codeNameFilter="",s.createdByFilter="",s.bonusPercentFilter="",s.countData()}}]),angular.module("MetronicApp").controller("listPlayersController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.$on("$viewContentLoaded",function(){App.initAjax()}),console.log("yessss, list players controller loaded"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.setHidden=!1,o.setDisabledForSubAff=!1,JSON.parse(s.poker_role).level<0&&(o.setDisabledForSubAff=!0),o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listPlayers("",(o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.searchPlayer=function(){return o.userId?void o.countData():(swal("Please enter a username."),!1)},o.reset=function(){o.userId="",o.isOrganic="",o.countData()},o.data={},o.countData=function(){var e={};JSON.parse(s.poker_role).level<=0&&(e.userName=s.poker_userName),e.isOrganic="All","true"==o.isOrganic&&(e.isOrganic=!0),"false"==o.isOrganic&&(e.isOrganic=!1),"All"==o.isOrganic&&(e.isOrganic="All"),o.userId&&(e.userId=o.userId),l.post("/countlistPlayer",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):swal("Error!",e.info)}).error(function(e){swal("Getting error from server in showing players list",e.stack)})},o.listPlayers=function(e,t,a,r){var n={};e&&e.length>0&&(n._id=e),console.log("id== ",n,o.isOrganic),n.isOrganic="All","true"==o.isOrganic&&(n.isOrganic=!0),"false"==o.isOrganic&&(n.isOrganic=!1),"All"==o.isOrganic&&(n.isOrganic="All"),o.userId&&(n.userId=o.userId),n.skip=t,n.limit=a,console.log("line 48== ",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(n.userName=s.poker_userName),console.log("data ",t,a,n);var i={};l.post("/listUsersAndCalculateBonus",n).success(function(e){console.log("res.result---------",e.result),o.dataList=e.result;for(var t=0;t<e.result.length;t++){o.dataList[t].parent=e.result[t].isParentUserName?e.result[t].isParentUserName+"("+e.result[t].parentType+")":"",o.dataList[t].mobileNumberNew=parseInt(e.result[t].mobileNumber);var a=new Date(e.result[t].createdAt);a.getMonth()+1,a.getDate(),a.getFullYear()}o.dataList=e.result,o.editData=e.result[0],i.result=e.result;r instanceof Function&&r()}).error(function(e){swal("Error!","Getting error from server in showing Players")})},o.listPlayersAffiliate=function(e,t,a){var r={};e&&e.length>0&&(r.userName=e),console.log("userName== ",r),r.isOrganic="All","true"==o.isOrganic&&(r.isOrganic=!0),"false"==o.isOrganic&&(r.isOrganic=!1),"All"==o.isOrganic&&(r.isOrganic="All"),r.skip=t,r.limit=a,console.log("line 48== ",s.poker_userName);var n={};l.post("/listUsersAndCalculateBonus",r).success(function(t){console.log("res.result---------",t.result),o.dataList=t.result;for(var a=0;a<t.result.length;a++){o.dataList[a].parent=t.result[a].parentType+"/"+t.result[a].isParentUserName,o.dataList[a].mobileNumberNew=parseInt(t.result[a].mobileNumber);var s=new Date(t.result[a].createdAt);console.log("the date is ------",s),console.log("created at ------",t.result[a].createdAt);var r=s.getMonth()+1,l=s.getDate(),i=s.getFullYear(),c=l+"-"+r+"-"+i;console.log(c),t.result[a].datenew=c}o.dataList=t.result,o.dataList[0].status=t.result[0].isBlocked?"BLOCKED":"ACTIVE",o.editData=t.result[0],n.result=t.result;var u={};e&&(o.formData=t.result[0],u._id=n.result[0].rakeRule)}).error(function(e){swal("Error!","Getting error from server in showing Players")})},r.affiliateId?(console.log("stateParams",r.affiliateId),o.setHidden=!0,o.listPlayersAffiliate(r.affiliateId,0,20)):r.playerId?(console.log("stateParams",r.playerId),o.listPlayers(r.playerId,0,20)):o.countData(),o.filterPlayers=function(){r.affiliateId?(console.log("stateParams",r.affiliateId),o.listPlayersAffiliate(r.affiliateId,0,20)):r.playerId?(console.log("stateParams",r.playerId),o.listPlayers(r.playerId,0,20)):o.countData()},o.submit=function(){console.log("submit function called in listPlayersController",o.dataList[0].status);var a=angular.copy(o.dataList[0]);return"Active"==o.dataList[0].status&&(a.isBlocked=!1),
"Block"==o.dataList[0].status&&(a.isBlocked=!0),a.loggedInUser=s.poker_userName,a.userRole=JSON.parse(s.poker_role),a.userRole.level<1&&!o.dataList[0].isParentUserName?(swal("Error","Parent ID cannot be blank!"),!1):(console.log("data===== ",a),void l.put("/updatePlayer",a).success(function(a){a.rTL?(swal("Session Expired"),e.path("/login")):(a.success?(console.log("listPlayersController line 88==",a),swal("Success!","Player updated successfully."),e.path("/listPlayer")):(swal("Error!",a.info),console.log("=========line 107",a.info)),t.put("poker_token",a.authToken))}).error(function(e){swal("Error!","Getting error from server in updating table!")}))},o.forgotPasswordLogin=function(e){console.log(e),console.log(t.getAll());var a={};a.emailId=e,l.post("/forgotPasswordUser",a).success(function(e){console.log("res is ",e),e.successDashboard?(swal("Success!","A link to reset your password has been sent to your registered email."),o.email=" ",console.log(e)):swal("Error!",e.result)}).error(function(e){swal("Error!","Getting error from server  ")})},o.resendVerificationLink=function(e,a){console.log(e),console.log(t.getAll());var s={};s.emailId=e,s.userName=a,l.post("/resendVerificationLinkDasboard",s).success(function(e){console.log("res is ",e),e.success?(swal("Success!","A link to verify email has been sent on registered email."),o.email=" ",console.log(e)):swal("Error!",e.info)}).error(function(e){swal("Error!","Getting error from server  ")})};var i=function(e,t){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listPlayers("",0,0,function(){a.scrollTo(0,0),setTimeout(function(){location.href=i(e,"sheet_name")},500)})}}]),angular.module("MetronicApp").controller("listRakeRulesController",["$scope","$http","$rootScope","$stateParams","$cookies","$location",function(e,t,a,s,o,r){e.data={},e.listRule=[];var l=!0;console.log("Inside listrakerulesController @@@@@@@@@"),e.showList=function(){return l},e.init=function(){l=!0;var a={};t.post("/listRakeRule",a).success(function(t){e.listRule=t.result}).error(function(e){swal("Getting error from server in showing rake rule")})},e.edit=function(t){console.log("Edit rakerule called @@@@@@@"),l=!1,e.data=t};e.init()}]),angular.module("MetronicApp").controller("listRakerulesController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){function n(e,t){for(var a=0;a<t;a++)if(e[a].rakePercent>5)return!1;return!0}s.data={},s.listRule=[],s.data_test={},s.data_test.description="QWERTYUI",a.isAdminLogin||(console.log("yes"),e.path("/login.html"));var i={},c=!0;console.log("Inside listrakerulesController @@@@@@@@@"),s.showList=function(){return c},s.init=function(e){c=!0;var t={};e&&(t._id=e),r.post("/listRakeRule",t).success(function(t){s.listRule=t.result,e&&(s.listRule=t.result[0]),console.log("######### res.result",t.result)}).error(function(e){swal("Getting error from server in showing rake rule")})},s.edit=function(e){console.log("Edit rakerule called @@@@@@@"),c=!1,s.data=e},s.cancel=function(){s.init()};s.submit=function(a){console.log("Data to submit is ",JSON.stringify(s.listRule));var o=angular.copy(s.listRule);console.log("lines 88",JSON.stringify(o)),o.list.length?n(o.list,o.list.length)?(o.authToken=i,r.put("/updateRakeRules",o).success(function(a){a.rTL?(swal("Session Expired"),e.path("/login")):(a.success?(swal("Successfully updated"),e.path("/listRakeRule")):swal("Missing Keys"),t.put("poker_token",a.authToken))}).error(function(e){swal("Getting error from server in updating rake rule")})):swal("Rake can't be more than 5%"):swal("Enter some rule")},o.rakeRuleId?(console.log("stateParams",o.rakeRuleId),s.init(o.rakeRuleId)):s.init()}]),angular.module("MetronicApp").controller("monthlyCashoutReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside monthlyCashoutReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.init=function(){showList=!0;var e={};console.log("$$$$$$$$$$$$$$$$$$4",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName),e=o.queryObject;var t=new Date($(".date-picker1").data("datepicker").getUTCDate()),a=new Date($(".date-picker2").data("datepicker").getUTCDate());t.setDate(1),a.setDate(1),a.setMonth(a.getMonth()+1),a-=1e3,o.startDate||(t=new Date,t.setUTCMonth(t.getUTCMonth()-1),t.setUTCDate(1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),a=new Date),e.createdAt={$gte:Number(t),$lt:Number(a)},e.userName=s.poker_userName,e.role=JSON.parse(s.poker_role),l.post("/monthlyCashoutReport",e).success(function(e){console.log("The result in monthlyCashoutReportController",e.result),o.listTransaction=e.result}).error(function(e){swal("Error!","Getting error from server in showing monthly Cashout History")})},o.searchHistory=function(){return console.log("************** queryObject",JSON.stringify(o.queryObject)),o.startDate&&o.endDate?void o.init():(swal("Please provide start date & end date."),!1)},o.init(),o.resetForm=function(){o.startDate="",o.endDate="",$(".date-picker1").data("datepicker").value="",o.init()};var i=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return c};o.exportData=function(e){var t=i(e,"sheet_name");n(function(){location.href=t},100)}}]),angular.module("MetronicApp").controller("PlayerBannedReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside playerBannedReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.filter="players",$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date),$(".date-picker3").datepicker("setEndDate",new Date),$(".date-picker4").datepicker("setEndDate",new Date);var i=1,c=1,u=1,d=["Bronze","Chrome","Silver","Gold","Diamond","Platinum"];o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.fixEndDateJoin=function(){$(".date-picker4").datepicker("setStartDate",$(".date-picker3").data("datepicker").getUTCDate()),o.startDateJoin>o.endDateJoin&&(o.endDateJoin="")},o.newPageList=function(){console.log("totalpage____________________________"+o.totalPage),o.listPlayerBannedData((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.initCountData=function(){var e={},t=Number(new Date),a=t-2592e6;e.startDate=a,e.endDate=t,e.filter=o.filter,console.log("data-----------",e),l.post("/countPlayerBannedData",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.initCountData(),o.countData=function(){if(!o.startDate)return void swal("Error!","Please select a start date!");if(!o.endDate)return void swal("Error!","Please select a end date!");var e=Number($(".date-picker1").data("datepicker").getUTCDate()),t=Number($(".date-picker2").data("datepicker").getUTCDate()),a={};if(e&&(a.startDate=e),t&&(a.endDate=t+864e5-1e3),a.filter=o.filter,"players"==o.filter&&o.userId&&(a.userName=o.userId),"affiliates"==o.filter&&(o.userId?a.parent=o.userId:swal("Error!","Please enter Affiliate Id")),o.startDateJoin)var s=Number($(".date-picker3").data("datepicker").getUTCDate());if(o.endDateJoin)var r=Number($(".date-picker4").data("datepicker").getUTCDate())+864e5-1e3;o.reasonForBan&&(a.reasonForBan=o.reasonForBan),o.minRake&&(a.minRake=o.minRake),o.maxRake&&(a.maxRake=o.maxRake),o.megaCircle&&(a.megaCircle=o.megaCircle),s&&(console.log("Start Join Date------",s),a.startDateJoin=s),r&&(console.log("End Join Date------",r),a.endDateJoin=r+864e5-1e3),console.log("data-----------",a),l.post("/countPlayerBannedData",a).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(console.log(e),swal("Error!",e.info))}).error(function(e){swal("Getting error from server",e)})},o.listPlayerBannedData=function(e,t,a){var s={};if(s.skip=e,s.limit=t,o.startDate)var r=Number($(".date-picker1").data("datepicker").getUTCDate());if(o.endDate)var n=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5-1e3;if(!o.startDate&&!o.endDate)var n=Number(new Date),r=n-2592e6;if(r&&(s.startDate=r),n&&(s.endDate=n),o.startDateJoin)var i=Number($(".date-picker3").data("datepicker").getUTCDate());if(o.endDateJoin)var c=Number($(".date-picker4").data("datepicker").getUTCDate())+864e5-1e3;s.filter=o.filter,o.userId&&("affiliates"==o.filter?s.parent=o.userId:s.userName=o.userId),o.reasonForBan&&(s.reasonForBan=o.reasonForBan),o.minRake&&(s.minRake=o.minRake),o.maxRake&&(s.maxRake=o.maxRake),o.megaCircle&&(s.megaCircle=o.megaCircle),i&&(s.startDateJoin=i),c&&(s.endDateJoin=c),console.log("data in line 121",s),l.post("/listPlayerBannedData",s).success(function(e){if(e.success){for(var t=0;t<e.result.length;t++)e.result[t].index=t+1,e.result[t].megaCircle=d[e.result[t].megaCircle-1],e.result[t].megaPoints=e.result[t].megaPoints.toFixed(2),e.result[t].totalRake=e.result[t].totalRake.toFixed(2);o.dataList=e.result}else swal("Error!",e.info)}).error(function(e){swal("Getting error from server",e)})},o.clearData=function(){o.startDate="",o.endDate="",o.userId="",o.filter="players",o.reasonForBan="",o.minRake="",o.maxRake="",o.megaCircle="",o.startDateJoin="",o.endDateJoin="",o.initCountData()},o.sortDataByRake=function(){i*=-1,1==i?o.dataList.sort(function(e,t){return parseFloat(e.totalRake)-parseFloat(t.totalRake)}):o.dataList.sort(function(e,t){return parseFloat(t.totalRake)-parseFloat(e.totalRake)})},o.sortDataByDate=function(){c*=-1,1==c?o.dataList.sort(function(e,t){return parseFloat(e.createdAt)-parseFloat(t.createdAt)}):o.dataList.sort(function(e,t){return parseFloat(t.createdAt)-parseFloat(e.createdAt)})},o.sortDataByName=function(){u*=-1,1==u?o.dataList.sort(function(e,t){return e.userName>t.userName?-1:e.userName<t.userName?1:void 0}):o.dataList.sort(function(e,t){return e.userName<t.userName?-1:e.userName>t.userName?1:void 0})};var p=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.init(0,0,function(){t.scrollTo(0,0),n(function(){location.href=p(e,"sheet_name"),o.init(0,20)},500)})}}]),angular.module("MetronicApp").controller("playerReportChartController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside playerReportChartController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setEndDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=$(".date-picker").data("datepicker").getUTCDate();e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),console.log("the value of date is ",Number(e)),n.addeddate=Number(e),s.init()},s.init=function(){return s.setVisible=!0,console.log(s.formdata.name),console.log(a.poker_userName),console.log("the value inside cookies of playerReportChartController is",t.getAll()),n.userName=s.formdata.name,n.role=JSON.parse(a.poker_role),n.role.level<=0&&(n.loginId=a.poker_userName),console.log("the data in playerReportChartController ",JSON.stringify(n)),s.formdata.name&&n.addeddate?(console.log("All fields are present"),void r.post("/findPlayerDataChart",n).success(function(e){if(e.success){s.setVisible=!0,swal("Success!","Data Retreived  successfully.");var t=[];console.log("*****************",e.result.currentMonthRakeData);for(var a=1,o=e.result.currentMonthRakeData.length-1;o>=0;o--){var r={};r.dailyRakeCurrentMonth=e.result.currentMonthRakeData[o].dailyRake,r.day=a,a+=1,t.push(r)}AmCharts.makeChart("chartdiv2",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"dailyRakeCurrentMonth",type:"column",valueField:"dailyRakeCurrentMonth",dashLengthField:"dashLengthColumn"}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});console.log(e),s.formdata={},s.generateBonusForm.$setPristine()}else swal("Error!","No data found"),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in showing playerReport ")})):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))}}]),angular.module("MetronicApp").controller("playerReportChartGamesPlayedController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside playerReportChartGamesPlayedController  @@@@@@@@@");var n={};$(".date-picker").datepicker("setEndDate",new Date),a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.setVisible=!1,s.newSchedule=function(){if(console.log($(".scheduleDate").val()),!$(".scheduleDate").val())return!1;var e=$(".date-picker").data("datepicker").getUTCDate();e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),console.log("the value of date is ",Number(e)),n.timestamp=Number(e),s.init()},s.init=function(){return s.setVisible=!0,console.log(s.formdata.name),console.log(a.poker_userName),console.log("the value inside cookies of playerReportChartGamesPlayedController is",t.getAll()),n.userName=s.formdata.name,n.role=JSON.parse(a.poker_role),n.role.level<=0&&(n.loginId=a.poker_userName),console.log("the data in playerReportChartGamesPlayedController ",JSON.stringify(n)),s.formdata.name&&n.timestamp?(console.log("All fields are present"),void r.post("/findPlayerDataChartGamesPlayed",n).success(function(e){if(e.success){swal("Success!","Data Retreived  successfully."),s.setVisible=!0;var t=[];console.log("*****************",e.result.gameDataCurrentMonth),console.log("##########",e.result.gameDataPreviousMonth);var a=e.result.gameDataCurrentMonth.length;console.log("the xAxis is ------",a);for(var o=0;o<a;o++){var r={};e.result.gameDataCurrentMonth[o]?r.handsplayed=e.result.gameDataCurrentMonth[o].handsPlayed:r.handsPlayed=0,r.day=new Date(e.result.gameDataCurrentMonth[o].date).getUTCDate(),t.push(r)}console.log("----------------->>",t);AmCharts.makeChart("chartdiv",{type:"serial",addClassNames:!0,theme:"light",autoMargins:!1,marginLeft:80,marginRight:8,marginTop:10,marginBottom:26,balloon:{adjustBorderColor:!1,horizontalPadding:10,verticalPadding:8,color:"#ffffff"},dataProvider:t,valueAxes:[{axisAlpha:0,position:"left"}],startDuration:1,graphs:[{alphaField:"alpha",balloonText:"<span style='font-size:12px;'>[[title]] on [[category]]:<br><span style='font-size:20px;'>[[value]]</span> [[additional]]</span>",fillAlphas:1,title:"Hands Played",type:"column",valueField:"handsplayed",dashLengthField:"dashLengthColumn"},{}],categoryField:"day",categoryAxis:{gridPosition:"start",axisAlpha:0,tickLength:0},"export":{enabled:!0}});s.formdata={},s.generateBonusForm.$setPristine()}else console.log("line 147",e),swal("Error!","No data found!"),s.setVisible=!1}).error(function(e){swal("Error!","Getting error from server in creating player ")})):(console.log("Some fields are missing"),void swal("Error!","Some Fields are missing"))}}]),angular.module("MetronicApp").controller("playerReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){o.listBonus=[],console.log("Inside playerReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=0,o.currentPage=1,o.totalPage=0,o.queryObject={},$(".date-picker1").datepicker("setEndDate",new Date),$(".date-picker2").datepicker("setEndDate",new Date);var i=1,c=1,u=1,d=1,p=1,m=1,g=1;o.fixEndDate=function(){$(".date-picker2").datepicker("setStartDate",$(".date-picker1").data("datepicker").getUTCDate()),o.startDate>o.endDate&&(o.endDate="")},o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.countData=function(){var e=o.queryObject;e.role=JSON.parse(s.poker_role),e.role.level<=0&&(e.isParentUserName=s.poker_userName),l.post("/countPlayerReport",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):alert("Missing Keys")}).error(function(e){})},o.init=function(e,t,r){showList=!0;var n=o.queryObject;console.log(s.poker_role),n.skip=e,n.limit=t,n.role=JSON.parse(s.poker_role),console.log("The value of cookies is",a.getAll()),n.role.level<=0&&(n.isParentUserName=s.poker_userName),n.createdAt?l.post("/findPlayersReportDateFilter",n).success(function(e){console.log("The result in playerReportController",e);for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.listHistory=e.result,console.log("######### res.result",e.result),r instanceof Function&&(o.dataList2=o.dataList,setTimeout(function(){r()},100))}).error(function(e){swal("Getting error from server in showing fund Transfer History Player")}):l.post("/findPlayersReport",n).success(function(e){if(console.log("The result in playerReportController",e),console.log("------------->>>>>>>",e.result),e.success){for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.listHistory=e.result,console.log("######### res.result",e.result)}else console.log("Data not found---------"),swal("No data found for entered user");r instanceof Function&&(o.dataList2=o.dataList,setTimeout(function(){r()},100))}).error(function(e){swal("Getting error from server in showing fund Transfer History Player")})},o.clearData=function(){o.queryObject={},o.startDate="",o.endDate="",o.userNameFilter="",o.userId="",o.city="",o.minRake="",o.maxRake="",o.minHandsPlayed="",o.maxHandsPlayed="",o.minPercentHandsWon="",o.maxPercentHandsWon="",o.minWinnings="",o.maxWinnings="",o.countData()},o.onStartDateChange=function(){o.endDate=o.startDate?"":o.startDate},o.onEndDateChange=function(){Number(new Date(o.startDate))>Number(new Date(o.endDate))&&(o.endDate="",swal({title:"End date must be greater then start date.",text:"",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Close",closeOnConfirm:!0,inputType:"text",html:!0},function(){}))},o.searchHistory=function(){return o.currentPage=1,o.userNameFilter||o.startDate||o.endDate?o.minRake&&o.maxRake&&o.minRake>o.maxRake||o.minHandsPlayed&&o.maxHandsPlayed&&o.minHandsPlayed>o.maxHandsPlayed||o.minPercentHandsWon&&o.maxPercentHandsWon&&o.minPercentHandsWon>o.maxPercentHandsWon||o.minWinnings&&o.maxWinnings&&o.minWinnings>o.maxWinnings?void swal("Please enter a valid input!"):o.minRake&&o.minRake<0||o.maxRake&&o.maxRake<0||o.minHandsPlayed&&o.minHandsPlayed<0||o.maxHandsPlayed&&o.maxHandsPlayed<0||o.minPercentHandsWon&&o.minPercentHandsWon<0||o.maxPercentHandsWon&&o.maxPercentHandsWon<0||o.minWinnings&&o.minWinnings<0||o.maxWinnings&&o.maxWinnings<0||o.minPercentHandsWon&&o.minPercentHandsWon<0||o.maxPercentHandsWon&&o.maxPercentHandsWon<0?void swal("Input fields cannot contain negative values."):(o.queryObject={},o.userNameFilter&&""!==o.userNameFilter&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.userName=o.userNameFilter),o.queryObject.containsFilters=!1,o.userId&&(o.queryObject.containsFilters=!0,o.queryObject.userId=o.userId),o.city&&(o.queryObject.containsFilters=!0,o.queryObject.city=o.city),o.minRake&&(o.queryObject.containsFilters=!0,o.queryObject.minRake=o.minRake),o.maxRake&&(o.queryObject.containsFilters=!0,o.queryObject.maxRake=o.maxRake),o.minHandsPlayed&&(o.queryObject.containsFilters=!0,o.queryObject.minHandsPlayed=o.minHandsPlayed),o.maxHandsPlayed&&(o.queryObject.containsFilters=!0,o.queryObject.maxHandsPlayed=o.maxHandsPlayed),o.minPercentHandsWon&&(o.queryObject.containsFilters=!0,o.queryObject.minPercentHandsWon=o.minPercentHandsWon),o.maxPercentHandsWon&&(o.queryObject.containsFilters=!0,o.queryObject.maxPercentHandsWon=o.maxPercentHandsWon),o.minWinnings&&(o.queryObject.containsFilters=!0,o.queryObject.minWinnings=o.minWinnings),o.maxWinnings&&(o.queryObject.containsFilters=!0,o.queryObject.maxWinnings=o.maxWinnings),(Number(new Date(o.startDate))>0||Number(new Date(o.endDate))>0)&&(o.queryObject.createdAt={},o.queryObject.createdAt.$gte=Number($(".date-picker1").data("datepicker").getUTCDate()),o.queryObject.createdAt.$lte=Number($(".date-picker2").data("datepicker").getUTCDate())+864e5),console.log("************** queryObject in playerReportController",o.queryObject),void o.countData()):(swal("Please provide any one filter."),!1)},o.countData(),o.sortTableByRake=function(){i*=-1,1==i?o.listHistory.sort(function(e,t){return parseFloat(e.totalRake)-parseFloat(t.totalRake)}):o.listHistory.sort(function(e,t){return parseFloat(t.totalRake)-parseFloat(e.totalRake)})},o.sortTableByChipsBalance=function(){g*=-1,1==g?o.listHistory.sort(function(e,t){return parseFloat(e.realChips)-parseFloat(t.realChips)}):o.listHistory.sort(function(e,t){return parseFloat(t.realChips)-parseFloat(e.realChips)})},o.sortTableByHandsPlayed=function(){u*=-1,1==u?o.listHistory.sort(function(e,t){return parseInt(e.statistics.handsPlayedRM)-parseInt(t.statistics.handsPlayedRM)}):o.listHistory.sort(function(e,t){return parseInt(t.statistics.handsPlayedRM)-parseInt(e.statistics.handsPlayedRM)})},o.sortTableByHandsWon=function(){d*=-1,1==d?o.listHistory.sort(function(e,t){return parseInt(e.statistics.handsWonRM)-parseInt(t.statistics.handsWonRM)}):o.listHistory.sort(function(e,t){return parseInt(t.statistics.handsWonRM)-parseInt(e.statistics.handsWonRM)})},o.sortTableByTotalWinnings=function(){p*=-1,1==p?o.listHistory.sort(function(e,t){return parseFloat(e.totalWinnings)-parseFloat(t.totalWinnings)}):o.listHistory.sort(function(e,t){return parseFloat(t.totalWinnings)-parseFloat(e.totalWinnings)})},o.sortTableByTournamentsPlayed=function(){m*=-1,1==m?o.listHistory.sort(function(e,t){return parseFloat(e.tournamentsPlayed)-parseFloat(t.tournamentsPlayed)}):o.listHistory.sort(function(e,t){return parseFloat(t.tournamentsPlayed)-parseFloat(e.tournamentsPlayed)})},o.sortTableByName=function(){c*=-1,1==c?o.listHistory.sort(function(e,t){return e.userName>t.userName?-1:e.userName<t.userName?1:void 0}):o.listHistory.sort(function(e,t){return e.userName<t.userName?-1:e.userName>t.userName?1:void 0})};var f=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.init(0,0,function(){t.scrollTo(0,0),n(function(){location.href=f(e,"sheet_name"),o.init(0,20)},500)})}}]),angular.module("MetronicApp").controller("ScratchCardHistoryCtrl",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){function i(){o.queryObject={},o.loginId="",o.loginType="",o.promoCode="",o.type="",o.status="",o.startDate="",o.endDate="",o.referenceNo="",o.transferType="",o.scratchID=""}if(o.$on("$viewContentLoaded",function(){App.initAjax()}),s.settings.layout.pageContentWhite=!0,s.settings.layout.pageBodySolid=!1,s.settings.layout.pageSidebarClosed=!1,!s.isAdminLogin)return console.log("yes"),void e.path("/login.html");o.pageSize=20,o.currentPage=1,o.totalPage=0,o.sortValue="createdAt";var c={name:s.poker_name,userName:s.poker_userName,role:s.poker_role,id:s.poker_email,mobile:s.poker_loggedinUserMobileNum};"string"==typeof c.role&&(c.role=JSON.parse(c.role)),o.newPageList=function(){o.listTables((o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},$(".date-picker").datepicker({autoclose:!0}),o.loginId="",o.loginType="",o.promoCode="",o.type="",o.status="",o.startDate="",o.endDate="",o.queryObject={},o.listTables=function(e,t,a){var s=o.queryObject;s.skip=e,s.limit=t,c.role.level<1&&(s.scratchCardType="AFFILIATE",s.affiliateId=c.userName),s.sortValue=o.sortValue,console.log("___________________________________________________",c),l.post("/getScratchCardHistory",s).success(function(e){if(e.success){console.log(e.result.length),0==e.result.length&&swal("No data found.");for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1;o.dataList=e.result,a instanceof Function&&setTimeout(function(){a()},100)}}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},o.countData=function(){var e=s.poker_role;"string"==typeof s.poker_role&&(e=JSON.parse(s.poker_role));var t=o.queryObject;console.log("line 123 ",c),c.role.level<1&&(t.scratchCardType="AFFILIATE",t.affiliateId=c.userName),delete t.skip,delete t.limit,delete t.sortValue,console.log("count data == ",t),l.post("/getScratchCardHistoryCount",t).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):(swal(JSON.stringify(e)),swal("Missing Keys"))}).error(function(e){swal("Error!","Getting error from server in showing history",e.stack)})},o.searchHistory=function(){if(o.currentPage=1,o.loginType||o.type||o.promoCode||o.status||o.referenceNo||o.transferType||o.scratchID){if("all"!==o.loginType&&""!==o.loginType&&o.loginId.length>0&&(o.queryObject[o.loginType+".userName"]=o.loginId),"all"!==o.type&&""!==o.type&&(o.queryObject.scratchCardType=o.type),o.promoCode.length>0&&""!==o.promoCode&&(o.queryObject.promoCode=o.promoCode.toUpperCase()),"all"!==o.status&&""!==o.status&&(o.queryObject.status=o.status),o.referenceNo&&(o.queryObject.generationId=o.referenceNo),o.transferType&&(o.queryObject.transactionType=o.transferType),o.scratchID){if(6!=o.scratchID.length)return swal("Error","Please enter last 6 digits for scratch card."),!1;o.queryObject.code={$regex:o.scratchID+"$"}}(Number(new Date(o.startDate))>0||Number(new Date(o.endDate))>0)&&(o.queryObject.createdAt={},Number(new Date(o.startDate))>0&&(o.queryObject.createdAt.$gte=Number(new Date(o.startDate))),Number(new Date(o.endDate))>0&&(o.queryObject.createdAt.$lte=Number(new Date(o.endDate))+864e5));JSON.parse(s.poker_role);console.log("**************\n",JSON.stringify(o.queryObject)),o.countData()}else swal("Please provide at least one input.")},o.reset=function(){i(),o.countData()},o.onStartDateChange=function(){o.endDate=o.startDate?"":o.startDate},o.onEndDateChange=function(){Number(new Date(o.startDate))>Number(new Date(o.endDate))&&(o.endDate="",swal({title:"End date must be greater then start date.",text:"",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Close",closeOnConfirm:!0,inputType:"text",html:!0},function(){}))};var u=function(e,t){console.log("function called");var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return a.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:t,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",c),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.listTables(0,0,function(){a.scrollTo(0,0),n(function(){location.href=u(e,"sheet_name"),o.listTables(0,20)},500)})},o.countData()}]),angular.module("MetronicApp").controller("transactionHistoryReportController",["$location","$window","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){function i(){o.queryObject={}}o.listBonus=[],console.log("Inside transactionHistoryReportController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.sortValue="date",o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),t.scrollTo(0,0)},o.setDisabled=!1,o.countData=function(){console.log("$$$$$$$$$$$$$$$$$$",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName,o.userNameFilter=s.poker_userName,o.setDisabled=!0);var e=o.queryObject;e.sortValue=o.sortValue,l.post("/countDataInTransactionHistory",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList()):swal("Missing Keys")}).error(function(e){swal("Getting error from server in showing transaction history",e.stack),
i()})},o.init=function(e,t,a){showList=!0;var r={};console.log("$$$$$$$$$$$$$$$$$$4",s.poker_userName),JSON.parse(s.poker_role).level<=0&&(o.queryObject.loginId=s.poker_userName,o.userNameFilter=s.poker_userName),r=o.queryObject,r.sortValue=o.sortValue,r.skip=e,r.limit=t,l.post("/listTransactionHistory",r).success(function(e){0==e.result.length&&swal("No data found.");for(var t=0;t<e.result.length;t++)e.result[t].index=(o.currentPage-1)*o.pageSize+t+1,e.result[t].amount=String(e.result[t].amount).split("").reverse().join("").replace(/(\d{3}\B)/g,"$1,").split("").reverse().join("");console.log("The result in transactionHistoryReportController",e.result),o.listTransaction=e.result,a instanceof Function&&setTimeout(function(){a()},100)}).error(function(e){swal("Error!","Getting error from server in showing transaction History"),i()})},o.searchHistory=function(){return o.currentPage=1,o.queryObject={},o.userNameFilter||o.bonusCodeFilter||o.transferTypeFilter||o.transferModeFilter||o.referenceNoFilter?(o.userNameFilter&&""!==o.userNameFilter&&JSON.parse(s.poker_role).level>0&&(console.log("Inside userNameFilter",o.userNameFilter),o.queryObject.Name=o.userNameFilter),o.bonusCodeFilter&&""!==o.bonusCodeFilter&&(console.log("Inside bonusCodeFilter",o.bonusCodeFilter),o.queryObject.bonusCode=o.bonusCodeFilter.toUpperCase()),o.transferTypeFilter&&""!==o.transferTypeFilter&&(console.log("Inside transferTypeFilter",o.transferTypeFilter),o.queryObject.transactionType=o.transferTypeFilter),o.transferModeFilter&&""!==o.transferModeFilter&&(console.log("Inside transferModeFilter",o.transferModeFilter),o.queryObject.transferMode=o.transferModeFilter),o.referenceNoFilter&&""!==o.referenceNoFilter&&(console.log("Inside referenceNoFilter",o.referenceNoFilter),o.queryObject.referenceNumber=o.referenceNoFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),void o.countData()):(swal("Please provide atleast one filter"),!1)},o.reset=function(){o.userNameFilter="",o.bonusCodeFilter="",o.transferTypeFilter="",o.transferModeFilter="",o.referenceNoFilter="",o.queryObject={},o.countData()};var c=function(e,a){var s="data:application/vnd.ms-excel;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',r=function(e){return t.btoa(unescape(encodeURIComponent(e)))},l=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},n=$(e),i={worksheet:a,table:n.html()},c=s+r(l(o,i));return console.log("ctx ",n.context),c};o.exportData=function(e){console.log("totalpage____________________________"+o.totalPage),o.init(0,0,function(){t.scrollTo(0,0),n(function(){location.href=c(e,"sheet_name"),o.init(0,20)},500)})},o.countData()}]),angular.module("MetronicApp").controller("withdrawChipsController",["$location","$cookies","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l){console.log("Inside withdrawchipsController  @@@@@@@@@");var n={};a.isAdminLogin||(console.log("yes"),e.path("/login.html")),s.formdata={},s.formdata.transactionType="Debit",s.toggleChips=a.poker_role,s.init=function(){console.log(s.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of fundTransferController is",t.getAll()),n.transferTo=s.transferTo,n.amount=s.formdata.amount,n.transactionType=s.formdata.transactionType,n.description=s.formdata.description,n.role=JSON.parse(a.poker_role),n.transferBy=a.poker_email,n.Name=a.poker_userName;var e=JSON.parse(a.poker_role);return console.log("the fundTransferData is ",JSON.stringify(n)),s.transferTo&&s.formdata.amount?(console.log("All fields are present"),void("admin"==e.name?r.post("/transferFundChips",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e)):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")}):(n.Affiliate=a.poker_email,r.post("/transferChipsByAffiliateToPlayer",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e)):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})))):(console.log("Some fields are missing"),void swal("Some Fields are missing"))},s.fundTransferToAffiliate=function(){return console.log(s.transferTo),console.log(s.formdata.amount),console.log(a.poker_userName),console.log(a.poker_role),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of fundTransferToAffiliate is",t.getAll()),n.transferTo=s.transferTo,n.amount=s.formdata.amount,n.transactionType=s.formdata.transactionType,n.description=s.formdata.description,n.role=JSON.parse(a.poker_role),n.transferBy=a.poker_email,n.Name=a.poker_userName,console.log("the fundTransferData in fundTransferToAffiliate is ",JSON.stringify(n)),s.transferTo&&s.formdata.amount?(console.log("All fields are present"),void r.post("/transferFundChipsToAffiliate",n).success(function(e){e.success?(swal("Chips Transfer Successful!!"),console.log(e)):swal(e.result)}).error(function(e){swal("Getting error from server in fund transfer ")})):(console.log("Some fields are missing"),void swal("Some Fields are missing"))};var i={};s.withdrawChips=function(){console.log(s.formdata.withdrawFrom),console.log(s.formdata.amount),console.log(a.poker_email),console.log(s.formdata.transactionType),console.log(s.formdata.description),console.log("the value inside cookies of withdrawChips is",t.getAll()),i.withdrawFrom=s.formdata.withdrawFrom,i.amount=s.formdata.amount,i.Affiliate=a.poker_userName,i.transactionType=s.formdata.transactionType,i.description=s.formdata.description,i.role=JSON.parse(a.poker_role),i.name=a.poker_name,i.userName=a.poker_userName;var e=JSON.parse(a.poker_role);return console.log("the withdrawChipsData in withdrawChipsController is----- ",JSON.stringify(i)),s.formdata.withdrawFrom&&s.formdata.amount?(console.log("All fields are present"),void("admin"==e.name?swal({title:"Are you sure you want to pull chips ?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/withdrawChipsAdmin",i).success(function(e){e.success?(swal("Withdraw Successful!!"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine()):swal(e.result)}).error(function(e){swal("Getting error from server in withdrawing ")})}):swal({title:"Are you sure you want to pull chips ?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Proceed",closeOnConfirm:!1,inputType:"text",html:!0},function(){r.post("/withdrawChips",i).success(function(e){e.success?(swal("Withdraw Successful!!"),console.log(e),s.formdata={},s.generateBonusForm.$setPristine()):swal(e.result)}).error(function(e){swal("Getting error from server in withdrawing ")})}))):(console.log("Some fields are missing"),void swal("Some Fields are missing"))}}]),angular.module("MetronicApp").controller("withdrawHistoryController",["$location","$cookies","$window","$rootScope","$scope","$stateParams","$http","$timeout",function(e,t,a,s,o,r,l,n){function i(){o.queryObject={}}o.listBonus=[],console.log("Inside withdrawHistoryController @@@@@@@@@"),s.isAdminLogin||(console.log("yes"),e.path("/login.html")),o.pageSize=20,o.currentPage=1,o.totalPage=0,o.queryObject={},o.newPageList=function(){o.init((o.currentPage-1)*o.pageSize,o.pageSize),a.scrollTo(0,0)},o.countData=function(){var e=o.queryObject;e.userName=s.poker_userName,e.role=JSON.parse(s.poker_role),l.post("/countWithdrawHistory",e).success(function(e){e.success?(o.totalPage=e.result,o.newPageList(),i()):alert("Missing Keys")}).error(function(e){alert(e),alert("Getting error from server in showing withdraw History",e.stack),i()})},o.init=function(e,a){showList=!0;var r=o.queryObject;r.skip=e,r.limit=a,r.userName=s.poker_userName,r.role=JSON.parse(s.poker_role),console.log("Inside withdrawhistory Controller",t.getAll()),l.post("/withdrawHistory",r).success(function(e){console.log("The result in withdrawHistory",e);for(var t=0;t<e.result.length;t++){var a=new Date(e.result[t].date),s=a.getMonth()+1,r=a.getDate(),l=a.getFullYear(),n=r+"-"+s+"-"+l;console.log(n),e.result[t].date=n}o.listHistory=e.result,console.log("######### res.result",e.result),i()}).error(function(e){swal("Getting error from server in showing Bonus Deposit"),i()})},o.searchHistory=function(){o.currentPage=1,o.playerNameFilter&&""!==o.playerNameFilter&&(console.log("Inside playerNameFilter",o.playerNameFilter),o.queryObject.withdrawFrom=o.playerNameFilter),o.pulledByFilter&&""!==o.pulledByFilter&&(console.log("Inside pulledByFilter",o.pulledByFilter),o.queryObject.Affiliate=o.pulledByFilter),o.transferTypeFilter&&""!==o.transferTypeFilter&&(console.log("Inside transferTypeFilter",o.transferTypeFilter),o.queryObject.transactionType=o.transferTypeFilter),console.log("************** queryObject",JSON.stringify(o.queryObject)),o.countData()},o.countData()}]);